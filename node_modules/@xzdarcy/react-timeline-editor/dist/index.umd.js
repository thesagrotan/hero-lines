(function(pt,_e){typeof exports=="object"&&typeof module<"u"?_e(exports,require("react/jsx-runtime"),require("react")):typeof define=="function"&&define.amd?define(["exports","react/jsx-runtime","react"],_e):(pt=typeof globalThis<"u"?globalThis:pt||self,_e(pt["react-timeline-editor"]={},pt.ReactJsxRuntime,pt.React))})(this,(function(pt,_e,K){"use strict";function Po(s){const i=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(s){for(const r in s)if(r!=="default"){const e=Object.getOwnPropertyDescriptor(s,r);Object.defineProperty(i,r,e.get?e:{enumerable:!0,get:()=>s[r]})}}return i.default=s,Object.freeze(i)}const ce=Po(K);class Mo{constructor(i){this.events={},this.events=i.handlers}on(i,r){return(i instanceof Array?i:i.split(" ")).forEach(a=>{if(!this.events[a])throw new Error(`The event ${a} does not exist`);this.events[a].push(r)}),this}trigger(i,r){if(!(i in this.events))throw new Error(`The event ${String(i)} cannot be triggered`);return this.events[i].reduce((e,a)=>a(r)!==!1&&e,!0)}bind(i){if(this.events[i])throw new Error(`The event ${i} is already bound`);this.events[i]=[]}exist(i){return Array.isArray(this.events[i])}off(i,r){if(this.events[i]){const e=this.events[i];if(!r)this.events[i]=[];else{const a=e.indexOf(r);a!==-1&&e.splice(a,1)}}}offAll(){this.events=Object.fromEntries(Object.keys(this.events).map(i=>[i,[]]))}}class Ao{constructor(i={}){this.handlers={},this.handlers={beforeSetTime:[],afterSetTime:[],setTimeByTick:[],beforeSetPlayRate:[],afterSetPlayRate:[],setActiveActionIds:[],play:[],paused:[],ended:[],...i}}}const ko="playing",Do="paused";class Lo extends Mo{constructor(){super(new Ao),this._playRate=1,this._currentTime=0,this._playState="paused",this._prev=0,this._effectMap={},this._actionMap={},this._actionSortIds=[],this._next=0,this._activeActionIds=[]}get isPlaying(){return this._playState==="playing"}get isPaused(){return this._playState==="paused"}set effects(i){this._effectMap=i}set data(i){this.isPlaying&&this.pause(),this._dealData(i),this._dealClear(),this._dealEnter(this._currentTime)}setPlayRate(i){return i<=0?(console.error("Error: rate cannot be less than 0!"),!1):this.trigger("beforeSetPlayRate",{rate:i,engine:this})?(this._playRate=i,this.trigger("afterSetPlayRate",{rate:i,engine:this}),!0):!1}getPlayRate(){return this._playRate}reRender(){this.isPlaying||this._tickAction(this._currentTime)}setTime(i,r){return r||this.trigger("beforeSetTime",{time:i,engine:this})?(this._currentTime=i,this._next=0,this._dealLeave(i),this._dealEnter(i),r?this.trigger("setTimeByTick",{time:i,engine:this}):this.trigger("afterSetTime",{time:i,engine:this}),!0):!1}getTime(){return this._currentTime}play(i){const{toTime:r,autoEnd:e}=i,a=this.getTime();return this.isPlaying||r&&r<=a?!1:(this._playState=ko,this._startOrStop("start"),this.trigger("play",{engine:this}),this._timerId=requestAnimationFrame(c=>{this._prev=c,this._tick({now:c,autoEnd:e,to:r})}),!0)}pause(){this.isPlaying&&(this._playState=Do,this._startOrStop("stop"),this.trigger("paused",{engine:this})),this._timerId&&cancelAnimationFrame(this._timerId)}_end(){this.pause(),this.trigger("ended",{engine:this})}_startOrStop(i){for(let r=0;r<this._activeActionIds.length;r++){const e=this._activeActionIds[r],a=this._actionMap[e],c=this._effectMap[a?.effectId];i==="start"?c?.source?.start&&c.source.start({action:a,effect:c,engine:this,isPlaying:this.isPlaying,time:this.getTime()}):i==="stop"&&c?.source?.stop&&c.source.stop({action:a,effect:c,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}}_tick(i){if(this.isPaused)return;const{now:r,autoEnd:e,to:a}=i;let c=this.getTime()+Math.min(1e3,r-this._prev)/1e3*this._playRate;if(this._prev=r,a&&a<=c&&(c=a),this.setTime(c,!0),this._tickAction(c),!a&&e&&this._next>=this._actionSortIds.length&&this._activeActionIds.length===0){this._end();return}a&&a<=c&&this._end(),!this.isPaused&&(this._timerId=requestAnimationFrame(u=>{this._tick({now:u,autoEnd:e,to:a})}))}_tickAction(i){this._dealEnter(i),this._dealLeave(i);const r=this._activeActionIds.length;for(let e=0;e<r;e++){const a=this._activeActionIds[e],c=this._actionMap[a],u=this._effectMap[c.effectId];u&&u.source?.update&&u.source.update({time:i,action:c,isPlaying:this.isPlaying,effect:u,engine:this})}}_dealClear(){for(;this._activeActionIds.length;){const i=this._activeActionIds.shift(),r=this._actionMap[i],e=this._effectMap[r?.effectId];e?.source?.leave&&e.source.leave({action:r,effect:e,engine:this,isPlaying:this.isPlaying,time:this.getTime()})}this._next=0}_dealEnter(i){for(;this._actionSortIds[this._next];){const r=this._actionSortIds[this._next],e=this._actionMap[r];if(!e.disable){if(e.start>i)break;if(e.end>i&&!this._activeActionIds.includes(r)){const a=this._effectMap[e.effectId];a&&a.source?.enter&&a.source.enter({action:e,effect:a,isPlaying:this.isPlaying,time:i,engine:this}),this._activeActionIds.push(r)}}this._next++}}_dealLeave(i){let r=0;for(;this._activeActionIds[r];){const e=this._activeActionIds[r],a=this._actionMap[e];if(a.start>i||a.end<i){const c=this._effectMap[a.effectId];c&&c.source?.leave&&c.source.leave({action:a,effect:c,isPlaying:this.isPlaying,time:i,engine:this}),this._activeActionIds.splice(r,1);continue}r++}}_dealData(i){const r=[];i.map(u=>{r.push(...u.actions)});const e=r.sort((u,h)=>u.start-h.start),a={},c=[];e.forEach(u=>{c.push(u.id),a[u.id]={...u}}),this._actionMap=a,this._actionSortIds=c}}function Ge(s,i){if(!(s instanceof i))throw new TypeError("Cannot call a class as a function")}function wt(s){"@babel/helpers - typeof";return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},wt(s)}function Go(s,i){if(wt(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var e=r.call(s,i);if(wt(e)!="object")return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(s)}function ur(s){var i=Go(s,"string");return wt(i)=="symbol"?i:i+""}function dr(s,i){for(var r=0;r<i.length;r++){var e=i[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,ur(e.key),e)}}function We(s,i,r){return i&&dr(s.prototype,i),r&&dr(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}function Wo(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Be(s,i){if(i&&(wt(i)=="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wo(s)}function Oe(s){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},Oe(s)}function _n(s,i){return _n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r},_n(s,i)}function qe(s,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(i&&i.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),i&&_n(s,i)}function O(s,i,r){return(i=ur(i))in s?Object.defineProperty(s,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[i]=r,s}function fr(){var s=this.constructor.getDerivedStateFromProps(this.props,this.state);s!=null&&this.setState(s)}function hr(s){function i(r){var e=this.constructor.getDerivedStateFromProps(s,r);return e??null}this.setState(i.bind(this))}function pr(s,i){try{var r=this.props,e=this.state;this.props=s,this.state=i,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,e)}finally{this.props=r,this.state=e}}fr.__suppressDeprecationWarning=!0,hr.__suppressDeprecationWarning=!0,pr.__suppressDeprecationWarning=!0;function Gt(s){var i=s.prototype;if(!i||!i.isReactComponent)throw new Error("Can only polyfill class components");if(typeof s.getDerivedStateFromProps!="function"&&typeof i.getSnapshotBeforeUpdate!="function")return s;var r=null,e=null,a=null;if(typeof i.componentWillMount=="function"?r="componentWillMount":typeof i.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof i.componentWillReceiveProps=="function"?e="componentWillReceiveProps":typeof i.UNSAFE_componentWillReceiveProps=="function"&&(e="UNSAFE_componentWillReceiveProps"),typeof i.componentWillUpdate=="function"?a="componentWillUpdate":typeof i.UNSAFE_componentWillUpdate=="function"&&(a="UNSAFE_componentWillUpdate"),r!==null||e!==null||a!==null){var c=s.displayName||s.name,u=typeof s.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+c+" uses "+u+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(e!==null?`
  `+e:"")+(a!==null?`
  `+a:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof s.getDerivedStateFromProps=="function"&&(i.componentWillMount=fr,i.componentWillReceiveProps=hr),typeof i.getSnapshotBeforeUpdate=="function"){if(typeof i.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");i.componentWillUpdate=pr;var h=i.componentDidUpdate;i.componentDidUpdate=function(m,S,b){var C=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:b;h.call(this,m,S,C)}}return s}function vr(s,i){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),r.push.apply(r,e)}return r}function gr(s){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?vr(Object(r),!0).forEach(function(e){O(s,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):vr(Object(r)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(r,e))})}return s}function jo(s,i,r){return i=Oe(i),Be(s,mr()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function mr(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mr=function(){return!!s})()}var yr=(function(s){function i(){var r;Ge(this,i);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return r=jo(this,i,[].concat(a)),O(r,"state",{scrollToColumn:0,scrollToRow:0,instanceProps:{prevScrollToColumn:0,prevScrollToRow:0}}),O(r,"_columnStartIndex",0),O(r,"_columnStopIndex",0),O(r,"_rowStartIndex",0),O(r,"_rowStopIndex",0),O(r,"_onKeyDown",function(u){var h=r.props,v=h.columnCount,m=h.disabled,S=h.mode,b=h.rowCount;if(!m){var C=r._getScrollState(),T=C.scrollToColumn,E=C.scrollToRow,z=r._getScrollState(),k=z.scrollToColumn,L=z.scrollToRow;switch(u.key){case"ArrowDown":L=Math.min(S==="cells"?L+1:r._rowStopIndex+1,b-1);break;case"ArrowLeft":k=Math.max(S==="cells"?k-1:r._columnStartIndex-1,0);break;case"ArrowRight":k=Math.min(S==="cells"?k+1:r._columnStopIndex+1,v-1);break;case"ArrowUp":L=Math.max(S==="cells"?L-1:r._rowStartIndex-1,0);break}(k!==T||L!==E)&&(u.preventDefault(),r._updateScrollState({scrollToColumn:k,scrollToRow:L}))}}),O(r,"_onSectionRendered",function(u){var h=u.columnStartIndex,v=u.columnStopIndex,m=u.rowStartIndex,S=u.rowStopIndex;r._columnStartIndex=h,r._columnStopIndex=v,r._rowStartIndex=m,r._rowStopIndex=S}),r}return qe(i,s),We(i,[{key:"setScrollIndexes",value:function(e){var a=e.scrollToColumn,c=e.scrollToRow;this.setState({scrollToRow:c,scrollToColumn:a})}},{key:"render",value:function(){var e=this.props,a=e.className,c=e.children,u=this._getScrollState(),h=u.scrollToColumn,v=u.scrollToRow;return ce.createElement("div",{className:a,onKeyDown:this._onKeyDown},c({onSectionRendered:this._onSectionRendered,scrollToColumn:h,scrollToRow:v}))}},{key:"_getScrollState",value:function(){return this.props.isControlled?this.props:this.state}},{key:"_updateScrollState",value:function(e){var a=e.scrollToColumn,c=e.scrollToRow,u=this.props,h=u.isControlled,v=u.onScrollToChange;typeof v=="function"&&v({scrollToColumn:a,scrollToRow:c}),h||this.setState({scrollToColumn:a,scrollToRow:c})}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.isControlled?{}:e.scrollToColumn!==a.instanceProps.prevScrollToColumn||e.scrollToRow!==a.instanceProps.prevScrollToRow?gr(gr({},a),{},{scrollToColumn:e.scrollToColumn,scrollToRow:e.scrollToRow,instanceProps:{prevScrollToColumn:e.scrollToColumn,prevScrollToRow:e.scrollToRow}}):{}}}])})(ce.PureComponent);O(yr,"defaultProps",{disabled:!1,isControlled:!1,mode:"edges",scrollToColumn:0,scrollToRow:0}),Gt(yr);function Sr(s,i){var r;typeof i<"u"?r=i:typeof window<"u"?r=window:typeof self<"u"?r=self:r=global;var e=typeof r.document<"u"&&r.document.attachEvent;if(!e){var a=(function(){var x=r.requestAnimationFrame||r.mozRequestAnimationFrame||r.webkitRequestAnimationFrame||function(j){return r.setTimeout(j,20)};return function(j){return x(j)}})(),c=(function(){var x=r.cancelAnimationFrame||r.mozCancelAnimationFrame||r.webkitCancelAnimationFrame||r.clearTimeout;return function(j){return x(j)}})(),u=function(j){var oe=j.__resizeTriggers__,ne=oe.firstElementChild,J=oe.lastElementChild,ue=ne.firstElementChild;J.scrollLeft=J.scrollWidth,J.scrollTop=J.scrollHeight,ue.style.width=ne.offsetWidth+1+"px",ue.style.height=ne.offsetHeight+1+"px",ne.scrollLeft=ne.scrollWidth,ne.scrollTop=ne.scrollHeight},h=function(j){return j.offsetWidth!=j.__resizeLast__.width||j.offsetHeight!=j.__resizeLast__.height},v=function(j){if(!(j.target.className&&typeof j.target.className.indexOf=="function"&&j.target.className.indexOf("contract-trigger")<0&&j.target.className.indexOf("expand-trigger")<0)){var oe=this;u(this),this.__resizeRAF__&&c(this.__resizeRAF__),this.__resizeRAF__=a(function(){h(oe)&&(oe.__resizeLast__.width=oe.offsetWidth,oe.__resizeLast__.height=oe.offsetHeight,oe.__resizeListeners__.forEach(function(ne){ne.call(oe,j)}))})}},m=!1,S="",b="animationstart",C="Webkit Moz O ms".split(" "),T="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),E="";{var z=r.document.createElement("fakeelement");if(z.style.animationName!==void 0&&(m=!0),m===!1){for(var k=0;k<C.length;k++)if(z.style[C[k]+"AnimationName"]!==void 0){E=C[k],S="-"+E.toLowerCase()+"-",b=T[k],m=!0;break}}}var L="resizeanim",q="@"+S+"keyframes "+L+" { from { opacity: 0; } to { opacity: 0; } } ",P=S+"animation: 1ms "+L+"; "}var W=function(j){if(!j.getElementById("detectElementResize")){var oe=(q||"")+".resize-triggers { "+(P||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',ne=j.head||j.getElementsByTagName("head")[0],J=j.createElement("style");J.id="detectElementResize",J.type="text/css",s!=null&&J.setAttribute("nonce",s),J.styleSheet?J.styleSheet.cssText=oe:J.appendChild(j.createTextNode(oe)),ne.appendChild(J)}},I=function(j,oe){if(e)j.attachEvent("onresize",oe);else{if(!j.__resizeTriggers__){var ne=j.ownerDocument,J=r.getComputedStyle(j);J&&J.position=="static"&&(j.style.position="relative"),W(ne),j.__resizeLast__={},j.__resizeListeners__=[],(j.__resizeTriggers__=ne.createElement("div")).className="resize-triggers";var ue=ne.createElement("div");ue.className="expand-trigger",ue.appendChild(ne.createElement("div"));var fe=ne.createElement("div");fe.className="contract-trigger",j.__resizeTriggers__.appendChild(ue),j.__resizeTriggers__.appendChild(fe),j.appendChild(j.__resizeTriggers__),u(j),j.addEventListener("scroll",v,!0),b&&(j.__resizeTriggers__.__animationListener__=function(ve){ve.animationName==L&&u(j)},j.__resizeTriggers__.addEventListener(b,j.__resizeTriggers__.__animationListener__))}j.__resizeListeners__.push(oe)}},V=function(j,oe){if(e)j.detachEvent("onresize",oe);else if(j.__resizeListeners__.splice(j.__resizeListeners__.indexOf(oe),1),!j.__resizeListeners__.length){j.removeEventListener("scroll",v,!0),j.__resizeTriggers__.__animationListener__&&(j.__resizeTriggers__.removeEventListener(b,j.__resizeTriggers__.__animationListener__),j.__resizeTriggers__.__animationListener__=null);try{j.__resizeTriggers__=!j.removeChild(j.__resizeTriggers__)}catch{}}};return{addResizeListener:I,removeResizeListener:V}}function _r(s,i){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),r.push.apply(r,e)}return r}function br(s){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?_r(Object(r),!0).forEach(function(e){O(s,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):_r(Object(r)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(r,e))})}return s}function Fo(s,i,r){return i=Oe(i),Be(s,wr()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function wr(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wr=function(){return!!s})()}var bn=(function(s){function i(){var r;Ge(this,i);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return r=Fo(this,i,[].concat(a)),O(r,"state",{height:r.props.defaultHeight||0,width:r.props.defaultWidth||0}),O(r,"_parentNode",void 0),O(r,"_autoSizer",void 0),O(r,"_window",void 0),O(r,"_detectElementResize",void 0),O(r,"_onResize",function(){var u=r.props,h=u.disableHeight,v=u.disableWidth,m=u.onResize;if(r._parentNode){var S=r._parentNode.offsetHeight||0,b=r._parentNode.offsetWidth||0,C=r._window||window,T=C.getComputedStyle(r._parentNode)||{},E=parseInt(T.paddingLeft,10)||0,z=parseInt(T.paddingRight,10)||0,k=parseInt(T.paddingTop,10)||0,L=parseInt(T.paddingBottom,10)||0,q=S-k-L,P=b-E-z;(!h&&r.state.height!==q||!v&&r.state.width!==P)&&(r.setState({height:S-k-L,width:b-E-z}),m({height:S,width:b}))}}),O(r,"_setRef",function(u){r._autoSizer=u}),r}return qe(i,s),We(i,[{key:"componentDidMount",value:function(){var e=this.props.nonce;this._autoSizer&&this._autoSizer.parentNode&&this._autoSizer.parentNode.ownerDocument&&this._autoSizer.parentNode.ownerDocument.defaultView&&this._autoSizer.parentNode instanceof this._autoSizer.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=this._autoSizer.parentNode,this._window=this._autoSizer.parentNode.ownerDocument.defaultView,this._detectElementResize=Sr(e,this._window),this._detectElementResize.addResizeListener(this._parentNode,this._onResize),this._onResize())}},{key:"componentWillUnmount",value:function(){this._detectElementResize&&this._parentNode&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize)}},{key:"render",value:function(){var e=this.props,a=e.children,c=e.className,u=e.disableHeight,h=e.disableWidth,v=e.style,m=this.state,S=m.height,b=m.width,C={overflow:"visible"},T={};return u||(C.height=0,T.height=S),h||(C.width=0,T.width=b),ce.createElement("div",{className:c,ref:this._setRef,style:br(br({},C),v)},a(T))}}])})(ce.Component);O(bn,"defaultProps",{onResize:function(){},disableHeight:!1,disableWidth:!1,style:{}});function No(s,i,r){return i=Oe(i),Be(s,Cr()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function Cr(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cr=function(){return!!s})()}var xr=(function(s){function i(){var r;Ge(this,i);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return r=No(this,i,[].concat(a)),O(r,"_child",ce.createRef()),O(r,"_measure",function(){var u=r.props,h=u.cache,v=u.columnIndex,m=v===void 0?0:v,S=u.parent,b=u.rowIndex,C=b===void 0?r.props.index||0:b,T=r._getCellMeasurements(),E=T.height,z=T.width;(E!==h.getHeight(C,m)||z!==h.getWidth(C,m))&&(h.set(C,m,z,E),S&&typeof S.recomputeGridSize=="function"&&S.recomputeGridSize({columnIndex:m,rowIndex:C}))}),O(r,"_registerChild",function(u){u&&!(u instanceof Element)&&console.warn("CellMeasurer registerChild expects to be passed Element or null"),r._child.current=u,u&&r._maybeMeasureCell()}),r}return qe(i,s),We(i,[{key:"componentDidMount",value:function(){this._maybeMeasureCell()}},{key:"componentDidUpdate",value:function(){this._maybeMeasureCell()}},{key:"render",value:function(){var e=this,a=this.props.children,c=typeof a=="function"?a({measure:this._measure,registerChild:this._registerChild}):a;return c===null?c:K.cloneElement(c,{ref:function(h){typeof c.ref=="function"?c.ref(h):c.ref&&(c.ref.current=h),e._child.current=h}})}},{key:"_getCellMeasurements",value:function(){var e=this.props.cache,a=this._child.current;if(a&&a.ownerDocument&&a.ownerDocument.defaultView&&a instanceof a.ownerDocument.defaultView.HTMLElement){var c=a.style.width,u=a.style.height;e.hasFixedWidth()||(a.style.width="auto"),e.hasFixedHeight()||(a.style.height="auto");var h=Math.ceil(a.offsetHeight),v=Math.ceil(a.offsetWidth);return c&&(a.style.width=c),u&&(a.style.height=u),{height:h,width:v}}else return{height:0,width:0}}},{key:"_maybeMeasureCell",value:function(){var e=this.props,a=e.cache,c=e.columnIndex,u=c===void 0?0:c,h=e.parent,v=e.rowIndex,m=v===void 0?this.props.index||0:v;if(!a.has(m,u)){var S=this._getCellMeasurements(),b=S.height,C=S.width;a.set(m,u,C,b),h&&typeof h.invalidateCellSizeAfterRender=="function"&&h.invalidateCellSizeAfterRender({columnIndex:u,rowIndex:m})}}}])})(ce.PureComponent);O(xr,"__internalCellMeasurerFlag",!1),process.env.NODE_ENV!=="production"&&(xr.__internalCellMeasurerFlag=!0);function Ho(s){if(s==null)throw new TypeError("Cannot destructure "+s)}function et(){return et=Object.assign?Object.assign.bind():function(s){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var e in r)({}).hasOwnProperty.call(r,e)&&(s[e]=r[e])}return s},et.apply(null,arguments)}function Tr(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var en={exports:{}},tn={exports:{}},Pe={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr;function $o(){if(Rr)return Pe;Rr=1;var s=typeof Symbol=="function"&&Symbol.for,i=s?Symbol.for("react.element"):60103,r=s?Symbol.for("react.portal"):60106,e=s?Symbol.for("react.fragment"):60107,a=s?Symbol.for("react.strict_mode"):60108,c=s?Symbol.for("react.profiler"):60114,u=s?Symbol.for("react.provider"):60109,h=s?Symbol.for("react.context"):60110,v=s?Symbol.for("react.async_mode"):60111,m=s?Symbol.for("react.concurrent_mode"):60111,S=s?Symbol.for("react.forward_ref"):60112,b=s?Symbol.for("react.suspense"):60113,C=s?Symbol.for("react.suspense_list"):60120,T=s?Symbol.for("react.memo"):60115,E=s?Symbol.for("react.lazy"):60116,z=s?Symbol.for("react.block"):60121,k=s?Symbol.for("react.fundamental"):60117,L=s?Symbol.for("react.responder"):60118,q=s?Symbol.for("react.scope"):60119;function P(I){if(typeof I=="object"&&I!==null){var V=I.$$typeof;switch(V){case i:switch(I=I.type,I){case v:case m:case e:case c:case a:case b:return I;default:switch(I=I&&I.$$typeof,I){case h:case S:case E:case T:case u:return I;default:return V}}case r:return V}}}function W(I){return P(I)===m}return Pe.AsyncMode=v,Pe.ConcurrentMode=m,Pe.ContextConsumer=h,Pe.ContextProvider=u,Pe.Element=i,Pe.ForwardRef=S,Pe.Fragment=e,Pe.Lazy=E,Pe.Memo=T,Pe.Portal=r,Pe.Profiler=c,Pe.StrictMode=a,Pe.Suspense=b,Pe.isAsyncMode=function(I){return W(I)||P(I)===v},Pe.isConcurrentMode=W,Pe.isContextConsumer=function(I){return P(I)===h},Pe.isContextProvider=function(I){return P(I)===u},Pe.isElement=function(I){return typeof I=="object"&&I!==null&&I.$$typeof===i},Pe.isForwardRef=function(I){return P(I)===S},Pe.isFragment=function(I){return P(I)===e},Pe.isLazy=function(I){return P(I)===E},Pe.isMemo=function(I){return P(I)===T},Pe.isPortal=function(I){return P(I)===r},Pe.isProfiler=function(I){return P(I)===c},Pe.isStrictMode=function(I){return P(I)===a},Pe.isSuspense=function(I){return P(I)===b},Pe.isValidElementType=function(I){return typeof I=="string"||typeof I=="function"||I===e||I===m||I===c||I===a||I===b||I===C||typeof I=="object"&&I!==null&&(I.$$typeof===E||I.$$typeof===T||I.$$typeof===u||I.$$typeof===h||I.$$typeof===S||I.$$typeof===k||I.$$typeof===L||I.$$typeof===q||I.$$typeof===z)},Pe.typeOf=P,Pe}var Me={};/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ir;function Uo(){return Ir||(Ir=1,process.env.NODE_ENV!=="production"&&(function(){var s=typeof Symbol=="function"&&Symbol.for,i=s?Symbol.for("react.element"):60103,r=s?Symbol.for("react.portal"):60106,e=s?Symbol.for("react.fragment"):60107,a=s?Symbol.for("react.strict_mode"):60108,c=s?Symbol.for("react.profiler"):60114,u=s?Symbol.for("react.provider"):60109,h=s?Symbol.for("react.context"):60110,v=s?Symbol.for("react.async_mode"):60111,m=s?Symbol.for("react.concurrent_mode"):60111,S=s?Symbol.for("react.forward_ref"):60112,b=s?Symbol.for("react.suspense"):60113,C=s?Symbol.for("react.suspense_list"):60120,T=s?Symbol.for("react.memo"):60115,E=s?Symbol.for("react.lazy"):60116,z=s?Symbol.for("react.block"):60121,k=s?Symbol.for("react.fundamental"):60117,L=s?Symbol.for("react.responder"):60118,q=s?Symbol.for("react.scope"):60119;function P(H){return typeof H=="string"||typeof H=="function"||H===e||H===m||H===c||H===a||H===b||H===C||typeof H=="object"&&H!==null&&(H.$$typeof===E||H.$$typeof===T||H.$$typeof===u||H.$$typeof===h||H.$$typeof===S||H.$$typeof===k||H.$$typeof===L||H.$$typeof===q||H.$$typeof===z)}function W(H){if(typeof H=="object"&&H!==null){var ee=H.$$typeof;switch(ee){case i:var ie=H.type;switch(ie){case v:case m:case e:case c:case a:case b:return ie;default:var de=ie&&ie.$$typeof;switch(de){case h:case S:case E:case T:case u:return de;default:return ee}}case r:return ee}}}var I=v,V=m,x=h,j=u,oe=i,ne=S,J=e,ue=E,fe=T,pe=r,ve=c,be=a,Ee=b,Fe=!1;function Ie(H){return Fe||(Fe=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),G(H)||W(H)===v}function G(H){return W(H)===m}function F(H){return W(H)===h}function se(H){return W(H)===u}function U(H){return typeof H=="object"&&H!==null&&H.$$typeof===i}function X(H){return W(H)===S}function Y(H){return W(H)===e}function Q(H){return W(H)===E}function re(H){return W(H)===T}function he(H){return W(H)===r}function A(H){return W(H)===c}function ae(H){return W(H)===a}function Te(H){return W(H)===b}Me.AsyncMode=I,Me.ConcurrentMode=V,Me.ContextConsumer=x,Me.ContextProvider=j,Me.Element=oe,Me.ForwardRef=ne,Me.Fragment=J,Me.Lazy=ue,Me.Memo=fe,Me.Portal=pe,Me.Profiler=ve,Me.StrictMode=be,Me.Suspense=Ee,Me.isAsyncMode=Ie,Me.isConcurrentMode=G,Me.isContextConsumer=F,Me.isContextProvider=se,Me.isElement=U,Me.isForwardRef=X,Me.isFragment=Y,Me.isLazy=Q,Me.isMemo=re,Me.isPortal=he,Me.isProfiler=A,Me.isStrictMode=ae,Me.isSuspense=Te,Me.isValidElementType=P,Me.typeOf=W})()),Me}var Er;function zr(){return Er||(Er=1,process.env.NODE_ENV==="production"?tn.exports=$o():tn.exports=Uo()),tn.exports}/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var wn,Or;function Bo(){if(Or)return wn;Or=1;var s=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function e(c){if(c==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(c)}function a(){try{if(!Object.assign)return!1;var c=new String("abc");if(c[5]="de",Object.getOwnPropertyNames(c)[0]==="5")return!1;for(var u={},h=0;h<10;h++)u["_"+String.fromCharCode(h)]=h;var v=Object.getOwnPropertyNames(u).map(function(S){return u[S]});if(v.join("")!=="0123456789")return!1;var m={};return"abcdefghijklmnopqrst".split("").forEach(function(S){m[S]=S}),Object.keys(Object.assign({},m)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}return wn=a()?Object.assign:function(c,u){for(var h,v=e(c),m,S=1;S<arguments.length;S++){h=Object(arguments[S]);for(var b in h)i.call(h,b)&&(v[b]=h[b]);if(s){m=s(h);for(var C=0;C<m.length;C++)r.call(h,m[C])&&(v[m[C]]=h[m[C]])}}return v},wn}var Cn,Pr;function xn(){if(Pr)return Cn;Pr=1;var s="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Cn=s,Cn}var Tn,Mr;function Ar(){return Mr||(Mr=1,Tn=Function.call.bind(Object.prototype.hasOwnProperty)),Tn}var Rn,kr;function qo(){if(kr)return Rn;kr=1;var s=function(){};if(process.env.NODE_ENV!=="production"){var i=xn(),r={},e=Ar();s=function(c){var u="Warning: "+c;typeof console<"u"&&console.error(u);try{throw new Error(u)}catch{}}}function a(c,u,h,v,m){if(process.env.NODE_ENV!=="production"){for(var S in c)if(e(c,S)){var b;try{if(typeof c[S]!="function"){var C=Error((v||"React class")+": "+h+" type `"+S+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof c[S]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw C.name="Invariant Violation",C}b=c[S](u,S,v,h,null,i)}catch(E){b=E}if(b&&!(b instanceof Error)&&s((v||"React class")+": type specification of "+h+" `"+S+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof b+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),b instanceof Error&&!(b.message in r)){r[b.message]=!0;var T=m?m():"";s("Failed "+h+" type: "+b.message+(T??""))}}}}return a.resetWarningCache=function(){process.env.NODE_ENV!=="production"&&(r={})},Rn=a,Rn}var In,Dr;function Vo(){if(Dr)return In;Dr=1;var s=zr(),i=Bo(),r=xn(),e=Ar(),a=qo(),c=function(){};process.env.NODE_ENV!=="production"&&(c=function(h){var v="Warning: "+h;typeof console<"u"&&console.error(v);try{throw new Error(v)}catch{}});function u(){return null}return In=function(h,v){var m=typeof Symbol=="function"&&Symbol.iterator,S="@@iterator";function b(G){var F=G&&(m&&G[m]||G[S]);if(typeof F=="function")return F}var C="<<anonymous>>",T={array:L("array"),bigint:L("bigint"),bool:L("boolean"),func:L("function"),number:L("number"),object:L("object"),string:L("string"),symbol:L("symbol"),any:q(),arrayOf:P,element:W(),elementType:I(),instanceOf:V,node:ne(),objectOf:j,oneOf:x,oneOfType:oe,shape:ue,exact:fe};function E(G,F){return G===F?G!==0||1/G===1/F:G!==G&&F!==F}function z(G,F){this.message=G,this.data=F&&typeof F=="object"?F:{},this.stack=""}z.prototype=Error.prototype;function k(G){if(process.env.NODE_ENV!=="production")var F={},se=0;function U(Y,Q,re,he,A,ae,Te){if(he=he||C,ae=ae||re,Te!==r){if(v){var H=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw H.name="Invariant Violation",H}else if(process.env.NODE_ENV!=="production"&&typeof console<"u"){var ee=he+":"+re;!F[ee]&&se<3&&(c("You are manually calling a React.PropTypes validation function for the `"+ae+"` prop on `"+he+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),F[ee]=!0,se++)}}return Q[re]==null?Y?Q[re]===null?new z("The "+A+" `"+ae+"` is marked as required "+("in `"+he+"`, but its value is `null`.")):new z("The "+A+" `"+ae+"` is marked as required in "+("`"+he+"`, but its value is `undefined`.")):null:G(Q,re,he,A,ae)}var X=U.bind(null,!1);return X.isRequired=U.bind(null,!0),X}function L(G){function F(se,U,X,Y,Q,re){var he=se[U],A=be(he);if(A!==G){var ae=Ee(he);return new z("Invalid "+Y+" `"+Q+"` of type "+("`"+ae+"` supplied to `"+X+"`, expected ")+("`"+G+"`."),{expectedType:G})}return null}return k(F)}function q(){return k(u)}function P(G){function F(se,U,X,Y,Q){if(typeof G!="function")return new z("Property `"+Q+"` of component `"+X+"` has invalid PropType notation inside arrayOf.");var re=se[U];if(!Array.isArray(re)){var he=be(re);return new z("Invalid "+Y+" `"+Q+"` of type "+("`"+he+"` supplied to `"+X+"`, expected an array."))}for(var A=0;A<re.length;A++){var ae=G(re,A,X,Y,Q+"["+A+"]",r);if(ae instanceof Error)return ae}return null}return k(F)}function W(){function G(F,se,U,X,Y){var Q=F[se];if(!h(Q)){var re=be(Q);return new z("Invalid "+X+" `"+Y+"` of type "+("`"+re+"` supplied to `"+U+"`, expected a single ReactElement."))}return null}return k(G)}function I(){function G(F,se,U,X,Y){var Q=F[se];if(!s.isValidElementType(Q)){var re=be(Q);return new z("Invalid "+X+" `"+Y+"` of type "+("`"+re+"` supplied to `"+U+"`, expected a single ReactElement type."))}return null}return k(G)}function V(G){function F(se,U,X,Y,Q){if(!(se[U]instanceof G)){var re=G.name||C,he=Ie(se[U]);return new z("Invalid "+Y+" `"+Q+"` of type "+("`"+he+"` supplied to `"+X+"`, expected ")+("instance of `"+re+"`."))}return null}return k(F)}function x(G){if(!Array.isArray(G))return process.env.NODE_ENV!=="production"&&(arguments.length>1?c("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):c("Invalid argument supplied to oneOf, expected an array.")),u;function F(se,U,X,Y,Q){for(var re=se[U],he=0;he<G.length;he++)if(E(re,G[he]))return null;var A=JSON.stringify(G,function(Te,H){var ee=Ee(H);return ee==="symbol"?String(H):H});return new z("Invalid "+Y+" `"+Q+"` of value `"+String(re)+"` "+("supplied to `"+X+"`, expected one of "+A+"."))}return k(F)}function j(G){function F(se,U,X,Y,Q){if(typeof G!="function")return new z("Property `"+Q+"` of component `"+X+"` has invalid PropType notation inside objectOf.");var re=se[U],he=be(re);if(he!=="object")return new z("Invalid "+Y+" `"+Q+"` of type "+("`"+he+"` supplied to `"+X+"`, expected an object."));for(var A in re)if(e(re,A)){var ae=G(re,A,X,Y,Q+"."+A,r);if(ae instanceof Error)return ae}return null}return k(F)}function oe(G){if(!Array.isArray(G))return process.env.NODE_ENV!=="production"&&c("Invalid argument supplied to oneOfType, expected an instance of array."),u;for(var F=0;F<G.length;F++){var se=G[F];if(typeof se!="function")return c("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Fe(se)+" at index "+F+"."),u}function U(X,Y,Q,re,he){for(var A=[],ae=0;ae<G.length;ae++){var Te=G[ae],H=Te(X,Y,Q,re,he,r);if(H==null)return null;H.data&&e(H.data,"expectedType")&&A.push(H.data.expectedType)}var ee=A.length>0?", expected one of type ["+A.join(", ")+"]":"";return new z("Invalid "+re+" `"+he+"` supplied to "+("`"+Q+"`"+ee+"."))}return k(U)}function ne(){function G(F,se,U,X,Y){return pe(F[se])?null:new z("Invalid "+X+" `"+Y+"` supplied to "+("`"+U+"`, expected a ReactNode."))}return k(G)}function J(G,F,se,U,X){return new z((G||"React class")+": "+F+" type `"+se+"."+U+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+X+"`.")}function ue(G){function F(se,U,X,Y,Q){var re=se[U],he=be(re);if(he!=="object")return new z("Invalid "+Y+" `"+Q+"` of type `"+he+"` "+("supplied to `"+X+"`, expected `object`."));for(var A in G){var ae=G[A];if(typeof ae!="function")return J(X,Y,Q,A,Ee(ae));var Te=ae(re,A,X,Y,Q+"."+A,r);if(Te)return Te}return null}return k(F)}function fe(G){function F(se,U,X,Y,Q){var re=se[U],he=be(re);if(he!=="object")return new z("Invalid "+Y+" `"+Q+"` of type `"+he+"` "+("supplied to `"+X+"`, expected `object`."));var A=i({},se[U],G);for(var ae in A){var Te=G[ae];if(e(G,ae)&&typeof Te!="function")return J(X,Y,Q,ae,Ee(Te));if(!Te)return new z("Invalid "+Y+" `"+Q+"` key `"+ae+"` supplied to `"+X+"`.\nBad object: "+JSON.stringify(se[U],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(G),null,"  "));var H=Te(re,ae,X,Y,Q+"."+ae,r);if(H)return H}return null}return k(F)}function pe(G){switch(typeof G){case"number":case"string":case"undefined":return!0;case"boolean":return!G;case"object":if(Array.isArray(G))return G.every(pe);if(G===null||h(G))return!0;var F=b(G);if(F){var se=F.call(G),U;if(F!==G.entries){for(;!(U=se.next()).done;)if(!pe(U.value))return!1}else for(;!(U=se.next()).done;){var X=U.value;if(X&&!pe(X[1]))return!1}}else return!1;return!0;default:return!1}}function ve(G,F){return G==="symbol"?!0:F?F["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&F instanceof Symbol:!1}function be(G){var F=typeof G;return Array.isArray(G)?"array":G instanceof RegExp?"object":ve(F,G)?"symbol":F}function Ee(G){if(typeof G>"u"||G===null)return""+G;var F=be(G);if(F==="object"){if(G instanceof Date)return"date";if(G instanceof RegExp)return"regexp"}return F}function Fe(G){var F=Ee(G);switch(F){case"array":case"object":return"an "+F;case"boolean":case"date":case"regexp":return"a "+F;default:return F}}function Ie(G){return!G.constructor||!G.constructor.name?C:G.constructor.name}return T.checkPropTypes=a,T.resetWarningCache=a.resetWarningCache,T.PropTypes=T,T},In}var En,Lr;function Xo(){if(Lr)return En;Lr=1;var s=xn();function i(){}function r(){}return r.resetWarningCache=i,En=function(){function e(u,h,v,m,S,b){if(b!==s){var C=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw C.name="Invariant Violation",C}}e.isRequired=e;function a(){return e}var c={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:a,element:e,elementType:e,instanceOf:a,node:e,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:i};return c.PropTypes=c,c},En}var Gr;function Yo(){if(Gr)return en.exports;if(Gr=1,process.env.NODE_ENV!=="production"){var s=zr(),i=!0;en.exports=Vo()(s.isElement,i)}else en.exports=Xo()();return en.exports}var Ko=Yo();const D=Tr(Ko);function Wr(s){var i,r,e="";if(typeof s=="string"||typeof s=="number")e+=s;else if(typeof s=="object")if(Array.isArray(s))for(i=0;i<s.length;i++)s[i]&&(r=Wr(s[i]))&&(e&&(e+=" "),e+=r);else for(i in s)s[i]&&(e&&(e+=" "),e+=i);return e}function tt(){for(var s,i,r=0,e="";r<arguments.length;)(s=arguments[r++])&&(i=Wr(s))&&(e&&(e+=" "),e+=i);return e}function zt(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,i={};return function(r){var e=r.callback,a=r.indices,c=Object.keys(a),u=!s||c.every(function(v){var m=a[v];return Array.isArray(m)?m.length>0:m>=0}),h=c.length!==Object.keys(i).length||c.some(function(v){var m=i[v],S=a[v];return Array.isArray(S)?m.join(",")!==S.join(","):m!==S});i=a,u&&h&&e(a)}}const Zo=!!(typeof window<"u"&&window.document&&window.document.createElement);var nn;function zn(s){if((!nn&&nn!==0||s)&&Zo){var i=document.createElement("div");i.style.position="absolute",i.style.top="-9999px",i.style.width="50px",i.style.height="50px",i.style.overflow="scroll",document.body.appendChild(i),nn=i.offsetWidth-i.clientWidth,document.body.removeChild(i)}return nn}function jr(s,i){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),r.push.apply(r,e)}return r}function Fr(s){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?jr(Object(r),!0).forEach(function(e){O(s,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):jr(Object(r)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(r,e))})}return s}function Qo(s,i,r){return i=Oe(i),Be(s,Nr()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function Nr(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nr=function(){return!!s})()}var Jo=150,Ot={OBSERVED:"observed",REQUESTED:"requested"},rn=(function(s){function i(){var r;Ge(this,i);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return r=Qo(this,i,[].concat(a)),O(r,"state",{isScrolling:!1,scrollLeft:0,scrollTop:0}),O(r,"_calculateSizeAndPositionDataOnNextUpdate",!1),O(r,"_onSectionRenderedMemoizer",zt()),O(r,"_onScrollMemoizer",zt(!1)),O(r,"_invokeOnSectionRenderedHelper",function(){var u=r.props,h=u.cellLayoutManager,v=u.onSectionRendered;r._onSectionRenderedMemoizer({callback:v,indices:{indices:h.getLastRenderedIndices()}})}),O(r,"_setScrollingContainerRef",function(u){r._scrollingContainer=u}),O(r,"_updateScrollPositionForScrollToCell",function(){var u=r.props,h=u.cellLayoutManager,v=u.height,m=u.scrollToAlignment,S=u.scrollToCell,b=u.width,C=r.state,T=C.scrollLeft,E=C.scrollTop;if(S>=0){var z=h.getScrollPositionForCell({align:m,cellIndex:S,height:v,scrollLeft:T,scrollTop:E,width:b});(z.scrollLeft!==T||z.scrollTop!==E)&&r._setScrollPosition(z)}}),O(r,"_onScroll",function(u){if(u.target===r._scrollingContainer){r._enablePointerEventsAfterDelay();var h=r.props,v=h.cellLayoutManager,m=h.height,S=h.isScrollingChange,b=h.width,C=r._scrollbarSize,T=v.getTotalSize(),E=T.height,z=T.width,k=Math.max(0,Math.min(z-b+C,u.target.scrollLeft)),L=Math.max(0,Math.min(E-m+C,u.target.scrollTop));if(r.state.scrollLeft!==k||r.state.scrollTop!==L){var q=u.cancelable?Ot.OBSERVED:Ot.REQUESTED;r.state.isScrolling||S(!0),r.setState({isScrolling:!0,scrollLeft:k,scrollPositionChangeReason:q,scrollTop:L})}r._invokeOnScrollMemoizer({scrollLeft:k,scrollTop:L,totalWidth:z,totalHeight:E})}}),r._scrollbarSize=zn(),r._scrollbarSize===void 0?(r._scrollbarSizeMeasured=!1,r._scrollbarSize=0):r._scrollbarSizeMeasured=!0,r}return qe(i,s),We(i,[{key:"recomputeCellSizesAndPositions",value:function(){this._calculateSizeAndPositionDataOnNextUpdate=!0,this.forceUpdate()}},{key:"componentDidMount",value:function(){var e=this.props,a=e.cellLayoutManager,c=e.scrollLeft,u=e.scrollToCell,h=e.scrollTop;this._scrollbarSizeMeasured||(this._scrollbarSize=zn(),this._scrollbarSizeMeasured=!0,this.setState({})),u>=0?this._updateScrollPositionForScrollToCell():(c>=0||h>=0)&&this._setScrollPosition({scrollLeft:c,scrollTop:h}),this._invokeOnSectionRenderedHelper();var v=a.getTotalSize(),m=v.height,S=v.width;this._invokeOnScrollMemoizer({scrollLeft:c||0,scrollTop:h||0,totalHeight:m,totalWidth:S})}},{key:"componentDidUpdate",value:function(e,a){var c=this.props,u=c.height,h=c.scrollToAlignment,v=c.scrollToCell,m=c.width,S=this.state,b=S.scrollLeft,C=S.scrollPositionChangeReason,T=S.scrollTop;C===Ot.REQUESTED&&(b>=0&&b!==a.scrollLeft&&b!==this._scrollingContainer.scrollLeft&&(this._scrollingContainer.scrollLeft=b),T>=0&&T!==a.scrollTop&&T!==this._scrollingContainer.scrollTop&&(this._scrollingContainer.scrollTop=T)),(u!==e.height||h!==e.scrollToAlignment||v!==e.scrollToCell||m!==e.width)&&this._updateScrollPositionForScrollToCell(),this._invokeOnSectionRenderedHelper()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,a=e.autoHeight,c=e.cellCount,u=e.cellLayoutManager,h=e.className,v=e.height,m=e.horizontalOverscanSize,S=e.id,b=e.noContentRenderer,C=e.style,T=e.verticalOverscanSize,E=e.width,z=this.state,k=z.isScrolling,L=z.scrollLeft,q=z.scrollTop;(this._lastRenderedCellCount!==c||this._lastRenderedCellLayoutManager!==u||this._calculateSizeAndPositionDataOnNextUpdate)&&(this._lastRenderedCellCount=c,this._lastRenderedCellLayoutManager=u,this._calculateSizeAndPositionDataOnNextUpdate=!1,u.calculateSizeAndPositionData());var P=u.getTotalSize(),W=P.height,I=P.width,V=Math.max(0,L-m),x=Math.max(0,q-T),j=Math.min(I,L+E+m),oe=Math.min(W,q+v+T),ne=v>0&&E>0?u.cellRenderers({height:oe-x,isScrolling:k,width:j-V,x:V,y:x}):[],J={boxSizing:"border-box",direction:"ltr",height:a?"auto":v,position:"relative",WebkitOverflowScrolling:"touch",width:E,willChange:"transform"},ue=W>v?this._scrollbarSize:0,fe=I>E?this._scrollbarSize:0;return J.overflowX=I+ue<=E?"hidden":"auto",J.overflowY=W+fe<=v?"hidden":"auto",ce.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:tt("ReactVirtualized__Collection",h),id:S,onScroll:this._onScroll,role:"grid",style:Fr(Fr({},J),C),tabIndex:0},c>0&&ce.createElement("div",{className:"ReactVirtualized__Collection__innerScrollContainer",style:{height:W,maxHeight:W,maxWidth:I,overflow:"hidden",pointerEvents:k?"none":"",width:I}},ne),c===0&&b())}},{key:"_enablePointerEventsAfterDelay",value:function(){var e=this;this._disablePointerEventsTimeoutId&&clearTimeout(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=setTimeout(function(){var a=e.props.isScrollingChange;a(!1),e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1})},Jo)}},{key:"_invokeOnScrollMemoizer",value:function(e){var a=this,c=e.scrollLeft,u=e.scrollTop,h=e.totalHeight,v=e.totalWidth;this._onScrollMemoizer({callback:function(S){var b=S.scrollLeft,C=S.scrollTop,T=a.props,E=T.height,z=T.onScroll,k=T.width;z({clientHeight:E,clientWidth:k,scrollHeight:h,scrollLeft:b,scrollTop:C,scrollWidth:v})},indices:{scrollLeft:c,scrollTop:u}})}},{key:"_setScrollPosition",value:function(e){var a=e.scrollLeft,c=e.scrollTop,u={scrollPositionChangeReason:Ot.REQUESTED};a>=0&&(u.scrollLeft=a),c>=0&&(u.scrollTop=c),(a>=0&&a!==this.state.scrollLeft||c>=0&&c!==this.state.scrollTop)&&this.setState(u)}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.cellCount===0&&(a.scrollLeft!==0||a.scrollTop!==0)?{scrollLeft:0,scrollTop:0,scrollPositionChangeReason:Ot.REQUESTED}:e.scrollLeft!==a.scrollLeft||e.scrollTop!==a.scrollTop?{scrollLeft:e.scrollLeft!=null?e.scrollLeft:a.scrollLeft,scrollTop:e.scrollTop!=null?e.scrollTop:a.scrollTop,scrollPositionChangeReason:Ot.REQUESTED}:null}}])})(ce.PureComponent);O(rn,"defaultProps",{"aria-label":"grid",horizontalOverscanSize:0,noContentRenderer:function(){return null},onScroll:function(){return null},onSectionRendered:function(){return null},scrollToAlignment:"auto",scrollToCell:-1,style:{},verticalOverscanSize:0}),rn.propTypes=process.env.NODE_ENV!=="production"?{"aria-label":D.string,autoHeight:D.bool,cellCount:D.number.isRequired,cellLayoutManager:D.object.isRequired,className:D.string,height:D.number.isRequired,id:D.string,horizontalOverscanSize:D.number.isRequired,isScrollingChange:D.func,noContentRenderer:D.func.isRequired,onScroll:D.func.isRequired,onSectionRendered:D.func.isRequired,scrollLeft:D.number,scrollToAlignment:D.oneOf(["auto","end","start","center"]).isRequired,scrollToCell:D.number.isRequired,scrollTop:D.number,style:D.object,verticalOverscanSize:D.number.isRequired,width:D.number.isRequired}:{},Gt(rn);var es=(function(){function s(i){var r=i.height,e=i.width,a=i.x,c=i.y;Ge(this,s),this.height=r,this.width=e,this.x=a,this.y=c,this._indexMap={},this._indices=[]}return We(s,[{key:"addCellIndex",value:function(r){var e=r.index;this._indexMap[e]||(this._indexMap[e]=!0,this._indices.push(e))}},{key:"getCellIndices",value:function(){return this._indices}},{key:"toString",value:function(){return"".concat(this.x,",").concat(this.y," ").concat(this.width,"x").concat(this.height)}}])})(),ts=100,ns=(function(){function s(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ts;Ge(this,s),this._sectionSize=i,this._cellMetadata=[],this._sections={}}return We(s,[{key:"getCellIndices",value:function(r){var e=r.height,a=r.width,c=r.x,u=r.y,h={};return this.getSections({height:e,width:a,x:c,y:u}).forEach(function(v){return v.getCellIndices().forEach(function(m){h[m]=m})}),Object.keys(h).map(function(v){return h[v]})}},{key:"getCellMetadata",value:function(r){var e=r.index;return this._cellMetadata[e]}},{key:"getSections",value:function(r){for(var e=r.height,a=r.width,c=r.x,u=r.y,h=Math.floor(c/this._sectionSize),v=Math.floor((c+a-1)/this._sectionSize),m=Math.floor(u/this._sectionSize),S=Math.floor((u+e-1)/this._sectionSize),b=[],C=h;C<=v;C++)for(var T=m;T<=S;T++){var E="".concat(C,".").concat(T);this._sections[E]||(this._sections[E]=new es({height:this._sectionSize,width:this._sectionSize,x:C*this._sectionSize,y:T*this._sectionSize})),b.push(this._sections[E])}return b}},{key:"getTotalSectionCount",value:function(){return Object.keys(this._sections).length}},{key:"toString",value:function(){var r=this;return Object.keys(this._sections).map(function(e){return r._sections[e].toString()})}},{key:"registerCell",value:function(r){var e=r.cellMetadatum,a=r.index;this._cellMetadata[a]=e,this.getSections(e).forEach(function(c){return c.addCellIndex({index:a})})}}])})();function rs(s){for(var i=s.cellCount,r=s.cellSizeAndPositionGetter,e=s.sectionSize,a=[],c=new ns(e),u=0,h=0,v=0;v<i;v++){var m=r({index:v});if(m.height==null||isNaN(m.height)||m.width==null||isNaN(m.width)||m.x==null||isNaN(m.x)||m.y==null||isNaN(m.y))throw Error("Invalid metadata returned for cell ".concat(v,`:
        x:`).concat(m.x,", y:").concat(m.y,", width:").concat(m.width,", height:").concat(m.height));u=Math.max(u,m.y+m.height),h=Math.max(h,m.x+m.width),a[v]=m,c.registerCell({cellMetadatum:m,index:v})}return{cellMetadata:a,height:u,sectionManager:c,width:h}}function Hr(s){var i=s.align,r=i===void 0?"auto":i,e=s.cellOffset,a=s.cellSize,c=s.containerSize,u=s.currentOffset,h=e,v=h-c+a;switch(r){case"start":return h;case"end":return v;case"center":return h-(c-a)/2;default:return Math.max(v,Math.min(h,u))}}function is(s,i,r){return i=Oe(i),Be(s,$r()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function $r(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($r=function(){return!!s})()}var Ur=(function(s){function i(r,e){var a;return Ge(this,i),a=is(this,i,[r,e]),a._cellMetadata=[],a._lastRenderedCellIndices=[],a._cellCache=[],a._isScrollingChange=a._isScrollingChange.bind(a),a._setCollectionViewRef=a._setCollectionViewRef.bind(a),a}return qe(i,s),We(i,[{key:"forceUpdate",value:function(){this._collectionView!==void 0&&this._collectionView.forceUpdate()}},{key:"recomputeCellSizesAndPositions",value:function(){this._cellCache=[],this._collectionView.recomputeCellSizesAndPositions()}},{key:"render",value:function(){var e=et({},(Ho(this.props),this.props));return ce.createElement(rn,et({cellLayoutManager:this,isScrollingChange:this._isScrollingChange,ref:this._setCollectionViewRef},e))}},{key:"calculateSizeAndPositionData",value:function(){var e=this.props,a=e.cellCount,c=e.cellSizeAndPositionGetter,u=e.sectionSize,h=rs({cellCount:a,cellSizeAndPositionGetter:c,sectionSize:u});this._cellMetadata=h.cellMetadata,this._sectionManager=h.sectionManager,this._height=h.height,this._width=h.width}},{key:"getLastRenderedIndices",value:function(){return this._lastRenderedCellIndices}},{key:"getScrollPositionForCell",value:function(e){var a=e.align,c=e.cellIndex,u=e.height,h=e.scrollLeft,v=e.scrollTop,m=e.width,S=this.props.cellCount;if(c>=0&&c<S){var b=this._cellMetadata[c];h=Hr({align:a,cellOffset:b.x,cellSize:b.width,containerSize:m,currentOffset:h}),v=Hr({align:a,cellOffset:b.y,cellSize:b.height,containerSize:u,currentOffset:v})}return{scrollLeft:h,scrollTop:v}}},{key:"getTotalSize",value:function(){return{height:this._height,width:this._width}}},{key:"cellRenderers",value:function(e){var a=this,c=e.height,u=e.isScrolling,h=e.width,v=e.x,m=e.y,S=this.props,b=S.cellGroupRenderer,C=S.cellRenderer;return this._lastRenderedCellIndices=this._sectionManager.getCellIndices({height:c,width:h,x:v,y:m}),b({cellCache:this._cellCache,cellRenderer:C,cellSizeAndPositionGetter:function(E){var z=E.index;return a._sectionManager.getCellMetadata({index:z})},indices:this._lastRenderedCellIndices,isScrolling:u})}},{key:"_isScrollingChange",value:function(e){e||(this._cellCache=[])}},{key:"_setCollectionViewRef",value:function(e){this._collectionView=e}}])})(ce.PureComponent);O(Ur,"defaultProps",{"aria-label":"grid",cellGroupRenderer:os}),Ur.propTypes=process.env.NODE_ENV!=="production"?{"aria-label":D.string,cellCount:D.number.isRequired,cellGroupRenderer:D.func.isRequired,cellRenderer:D.func.isRequired,cellSizeAndPositionGetter:D.func.isRequired,sectionSize:D.number}:{};function os(s){var i=s.cellCache,r=s.cellRenderer,e=s.cellSizeAndPositionGetter,a=s.indices,c=s.isScrolling;return a.map(function(u){var h=e({index:u}),v={index:u,isScrolling:c,key:u,style:{height:h.height,left:h.x,position:"absolute",top:h.y,width:h.width}};return c?(u in i||(i[u]=r(v)),i[u]):r(v)}).filter(function(u){return!!u})}function ss(s,i,r){return i=Oe(i),Be(s,Br()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function Br(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Br=function(){return!!s})()}var as=(function(s){function i(r,e){var a;return Ge(this,i),a=ss(this,i,[r,e]),a._registerChild=a._registerChild.bind(a),a}return qe(i,s),We(i,[{key:"componentDidUpdate",value:function(e){var a=this.props,c=a.columnMaxWidth,u=a.columnMinWidth,h=a.columnCount,v=a.width;(c!==e.columnMaxWidth||u!==e.columnMinWidth||h!==e.columnCount||v!==e.width)&&this._registeredChild&&this._registeredChild.recomputeGridSize()}},{key:"render",value:function(){var e=this.props,a=e.children,c=e.columnMaxWidth,u=e.columnMinWidth,h=e.columnCount,v=e.width,m=u||1,S=c?Math.min(c,v):v,b=v/h;b=Math.max(m,b),b=Math.min(S,b),b=Math.floor(b);var C=Math.min(v,b*h);return a({adjustedWidth:C,columnWidth:b,getColumnWidth:function(){return b},registerChild:this._registerChild})}},{key:"_registerChild",value:function(e){if(e&&typeof e.recomputeGridSize!="function")throw Error("Unexpected child type registered; only Grid/MultiGrid children are supported.");this._registeredChild=e,this._registeredChild&&this._registeredChild.recomputeGridSize()}}])})(ce.PureComponent);as.propTypes=process.env.NODE_ENV!=="production"?{children:D.func.isRequired,columnMaxWidth:D.number,columnMinWidth:D.number,columnCount:D.number.isRequired,width:D.number.isRequired}:{};function qr(s){var i=s.cellCount,r=s.cellSize,e=s.computeMetadataCallback,a=s.computeMetadataCallbackProps,c=s.nextCellsCount,u=s.nextCellSize,h=s.nextScrollToIndex,v=s.scrollToIndex,m=s.updateScrollOffsetForScrollToIndex;(i!==c||(typeof r=="number"||typeof u=="number")&&r!==u)&&(e(a),v>=0&&v===h&&m())}function ls(s,i){if(s==null)return{};var r={};for(var e in s)if({}.hasOwnProperty.call(s,e)){if(i.indexOf(e)!==-1)continue;r[e]=s[e]}return r}function Wt(s,i){if(s==null)return{};var r,e,a=ls(s,i);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(e=0;e<c.length;e++)r=c[e],i.indexOf(r)===-1&&{}.propertyIsEnumerable.call(s,r)&&(a[r]=s[r])}return a}var cs=(function(){function s(i){var r=i.cellCount,e=i.cellSizeGetter,a=i.estimatedCellSize;Ge(this,s),O(this,"_cellSizeAndPositionData",{}),O(this,"_lastMeasuredIndex",-1),O(this,"_lastBatchedIndex",-1),O(this,"_cellCount",void 0),O(this,"_cellSizeGetter",void 0),O(this,"_estimatedCellSize",void 0),this._cellSizeGetter=e,this._cellCount=r,this._estimatedCellSize=a}return We(s,[{key:"areOffsetsAdjusted",value:function(){return!1}},{key:"configure",value:function(r){var e=r.cellCount,a=r.estimatedCellSize,c=r.cellSizeGetter;this._cellCount=e,this._estimatedCellSize=a,this._cellSizeGetter=c}},{key:"getCellCount",value:function(){return this._cellCount}},{key:"getEstimatedCellSize",value:function(){return this._estimatedCellSize}},{key:"getLastMeasuredIndex",value:function(){return this._lastMeasuredIndex}},{key:"getOffsetAdjustment",value:function(){return 0}},{key:"getSizeAndPositionOfCell",value:function(r){if(r<0||r>=this._cellCount)throw Error("Requested index ".concat(r," is outside of range 0..").concat(this._cellCount));if(r>this._lastMeasuredIndex)for(var e=this.getSizeAndPositionOfLastMeasuredCell(),a=e.offset+e.size,c=this._lastMeasuredIndex+1;c<=r;c++){var u=this._cellSizeGetter({index:c});if(u===void 0||isNaN(u))throw Error("Invalid size returned for cell ".concat(c," of value ").concat(u));u===null?(this._cellSizeAndPositionData[c]={offset:a,size:0},this._lastBatchedIndex=r):(this._cellSizeAndPositionData[c]={offset:a,size:u},a+=u,this._lastMeasuredIndex=r)}return this._cellSizeAndPositionData[r]}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._lastMeasuredIndex>=0?this._cellSizeAndPositionData[this._lastMeasuredIndex]:{offset:0,size:0}}},{key:"getTotalSize",value:function(){var r=this.getSizeAndPositionOfLastMeasuredCell(),e=r.offset+r.size,a=this._cellCount-this._lastMeasuredIndex-1,c=a*this._estimatedCellSize;return e+c}},{key:"getUpdatedOffsetForIndex",value:function(r){var e=r.align,a=e===void 0?"auto":e,c=r.containerSize,u=r.currentOffset,h=r.targetIndex;if(c<=0)return 0;var v=this.getSizeAndPositionOfCell(h),m=v.offset,S=m-c+v.size,b;switch(a){case"start":b=m;break;case"end":b=S;break;case"center":b=m-(c-v.size)/2;break;default:b=Math.max(S,Math.min(m,u));break}var C=this.getTotalSize();return Math.max(0,Math.min(C-c,b))}},{key:"getVisibleCellRange",value:function(r){var e=r.containerSize,a=r.offset,c=this.getTotalSize();if(c===0)return{};var u=a+e,h=this._findNearestCell(a),v=this.getSizeAndPositionOfCell(h);a=v.offset+v.size;for(var m=h;a<u&&m<this._cellCount-1;)m++,a+=this.getSizeAndPositionOfCell(m).size;return{start:h,stop:m}}},{key:"resetCell",value:function(r){this._lastMeasuredIndex=Math.min(this._lastMeasuredIndex,r-1)}},{key:"_binarySearch",value:function(r,e,a){for(;e<=r;){var c=e+Math.floor((r-e)/2),u=this.getSizeAndPositionOfCell(c).offset;if(u===a)return c;u<a?e=c+1:u>a&&(r=c-1)}return e>0?e-1:0}},{key:"_exponentialSearch",value:function(r,e){for(var a=1;r<this._cellCount&&this.getSizeAndPositionOfCell(r).offset<e;)r+=a,a*=2;return this._binarySearch(Math.min(r,this._cellCount-1),Math.floor(r/2),e)}},{key:"_findNearestCell",value:function(r){if(isNaN(r))throw Error("Invalid offset ".concat(r," specified"));r=Math.max(0,r);var e=this.getSizeAndPositionOfLastMeasuredCell(),a=Math.max(0,this._lastMeasuredIndex);return e.offset>=r?this._binarySearch(a,0,r):this._exponentialSearch(a,r)}}])})(),us=15e5,ds=16777100,fs=function(){return typeof window<"u"},hs=function(){return!!window.chrome},ps=function(){return fs()&&hs()?ds:us},vs=["maxScrollSize"],Vr=(function(){function s(i){var r=i.maxScrollSize,e=r===void 0?ps():r,a=Wt(i,vs);Ge(this,s),O(this,"_cellSizeAndPositionManager",void 0),O(this,"_maxScrollSize",void 0),this._cellSizeAndPositionManager=new cs(a),this._maxScrollSize=e}return We(s,[{key:"areOffsetsAdjusted",value:function(){return this._cellSizeAndPositionManager.getTotalSize()>this._maxScrollSize}},{key:"configure",value:function(r){this._cellSizeAndPositionManager.configure(r)}},{key:"getCellCount",value:function(){return this._cellSizeAndPositionManager.getCellCount()}},{key:"getEstimatedCellSize",value:function(){return this._cellSizeAndPositionManager.getEstimatedCellSize()}},{key:"getLastMeasuredIndex",value:function(){return this._cellSizeAndPositionManager.getLastMeasuredIndex()}},{key:"getOffsetAdjustment",value:function(r){var e=r.containerSize,a=r.offset,c=this._cellSizeAndPositionManager.getTotalSize(),u=this.getTotalSize(),h=this._getOffsetPercentage({containerSize:e,offset:a,totalSize:u});return Math.round(h*(u-c))}},{key:"getSizeAndPositionOfCell",value:function(r){return this._cellSizeAndPositionManager.getSizeAndPositionOfCell(r)}},{key:"getSizeAndPositionOfLastMeasuredCell",value:function(){return this._cellSizeAndPositionManager.getSizeAndPositionOfLastMeasuredCell()}},{key:"getTotalSize",value:function(){return Math.min(this._maxScrollSize,this._cellSizeAndPositionManager.getTotalSize())}},{key:"getUpdatedOffsetForIndex",value:function(r){var e=r.align,a=e===void 0?"auto":e,c=r.containerSize,u=r.currentOffset,h=r.targetIndex;u=this._safeOffsetToOffset({containerSize:c,offset:u});var v=this._cellSizeAndPositionManager.getUpdatedOffsetForIndex({align:a,containerSize:c,currentOffset:u,targetIndex:h});return this._offsetToSafeOffset({containerSize:c,offset:v})}},{key:"getVisibleCellRange",value:function(r){var e=r.containerSize,a=r.offset;return a=this._safeOffsetToOffset({containerSize:e,offset:a}),this._cellSizeAndPositionManager.getVisibleCellRange({containerSize:e,offset:a})}},{key:"resetCell",value:function(r){this._cellSizeAndPositionManager.resetCell(r)}},{key:"_getOffsetPercentage",value:function(r){var e=r.containerSize,a=r.offset,c=r.totalSize;return c<=e?0:a/(c-e)}},{key:"_offsetToSafeOffset",value:function(r){var e=r.containerSize,a=r.offset,c=this._cellSizeAndPositionManager.getTotalSize(),u=this.getTotalSize();if(c===u)return a;var h=this._getOffsetPercentage({containerSize:e,offset:a,totalSize:c});return Math.round(h*(u-e))}},{key:"_safeOffsetToOffset",value:function(r){var e=r.containerSize,a=r.offset,c=this._cellSizeAndPositionManager.getTotalSize(),u=this.getTotalSize();if(c===u)return a;var h=this._getOffsetPercentage({containerSize:e,offset:a,totalSize:u});return Math.round(h*(c-e))}}])})(),on=-1,ct=1;function gs(s){var i=s.cellCount,r=s.overscanCellsCount,e=s.scrollDirection,a=s.startIndex,c=s.stopIndex;return e===ct?{overscanStartIndex:Math.max(0,a),overscanStopIndex:Math.min(i-1,c+r)}:{overscanStartIndex:Math.max(0,a-r),overscanStopIndex:Math.min(i-1,c)}}function Xr(s){var i=s.cellSize,r=s.cellSizeAndPositionManager,e=s.previousCellsCount,a=s.previousCellSize,c=s.previousScrollToAlignment,u=s.previousScrollToIndex,h=s.previousSize,v=s.scrollOffset,m=s.scrollToAlignment,S=s.scrollToIndex,b=s.size,C=s.sizeJustIncreasedFromZero,T=s.updateScrollIndexCallback,E=r.getCellCount(),z=S>=0&&S<E,k=b!==h||C||!a||typeof i=="number"&&i!==a;z&&(k||m!==c||S!==u)?T(S):!z&&E>0&&(b<h||E<e)&&v>r.getTotalSize()-b&&T(E-1)}function ms(s){for(var i=s.cellCache,r=s.cellRenderer,e=s.columnSizeAndPositionManager,a=s.columnStartIndex,c=s.columnStopIndex,u=s.deferredMeasurementCache,h=s.horizontalOffsetAdjustment,v=s.isScrolling,m=s.isScrollingOptOut,S=s.parent,b=s.rowSizeAndPositionManager,C=s.rowStartIndex,T=s.rowStopIndex,E=s.styleCache,z=s.verticalOffsetAdjustment,k=s.visibleColumnIndices,L=s.visibleRowIndices,q=[],P=e.areOffsetsAdjusted()||b.areOffsetsAdjusted(),W=!v&&!P,I=C;I<=T;I++)for(var V=b.getSizeAndPositionOfCell(I),x=a;x<=c;x++){var j=e.getSizeAndPositionOfCell(x),oe=x>=k.start&&x<=k.stop&&I>=L.start&&I<=L.stop,ne="".concat(I,"-").concat(x),J=void 0;W&&E[ne]?J=E[ne]:u&&!u.has(I,x)?J={height:"auto",left:0,position:"absolute",top:0,width:"auto"}:(J={height:V.size,left:j.offset+h,position:"absolute",top:V.offset+z,width:j.size},E[ne]=J);var ue={columnIndex:x,isScrolling:v,isVisible:oe,key:ne,parent:S,rowIndex:I,style:J},fe=void 0;(m||v)&&!h&&!z?(i[ne]||(i[ne]=r(ue)),fe=i[ne]):fe=r(ue),!(fe==null||fe===!1)&&(process.env.NODE_ENV!=="production"&&ys(S,fe),fe.props.role||(fe=K.cloneElement(fe,{role:"gridcell"})),q.push(fe))}return q}function ys(s,i){process.env.NODE_ENV!=="production"&&i&&(i.type&&i.type.__internalCellMeasurerFlag&&(i=i.props.children),i&&i.props&&i.props.style===void 0&&s.__warnedAboutMissingStyle!==!0&&(s.__warnedAboutMissingStyle=!0,console.warn("Rendered cell should include style property for positioning.")))}var Ve;typeof window<"u"?Ve=window:typeof self<"u"?Ve=self:Ve={};var Ss=Ve.requestAnimationFrame||Ve.webkitRequestAnimationFrame||Ve.mozRequestAnimationFrame||Ve.oRequestAnimationFrame||Ve.msRequestAnimationFrame||function(s){return Ve.setTimeout(s,1e3/60)},_s=Ve.cancelAnimationFrame||Ve.webkitCancelAnimationFrame||Ve.mozCancelAnimationFrame||Ve.oCancelAnimationFrame||Ve.msCancelAnimationFrame||function(s){Ve.clearTimeout(s)},Yr=Ss,bs=_s,Pt=function(i){return bs(i.id)},On=function(i,r){var e;Promise.resolve().then(function(){e=Date.now()});var a=function(){Date.now()-e>=r?i.call():c.id=Yr(a)},c={id:Yr(a)};return c};function Kr(s,i){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),r.push.apply(r,e)}return r}function Ke(s){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?Kr(Object(r),!0).forEach(function(e){O(s,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Kr(Object(r)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(r,e))})}return s}function ws(s,i,r){return i=Oe(i),Be(s,Zr()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function Zr(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zr=function(){return!!s})()}var Cs=150,Pn={OBSERVED:"observed",REQUESTED:"requested"},xs=function(){return null},rt=(function(s){function i(r){var e;Ge(this,i),e=ws(this,i,[r]),O(e,"_onGridRenderedMemoizer",zt()),O(e,"_onScrollMemoizer",zt(!1)),O(e,"_deferredInvalidateColumnIndex",null),O(e,"_deferredInvalidateRowIndex",null),O(e,"_recomputeScrollLeftFlag",!1),O(e,"_recomputeScrollTopFlag",!1),O(e,"_horizontalScrollBarSize",0),O(e,"_verticalScrollBarSize",0),O(e,"_scrollbarPresenceChanged",!1),O(e,"_scrollingContainer",void 0),O(e,"_childrenToDisplay",void 0),O(e,"_columnStartIndex",void 0),O(e,"_columnStopIndex",void 0),O(e,"_rowStartIndex",void 0),O(e,"_rowStopIndex",void 0),O(e,"_renderedColumnStartIndex",0),O(e,"_renderedColumnStopIndex",0),O(e,"_renderedRowStartIndex",0),O(e,"_renderedRowStopIndex",0),O(e,"_initialScrollTop",void 0),O(e,"_initialScrollLeft",void 0),O(e,"_disablePointerEventsTimeoutId",void 0),O(e,"_styleCache",{}),O(e,"_cellCache",{}),O(e,"_debounceScrollEndedCallback",function(){e._disablePointerEventsTimeoutId=null,e.setState({isScrolling:!1,needToResetStyleCache:!1})}),O(e,"_invokeOnGridRenderedHelper",function(){var u=e.props.onSectionRendered;e._onGridRenderedMemoizer({callback:u,indices:{columnOverscanStartIndex:e._columnStartIndex,columnOverscanStopIndex:e._columnStopIndex,columnStartIndex:e._renderedColumnStartIndex,columnStopIndex:e._renderedColumnStopIndex,rowOverscanStartIndex:e._rowStartIndex,rowOverscanStopIndex:e._rowStopIndex,rowStartIndex:e._renderedRowStartIndex,rowStopIndex:e._renderedRowStopIndex}})}),O(e,"_setScrollingContainerRef",function(u){e._scrollingContainer=u,typeof e.props.elementRef=="function"?e.props.elementRef(u):wt(e.props.elementRef)==="object"&&(e.props.elementRef.current=u)}),O(e,"_onScroll",function(u){u.target===e._scrollingContainer&&e.handleScrollEvent(u.target)});var a=new Vr({cellCount:r.columnCount,cellSizeGetter:function(h){return i._wrapSizeGetter(r.columnWidth)(h)},estimatedCellSize:i._getEstimatedColumnSize(r)}),c=new Vr({cellCount:r.rowCount,cellSizeGetter:function(h){return i._wrapSizeGetter(r.rowHeight)(h)},estimatedCellSize:i._getEstimatedRowSize(r)});return e.state={instanceProps:{columnSizeAndPositionManager:a,rowSizeAndPositionManager:c,prevColumnWidth:r.columnWidth,prevRowHeight:r.rowHeight,prevColumnCount:r.columnCount,prevRowCount:r.rowCount,prevIsScrolling:r.isScrolling===!0,prevScrollToColumn:r.scrollToColumn,prevScrollToRow:r.scrollToRow,scrollbarSize:0,scrollbarSizeMeasured:!1},isScrolling:!1,scrollDirectionHorizontal:ct,scrollDirectionVertical:ct,scrollLeft:0,scrollTop:0,scrollPositionChangeReason:null,needToResetStyleCache:!1},r.scrollToRow>0&&(e._initialScrollTop=e._getCalculatedScrollTop(r,e.state)),r.scrollToColumn>0&&(e._initialScrollLeft=e._getCalculatedScrollLeft(r,e.state)),e}return qe(i,s),We(i,[{key:"getOffsetForCell",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.alignment,c=a===void 0?this.props.scrollToAlignment:a,u=e.columnIndex,h=u===void 0?this.props.scrollToColumn:u,v=e.rowIndex,m=v===void 0?this.props.scrollToRow:v,S=Ke(Ke({},this.props),{},{scrollToAlignment:c,scrollToColumn:h,scrollToRow:m});return{scrollLeft:this._getCalculatedScrollLeft(S),scrollTop:this._getCalculatedScrollTop(S)}}},{key:"getTotalRowsHeight",value:function(){return this.state.instanceProps.rowSizeAndPositionManager.getTotalSize()}},{key:"getTotalColumnsWidth",value:function(){return this.state.instanceProps.columnSizeAndPositionManager.getTotalSize()}},{key:"handleScrollEvent",value:function(e){var a=e.scrollLeft,c=a===void 0?0:a,u=e.scrollTop,h=u===void 0?0:u;if(!(h<0)){this._debounceScrollEnded();var v=this.props,m=v.autoHeight,S=v.autoWidth,b=v.height,C=v.width,T=this.state.instanceProps,E=T.scrollbarSize,z=T.rowSizeAndPositionManager.getTotalSize(),k=T.columnSizeAndPositionManager.getTotalSize(),L=Math.min(Math.max(0,k-C+E),c),q=Math.min(Math.max(0,z-b+E),h);if(this.state.scrollLeft!==L||this.state.scrollTop!==q){var P=L!==this.state.scrollLeft?L>this.state.scrollLeft?ct:on:this.state.scrollDirectionHorizontal,W=q!==this.state.scrollTop?q>this.state.scrollTop?ct:on:this.state.scrollDirectionVertical,I={isScrolling:!0,scrollDirectionHorizontal:P,scrollDirectionVertical:W,scrollPositionChangeReason:Pn.OBSERVED};m||(I.scrollTop=q),S||(I.scrollLeft=L),I.needToResetStyleCache=!1,this.setState(I)}this._invokeOnScrollMemoizer({scrollLeft:L,scrollTop:q,totalColumnsWidth:k,totalRowsHeight:z})}}},{key:"invalidateCellSizeAfterRender",value:function(e){var a=e.columnIndex,c=e.rowIndex;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,a):a,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,c):c}},{key:"measureAllCells",value:function(){var e=this.props,a=e.columnCount,c=e.rowCount,u=this.state.instanceProps;u.columnSizeAndPositionManager.getSizeAndPositionOfCell(a-1),u.rowSizeAndPositionManager.getSizeAndPositionOfCell(c-1)}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.columnIndex,c=a===void 0?0:a,u=e.rowIndex,h=u===void 0?0:u,v=this.props,m=v.scrollToColumn,S=v.scrollToRow,b=this.state.instanceProps;b.columnSizeAndPositionManager.resetCell(c),b.rowSizeAndPositionManager.resetCell(h),this._recomputeScrollLeftFlag=m>=0&&(this.state.scrollDirectionHorizontal===ct?c<=m:c>=m),this._recomputeScrollTopFlag=S>=0&&(this.state.scrollDirectionVertical===ct?h<=S:h>=S),this._styleCache={},this._cellCache={},this.forceUpdate()}},{key:"scrollToCell",value:function(e){var a=e.columnIndex,c=e.rowIndex,u=this.props.columnCount,h=this.props;u>1&&a!==void 0&&this._updateScrollLeftForScrollToColumn(Ke(Ke({},h),{},{scrollToColumn:a})),c!==void 0&&this._updateScrollTopForScrollToRow(Ke(Ke({},h),{},{scrollToRow:c}))}},{key:"componentDidMount",value:function(){var e=this.props,a=e.getScrollbarSize,c=e.height,u=e.scrollLeft,h=e.scrollToColumn,v=e.scrollTop,m=e.scrollToRow,S=e.width,b=this.state.instanceProps;if(this._initialScrollTop=0,this._initialScrollLeft=0,this._handleInvalidatedGridSize(),b.scrollbarSizeMeasured||this.setState(function(E){var z=Ke(Ke({},E),{},{needToResetStyleCache:!1});return z.instanceProps.scrollbarSize=a(),z.instanceProps.scrollbarSizeMeasured=!0,z}),typeof u=="number"&&u>=0||typeof v=="number"&&v>=0){var C=i._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:u,scrollTop:v});C&&(C.needToResetStyleCache=!1,this.setState(C))}this._scrollingContainer&&(this._scrollingContainer.scrollLeft!==this.state.scrollLeft&&(this._scrollingContainer.scrollLeft=this.state.scrollLeft),this._scrollingContainer.scrollTop!==this.state.scrollTop&&(this._scrollingContainer.scrollTop=this.state.scrollTop));var T=c>0&&S>0;h>=0&&T&&this._updateScrollLeftForScrollToColumn(),m>=0&&T&&this._updateScrollTopForScrollToRow(),this._invokeOnGridRenderedHelper(),this._invokeOnScrollMemoizer({scrollLeft:u||0,scrollTop:v||0,totalColumnsWidth:b.columnSizeAndPositionManager.getTotalSize(),totalRowsHeight:b.rowSizeAndPositionManager.getTotalSize()}),this._maybeCallOnScrollbarPresenceChange()}},{key:"componentDidUpdate",value:function(e,a){var c=this,u=this.props,h=u.autoHeight,v=u.autoWidth,m=u.columnCount,S=u.height,b=u.rowCount,C=u.scrollToAlignment,T=u.scrollToColumn,E=u.scrollToRow,z=u.width,k=this.state,L=k.scrollLeft,q=k.scrollPositionChangeReason,P=k.scrollTop,W=k.instanceProps;this._handleInvalidatedGridSize();var I=m>0&&e.columnCount===0||b>0&&e.rowCount===0;q===Pn.REQUESTED&&(!v&&L>=0&&(L!==this._scrollingContainer.scrollLeft||I)&&(this._scrollingContainer.scrollLeft=L),!h&&P>=0&&(P!==this._scrollingContainer.scrollTop||I)&&(this._scrollingContainer.scrollTop=P));var V=(e.width===0||e.height===0)&&S>0&&z>0;if(this._recomputeScrollLeftFlag?(this._recomputeScrollLeftFlag=!1,this._updateScrollLeftForScrollToColumn(this.props)):Xr({cellSizeAndPositionManager:W.columnSizeAndPositionManager,previousCellsCount:e.columnCount,previousCellSize:e.columnWidth,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToColumn,previousSize:e.width,scrollOffset:L,scrollToAlignment:C,scrollToIndex:T,size:z,sizeJustIncreasedFromZero:V,updateScrollIndexCallback:function(){return c._updateScrollLeftForScrollToColumn(c.props)}}),this._recomputeScrollTopFlag?(this._recomputeScrollTopFlag=!1,this._updateScrollTopForScrollToRow(this.props)):Xr({cellSizeAndPositionManager:W.rowSizeAndPositionManager,previousCellsCount:e.rowCount,previousCellSize:e.rowHeight,previousScrollToAlignment:e.scrollToAlignment,previousScrollToIndex:e.scrollToRow,previousSize:e.height,scrollOffset:P,scrollToAlignment:C,scrollToIndex:E,size:S,sizeJustIncreasedFromZero:V,updateScrollIndexCallback:function(){return c._updateScrollTopForScrollToRow(c.props)}}),this._invokeOnGridRenderedHelper(),L!==a.scrollLeft||P!==a.scrollTop){var x=W.rowSizeAndPositionManager.getTotalSize(),j=W.columnSizeAndPositionManager.getTotalSize();this._invokeOnScrollMemoizer({scrollLeft:L,scrollTop:P,totalColumnsWidth:j,totalRowsHeight:x})}this._maybeCallOnScrollbarPresenceChange()}},{key:"componentWillUnmount",value:function(){this._disablePointerEventsTimeoutId&&Pt(this._disablePointerEventsTimeoutId)}},{key:"render",value:function(){var e=this.props,a=e.autoContainerWidth,c=e.autoHeight,u=e.autoWidth,h=e.className,v=e.containerProps,m=e.containerRole,S=e.containerStyle,b=e.height,C=e.id,T=e.noContentRenderer,E=e.role,z=e.style,k=e.tabIndex,L=e.width,q=this.state,P=q.instanceProps,W=q.needToResetStyleCache,I=this._isScrolling(),V={boxSizing:"border-box",direction:"ltr",height:c?"auto":b,position:"relative",width:u?"auto":L,WebkitOverflowScrolling:"touch",willChange:"transform"};W&&(this._styleCache={}),this.state.isScrolling||this._resetStyleCache(),this._calculateChildrenToRender(this.props,this.state);var x=P.columnSizeAndPositionManager.getTotalSize(),j=P.rowSizeAndPositionManager.getTotalSize(),oe=j>b?P.scrollbarSize:0,ne=x>L?P.scrollbarSize:0;(ne!==this._horizontalScrollBarSize||oe!==this._verticalScrollBarSize)&&(this._horizontalScrollBarSize=ne,this._verticalScrollBarSize=oe,this._scrollbarPresenceChanged=!0),V.overflowX=x+oe<=L?"hidden":"auto",V.overflowY=j+ne<=b?"hidden":"auto";var J=this._childrenToDisplay,ue=J.length===0&&b>0&&L>0;return ce.createElement("div",et({ref:this._setScrollingContainerRef},v,{"aria-label":this.props["aria-label"],"aria-readonly":this.props["aria-readonly"],className:tt("ReactVirtualized__Grid",h),id:C,onScroll:this._onScroll,role:E,style:Ke(Ke({},V),z),tabIndex:k}),J.length>0&&ce.createElement("div",{className:"ReactVirtualized__Grid__innerScrollContainer",role:m,style:Ke({width:a?"auto":x,height:j,maxWidth:x,maxHeight:j,overflow:"hidden",pointerEvents:I?"none":"",position:"relative"},S)},J),ue&&T())}},{key:"_calculateChildrenToRender",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,c=e.cellRenderer,u=e.cellRangeRenderer,h=e.columnCount,v=e.deferredMeasurementCache,m=e.height,S=e.overscanColumnCount,b=e.overscanIndicesGetter,C=e.overscanRowCount,T=e.rowCount,E=e.width,z=e.isScrollingOptOut,k=a.scrollDirectionHorizontal,L=a.scrollDirectionVertical,q=a.instanceProps,P=this._initialScrollTop>0?this._initialScrollTop:a.scrollTop,W=this._initialScrollLeft>0?this._initialScrollLeft:a.scrollLeft,I=this._isScrolling(e,a);if(this._childrenToDisplay=[],m>0&&E>0){var V=q.columnSizeAndPositionManager.getVisibleCellRange({containerSize:E,offset:W}),x=q.rowSizeAndPositionManager.getVisibleCellRange({containerSize:m,offset:P}),j=q.columnSizeAndPositionManager.getOffsetAdjustment({containerSize:E,offset:W}),oe=q.rowSizeAndPositionManager.getOffsetAdjustment({containerSize:m,offset:P});this._renderedColumnStartIndex=V.start,this._renderedColumnStopIndex=V.stop,this._renderedRowStartIndex=x.start,this._renderedRowStopIndex=x.stop;var ne=b({direction:"horizontal",cellCount:h,overscanCellsCount:S,scrollDirection:k,startIndex:typeof V.start=="number"?V.start:0,stopIndex:typeof V.stop=="number"?V.stop:-1}),J=b({direction:"vertical",cellCount:T,overscanCellsCount:C,scrollDirection:L,startIndex:typeof x.start=="number"?x.start:0,stopIndex:typeof x.stop=="number"?x.stop:-1}),ue=ne.overscanStartIndex,fe=ne.overscanStopIndex,pe=J.overscanStartIndex,ve=J.overscanStopIndex;if(v){if(!v.hasFixedHeight()){for(var be=pe;be<=ve;be++)if(!v.has(be,0)){ue=0,fe=h-1;break}}if(!v.hasFixedWidth()){for(var Ee=ue;Ee<=fe;Ee++)if(!v.has(0,Ee)){pe=0,ve=T-1;break}}}this._childrenToDisplay=u({cellCache:this._cellCache,cellRenderer:c,columnSizeAndPositionManager:q.columnSizeAndPositionManager,columnStartIndex:ue,columnStopIndex:fe,deferredMeasurementCache:v,horizontalOffsetAdjustment:j,isScrolling:I,isScrollingOptOut:z,parent:this,rowSizeAndPositionManager:q.rowSizeAndPositionManager,rowStartIndex:pe,rowStopIndex:ve,scrollLeft:W,scrollTop:P,styleCache:this._styleCache,verticalOffsetAdjustment:oe,visibleColumnIndices:V,visibleRowIndices:x}),this._columnStartIndex=ue,this._columnStopIndex=fe,this._rowStartIndex=pe,this._rowStopIndex=ve}}},{key:"_debounceScrollEnded",value:function(){var e=this.props.scrollingResetTimeInterval;this._disablePointerEventsTimeoutId&&Pt(this._disablePointerEventsTimeoutId),this._disablePointerEventsTimeoutId=On(this._debounceScrollEndedCallback,e)}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"&&typeof this._deferredInvalidateRowIndex=="number"){var e=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:a})}}},{key:"_invokeOnScrollMemoizer",value:function(e){var a=this,c=e.scrollLeft,u=e.scrollTop,h=e.totalColumnsWidth,v=e.totalRowsHeight;this._onScrollMemoizer({callback:function(S){var b=S.scrollLeft,C=S.scrollTop,T=a.props,E=T.height,z=T.onScroll,k=T.width;z({clientHeight:E,clientWidth:k,scrollHeight:v,scrollLeft:b,scrollTop:C,scrollWidth:h})},indices:{scrollLeft:c,scrollTop:u}})}},{key:"_isScrolling",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return Object.hasOwnProperty.call(e,"isScrolling")?!!e.isScrolling:!!a.isScrolling}},{key:"_maybeCallOnScrollbarPresenceChange",value:function(){if(this._scrollbarPresenceChanged){var e=this.props.onScrollbarPresenceChange;this._scrollbarPresenceChanged=!1,e({horizontal:this._horizontalScrollBarSize>0,size:this.state.instanceProps.scrollbarSize,vertical:this._verticalScrollBarSize>0})}}},{key:"scrollToPosition",value:function(e){var a=e.scrollLeft,c=e.scrollTop,u=i._getScrollToPositionStateUpdate({prevState:this.state,scrollLeft:a,scrollTop:c});u&&(u.needToResetStyleCache=!1,this.setState(u))}},{key:"_getCalculatedScrollLeft",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return i._getCalculatedScrollLeft(e,a)}},{key:"_updateScrollLeftForScrollToColumn",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,c=i._getScrollLeftForScrollToColumnStateUpdate(e,a);c&&(c.needToResetStyleCache=!1,this.setState(c))}},{key:"_getCalculatedScrollTop",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state;return i._getCalculatedScrollTop(e,a)}},{key:"_resetStyleCache",value:function(){var e=this._styleCache,a=this._cellCache,c=this.props.isScrollingOptOut;this._cellCache={},this._styleCache={};for(var u=this._rowStartIndex;u<=this._rowStopIndex;u++)for(var h=this._columnStartIndex;h<=this._columnStopIndex;h++){var v="".concat(u,"-").concat(h);this._styleCache[v]=e[v],c&&(this._cellCache[v]=a[v])}}},{key:"_updateScrollTopForScrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.state,c=i._getScrollTopForScrollToRowStateUpdate(e,a);c&&(c.needToResetStyleCache=!1,this.setState(c))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var c={};e.columnCount===0&&a.scrollLeft!==0||e.rowCount===0&&a.scrollTop!==0?(c.scrollLeft=0,c.scrollTop=0):(e.scrollLeft!==a.scrollLeft&&e.scrollToColumn<0||e.scrollTop!==a.scrollTop&&e.scrollToRow<0)&&Object.assign(c,i._getScrollToPositionStateUpdate({prevState:a,scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}));var u=a.instanceProps;c.needToResetStyleCache=!1,(e.columnWidth!==u.prevColumnWidth||e.rowHeight!==u.prevRowHeight)&&(c.needToResetStyleCache=!0),u.columnSizeAndPositionManager.configure({cellCount:e.columnCount,estimatedCellSize:i._getEstimatedColumnSize(e),cellSizeGetter:i._wrapSizeGetter(e.columnWidth)}),u.rowSizeAndPositionManager.configure({cellCount:e.rowCount,estimatedCellSize:i._getEstimatedRowSize(e),cellSizeGetter:i._wrapSizeGetter(e.rowHeight)}),(u.prevColumnCount===0||u.prevRowCount===0)&&(u.prevColumnCount=0,u.prevRowCount=0),e.autoHeight&&e.isScrolling===!1&&u.prevIsScrolling===!0&&Object.assign(c,{isScrolling:!1});var h,v;return qr({cellCount:u.prevColumnCount,cellSize:typeof u.prevColumnWidth=="number"?u.prevColumnWidth:null,computeMetadataCallback:function(){return u.columnSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.columnCount,nextCellSize:typeof e.columnWidth=="number"?e.columnWidth:null,nextScrollToIndex:e.scrollToColumn,scrollToIndex:u.prevScrollToColumn,updateScrollOffsetForScrollToIndex:function(){h=i._getScrollLeftForScrollToColumnStateUpdate(e,a)}}),qr({cellCount:u.prevRowCount,cellSize:typeof u.prevRowHeight=="number"?u.prevRowHeight:null,computeMetadataCallback:function(){return u.rowSizeAndPositionManager.resetCell(0)},computeMetadataCallbackProps:e,nextCellsCount:e.rowCount,nextCellSize:typeof e.rowHeight=="number"?e.rowHeight:null,nextScrollToIndex:e.scrollToRow,scrollToIndex:u.prevScrollToRow,updateScrollOffsetForScrollToIndex:function(){v=i._getScrollTopForScrollToRowStateUpdate(e,a)}}),u.prevColumnCount=e.columnCount,u.prevColumnWidth=e.columnWidth,u.prevIsScrolling=e.isScrolling===!0,u.prevRowCount=e.rowCount,u.prevRowHeight=e.rowHeight,u.prevScrollToColumn=e.scrollToColumn,u.prevScrollToRow=e.scrollToRow,u.scrollbarSize=e.getScrollbarSize(),u.scrollbarSize===void 0?(u.scrollbarSizeMeasured=!1,u.scrollbarSize=0):u.scrollbarSizeMeasured=!0,c.instanceProps=u,Ke(Ke(Ke({},c),h),v)}},{key:"_getEstimatedColumnSize",value:function(e){return typeof e.columnWidth=="number"?e.columnWidth:e.estimatedColumnSize}},{key:"_getEstimatedRowSize",value:function(e){return typeof e.rowHeight=="number"?e.rowHeight:e.estimatedRowSize}},{key:"_getScrollToPositionStateUpdate",value:function(e){var a=e.prevState,c=e.scrollLeft,u=e.scrollTop,h={scrollPositionChangeReason:Pn.REQUESTED};return typeof c=="number"&&c>=0&&(h.scrollDirectionHorizontal=c>a.scrollLeft?ct:on,h.scrollLeft=c),typeof u=="number"&&u>=0&&(h.scrollDirectionVertical=u>a.scrollTop?ct:on,h.scrollTop=u),typeof c=="number"&&c>=0&&c!==a.scrollLeft||typeof u=="number"&&u>=0&&u!==a.scrollTop?h:{}}},{key:"_wrapSizeGetter",value:function(e){return typeof e=="function"?e:function(){return e}}},{key:"_getCalculatedScrollLeft",value:function(e,a){var c=e.columnCount,u=e.height,h=e.scrollToAlignment,v=e.scrollToColumn,m=e.width,S=a.scrollLeft,b=a.instanceProps;if(c>0){var C=c-1,T=v<0?C:Math.min(C,v),E=b.rowSizeAndPositionManager.getTotalSize(),z=b.scrollbarSizeMeasured&&E>u?b.scrollbarSize:0;return b.columnSizeAndPositionManager.getUpdatedOffsetForIndex({align:h,containerSize:m-z,currentOffset:S,targetIndex:T})}return 0}},{key:"_getScrollLeftForScrollToColumnStateUpdate",value:function(e,a){var c=a.scrollLeft,u=i._getCalculatedScrollLeft(e,a);return typeof u=="number"&&u>=0&&c!==u?i._getScrollToPositionStateUpdate({prevState:a,scrollLeft:u,scrollTop:-1}):{}}},{key:"_getCalculatedScrollTop",value:function(e,a){var c=e.height,u=e.rowCount,h=e.scrollToAlignment,v=e.scrollToRow,m=e.width,S=a.scrollTop,b=a.instanceProps;if(u>0){var C=u-1,T=v<0?C:Math.min(C,v),E=b.columnSizeAndPositionManager.getTotalSize(),z=b.scrollbarSizeMeasured&&E>m?b.scrollbarSize:0;return b.rowSizeAndPositionManager.getUpdatedOffsetForIndex({align:h,containerSize:c-z,currentOffset:S,targetIndex:T})}return 0}},{key:"_getScrollTopForScrollToRowStateUpdate",value:function(e,a){var c=a.scrollTop,u=i._getCalculatedScrollTop(e,a);return typeof u=="number"&&u>=0&&c!==u?i._getScrollToPositionStateUpdate({prevState:a,scrollLeft:-1,scrollTop:u}):{}}}])})(ce.PureComponent);O(rt,"defaultProps",{"aria-label":"grid","aria-readonly":!0,autoContainerWidth:!1,autoHeight:!1,autoWidth:!1,cellRangeRenderer:ms,containerRole:"row",containerStyle:{},estimatedColumnSize:100,estimatedRowSize:30,getScrollbarSize:zn,noContentRenderer:xs,onScroll:function(){},onScrollbarPresenceChange:function(){},onSectionRendered:function(){},overscanColumnCount:0,overscanIndicesGetter:gs,overscanRowCount:10,role:"grid",scrollingResetTimeInterval:Cs,scrollToAlignment:"auto",scrollToColumn:-1,scrollToRow:-1,style:{},tabIndex:0,isScrollingOptOut:!1}),Gt(rt);var Ts=1;function Qr(s){var i=s.cellCount,r=s.overscanCellsCount,e=s.scrollDirection,a=s.startIndex,c=s.stopIndex;return r=Math.max(1,r),e===Ts?{overscanStartIndex:Math.max(0,a-1),overscanStopIndex:Math.min(i-1,c+r)}:{overscanStartIndex:Math.max(0,a-r),overscanStopIndex:Math.min(i-1,c+1)}}function Mn(s,i){(i==null||i>s.length)&&(i=s.length);for(var r=0,e=Array(i);r<i;r++)e[r]=s[r];return e}function Rs(s){if(Array.isArray(s))return Mn(s)}function Is(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function Jr(s,i){if(s){if(typeof s=="string")return Mn(s,i);var r={}.toString.call(s).slice(8,-1);return r==="Object"&&s.constructor&&(r=s.constructor.name),r==="Map"||r==="Set"?Array.from(s):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mn(s,i):void 0}}function Es(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zs(s){return Rs(s)||Is(s)||Jr(s)||Es()}function Os(s,i,r){return i=Oe(i),Be(s,ei()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function ei(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ei=function(){return!!s})()}var ti=(function(s){function i(r,e){var a;return Ge(this,i),a=Os(this,i,[r,e]),a._loadMoreRowsMemoizer=zt(),a._onRowsRendered=a._onRowsRendered.bind(a),a._registerChild=a._registerChild.bind(a),a}return qe(i,s),We(i,[{key:"resetLoadMoreRowsCache",value:function(e){this._loadMoreRowsMemoizer=zt(),e&&this._doStuff(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"render",value:function(){var e=this.props.children;return e({onRowsRendered:this._onRowsRendered,registerChild:this._registerChild})}},{key:"_loadUnloadedRanges",value:function(e){var a=this,c=this.props.loadMoreRows;e.forEach(function(u){var h=c(u);h&&h.then(function(){Ps({lastRenderedStartIndex:a._lastRenderedStartIndex,lastRenderedStopIndex:a._lastRenderedStopIndex,startIndex:u.startIndex,stopIndex:u.stopIndex})&&a._registeredChild&&As(a._registeredChild,a._lastRenderedStartIndex)})})}},{key:"_onRowsRendered",value:function(e){var a=e.startIndex,c=e.stopIndex;this._lastRenderedStartIndex=a,this._lastRenderedStopIndex=c,this._doStuff(a,c)}},{key:"_doStuff",value:function(e,a){var c,u=this,h=this.props,v=h.isRowLoaded,m=h.minimumBatchSize,S=h.rowCount,b=h.threshold,C=Ms({isRowLoaded:v,minimumBatchSize:m,rowCount:S,startIndex:Math.max(0,e-b),stopIndex:Math.min(S-1,a+b)}),T=(c=[]).concat.apply(c,zs(C.map(function(E){var z=E.startIndex,k=E.stopIndex;return[z,k]})));this._loadMoreRowsMemoizer({callback:function(){u._loadUnloadedRanges(C)},indices:{squashedUnloadedRanges:T}})}},{key:"_registerChild",value:function(e){this._registeredChild=e}}])})(ce.PureComponent);O(ti,"defaultProps",{minimumBatchSize:10,rowCount:0,threshold:15}),ti.propTypes=process.env.NODE_ENV!=="production"?{children:D.func.isRequired,isRowLoaded:D.func.isRequired,loadMoreRows:D.func.isRequired,minimumBatchSize:D.number.isRequired,rowCount:D.number.isRequired,threshold:D.number.isRequired}:{};function Ps(s){var i=s.lastRenderedStartIndex,r=s.lastRenderedStopIndex,e=s.startIndex,a=s.stopIndex;return!(e>r||a<i)}function Ms(s){for(var i=s.isRowLoaded,r=s.minimumBatchSize,e=s.rowCount,a=s.startIndex,c=s.stopIndex,u=[],h=null,v=null,m=a;m<=c;m++){var S=i({index:m});S?v!==null&&(u.push({startIndex:h,stopIndex:v}),h=v=null):(v=m,h===null&&(h=m))}if(v!==null){for(var b=Math.min(Math.max(v,h+r-1),e-1),C=v+1;C<=b&&!i({index:C});C++)v=C;u.push({startIndex:h,stopIndex:v})}if(u.length)for(var T=u[0];T.stopIndex-T.startIndex+1<r&&T.startIndex>0;){var E=T.startIndex-1;if(!i({index:E}))T.startIndex=E;else break}return u}function As(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=typeof s.recomputeGridSize=="function"?s.recomputeGridSize:s.recomputeRowHeights;r?r.call(s,i):s.forceUpdate()}function ks(s,i,r){return i=Oe(i),Be(s,ni()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function ni(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ni=function(){return!!s})()}var Ds=(function(s){function i(){var r;Ge(this,i);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return r=ks(this,i,[].concat(a)),O(r,"Grid",void 0),O(r,"_cellRenderer",function(u){var h=u.parent,v=u.rowIndex,m=u.style,S=u.isScrolling,b=u.isVisible,C=u.key,T=r.props.rowRenderer,E=Object.getOwnPropertyDescriptor(m,"width");return E&&E.writable&&(m.width="100%"),T({index:v,style:m,isScrolling:S,isVisible:b,key:C,parent:h})}),O(r,"_setRef",function(u){r.Grid=u}),O(r,"_onScroll",function(u){var h=u.clientHeight,v=u.scrollHeight,m=u.scrollTop,S=r.props.onScroll;S({clientHeight:h,scrollHeight:v,scrollTop:m})}),O(r,"_onSectionRendered",function(u){var h=u.rowOverscanStartIndex,v=u.rowOverscanStopIndex,m=u.rowStartIndex,S=u.rowStopIndex,b=r.props.onRowsRendered;b({overscanStartIndex:h,overscanStopIndex:v,startIndex:m,stopIndex:S})}),r}return qe(i,s),We(i,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var a=e.alignment,c=e.index;if(this.Grid){var u=this.Grid.getOffsetForCell({alignment:a,rowIndex:c,columnIndex:0}),h=u.scrollTop;return h}return 0}},{key:"invalidateCellSizeAfterRender",value:function(e){var a=e.columnIndex,c=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:c,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.columnIndex,c=a===void 0?0:a,u=e.rowIndex,h=u===void 0?0:u;this.Grid&&this.Grid.recomputeGridSize({rowIndex:h,columnIndex:c})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e,columnIndex:0})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"render",value:function(){var e=this.props,a=e.className,c=e.noRowsRenderer,u=e.scrollToIndex,h=e.width,v=tt("ReactVirtualized__List",a);return ce.createElement(rt,et({},this.props,{autoContainerWidth:!0,cellRenderer:this._cellRenderer,className:v,columnWidth:h,columnCount:1,noContentRenderer:c,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,scrollToRow:u}))}}])})(ce.PureComponent);O(Ds,"defaultProps",{autoHeight:!1,estimatedRowSize:30,onScroll:function(){},noRowsRenderer:function(){return null},onRowsRendered:function(){},overscanIndicesGetter:Qr,overscanRowCount:10,scrollToAlignment:"auto",scrollToIndex:-1,style:{}});function Ls(s){if(Array.isArray(s))return s}function Gs(s,i){var r=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(r!=null){var e,a,c,u,h=[],v=!0,m=!1;try{if(c=(r=r.call(s)).next,i!==0)for(;!(v=(e=c.call(r)).done)&&(h.push(e.value),h.length!==i);v=!0);}catch(S){m=!0,a=S}finally{try{if(!v&&r.return!=null&&(u=r.return(),Object(u)!==u))return}finally{if(m)throw a}}return h}}function Ws(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function js(s,i){return Ls(s)||Gs(s,i)||Jr(s,i)||Ws()}function Fs(s,i,r,e){for(var a=r+1;i<=r;){var c=i+r>>>1,u=s[c];u>=e?(a=c,r=c-1):i=c+1}return a}function Ns(s,i,r,e,a){for(var c=r+1;i<=r;){var u=i+r>>>1,h=s[u];a(h,e)>=0?(c=u,r=u-1):i=u+1}return c}function Hs(s,i,r,e,a){return typeof r=="function"?Ns(s,e===void 0?0:e|0,a===void 0?s.length-1:a|0,i,r):Fs(s,r===void 0?0:r|0,e===void 0?s.length-1:e|0,i)}function $s(s,i,r,e){for(var a=r+1;i<=r;){var c=i+r>>>1,u=s[c];u>e?(a=c,r=c-1):i=c+1}return a}function Us(s,i,r,e,a){for(var c=r+1;i<=r;){var u=i+r>>>1,h=s[u];a(h,e)>0?(c=u,r=u-1):i=u+1}return c}function Bs(s,i,r,e,a){return typeof r=="function"?Us(s,e===void 0?0:e|0,a===void 0?s.length-1:a|0,i,r):$s(s,r===void 0?0:r|0,e===void 0?s.length-1:e|0,i)}function qs(s,i,r,e){for(var a=i-1;i<=r;){var c=i+r>>>1,u=s[c];u<e?(a=c,i=c+1):r=c-1}return a}function Vs(s,i,r,e,a){for(var c=i-1;i<=r;){var u=i+r>>>1,h=s[u];a(h,e)<0?(c=u,i=u+1):r=u-1}return c}function Xs(s,i,r,e,a){return typeof r=="function"?Vs(s,e===void 0?0:e|0,a===void 0?s.length-1:a|0,i,r):qs(s,r===void 0?0:r|0,e===void 0?s.length-1:e|0,i)}function Ys(s,i,r,e){for(var a=i-1;i<=r;){var c=i+r>>>1,u=s[c];u<=e?(a=c,i=c+1):r=c-1}return a}function Ks(s,i,r,e,a){for(var c=i-1;i<=r;){var u=i+r>>>1,h=s[u];a(h,e)<=0?(c=u,i=u+1):r=u-1}return c}function Zs(s,i,r,e,a){return typeof r=="function"?Ks(s,e===void 0?0:e|0,a===void 0?s.length-1:a|0,i,r):Ys(s,r===void 0?0:r|0,e===void 0?s.length-1:e|0,i)}function Qs(s,i,r,e){for(;i<=r;){var a=i+r>>>1,c=s[a];if(c===e)return a;c<=e?i=a+1:r=a-1}return-1}function Js(s,i,r,e,a){for(;i<=r;){var c=i+r>>>1,u=s[c],h=a(u,e);if(h===0)return c;h<=0?i=c+1:r=c-1}return-1}function ea(s,i,r,e,a){return typeof r=="function"?Js(s,e===void 0?0:e|0,a===void 0?s.length-1:a|0,i,r):Qs(s,r===void 0?0:r|0,e===void 0?s.length-1:e|0,i)}const sn={ge:Hs,gt:Bs,lt:Xs,le:Zs,eq:ea};var Mt=0,Ct=1,an=2;function An(s,i,r,e,a){this.mid=s,this.left=i,this.right=r,this.leftPoints=e,this.rightPoints=a,this.count=(i?i.count:0)+(r?r.count:0)+e.length}var jt=An.prototype;function kn(s,i){s.mid=i.mid,s.left=i.left,s.right=i.right,s.leftPoints=i.leftPoints,s.rightPoints=i.rightPoints,s.count=i.count}function ri(s,i){var r=Ft(i);s.mid=r.mid,s.left=r.left,s.right=r.right,s.leftPoints=r.leftPoints,s.rightPoints=r.rightPoints,s.count=r.count}function ii(s,i){var r=s.intervals([]);r.push(i),ri(s,r)}function oi(s,i){var r=s.intervals([]),e=r.indexOf(i);return e<0?Mt:(r.splice(e,1),ri(s,r),Ct)}jt.intervals=function(s){return s.push.apply(s,this.leftPoints),this.left&&this.left.intervals(s),this.right&&this.right.intervals(s),s},jt.insert=function(s){var i=this.count-this.leftPoints.length;if(this.count+=1,s[1]<this.mid)this.left?4*(this.left.count+1)>3*(i+1)?ii(this,s):this.left.insert(s):this.left=Ft([s]);else if(s[0]>this.mid)this.right?4*(this.right.count+1)>3*(i+1)?ii(this,s):this.right.insert(s):this.right=Ft([s]);else{var r=sn.ge(this.leftPoints,s,Dn),e=sn.ge(this.rightPoints,s,Ln);this.leftPoints.splice(r,0,s),this.rightPoints.splice(e,0,s)}},jt.remove=function(s){var i=this.count-this.leftPoints;if(s[1]<this.mid){if(!this.left)return Mt;var r=this.right?this.right.count:0;if(4*r>3*(i-1))return oi(this,s);var e=this.left.remove(s);return e===an?(this.left=null,this.count-=1,Ct):(e===Ct&&(this.count-=1),e)}else if(s[0]>this.mid){if(!this.right)return Mt;var a=this.left?this.left.count:0;if(4*a>3*(i-1))return oi(this,s);var e=this.right.remove(s);return e===an?(this.right=null,this.count-=1,Ct):(e===Ct&&(this.count-=1),e)}else{if(this.count===1)return this.leftPoints[0]===s?an:Mt;if(this.leftPoints.length===1&&this.leftPoints[0]===s){if(this.left&&this.right){for(var c=this,u=this.left;u.right;)c=u,u=u.right;if(c===this)u.right=this.right;else{var h=this.left,e=this.right;c.count-=u.count,c.right=u.left,u.left=h,u.right=e}kn(this,u),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?kn(this,this.left):kn(this,this.right);return Ct}for(var h=sn.ge(this.leftPoints,s,Dn);h<this.leftPoints.length&&this.leftPoints[h][0]===s[0];++h)if(this.leftPoints[h]===s){this.count-=1,this.leftPoints.splice(h,1);for(var e=sn.ge(this.rightPoints,s,Ln);e<this.rightPoints.length&&this.rightPoints[e][1]===s[1];++e)if(this.rightPoints[e]===s)return this.rightPoints.splice(e,1),Ct}return Mt}};function si(s,i,r){for(var e=0;e<s.length&&s[e][0]<=i;++e){var a=r(s[e]);if(a)return a}}function ai(s,i,r){for(var e=s.length-1;e>=0&&s[e][1]>=i;--e){var a=r(s[e]);if(a)return a}}function li(s,i){for(var r=0;r<s.length;++r){var e=i(s[r]);if(e)return e}}jt.queryPoint=function(s,i){if(s<this.mid){if(this.left){var r=this.left.queryPoint(s,i);if(r)return r}return si(this.leftPoints,s,i)}else if(s>this.mid){if(this.right){var r=this.right.queryPoint(s,i);if(r)return r}return ai(this.rightPoints,s,i)}else return li(this.leftPoints,i)},jt.queryInterval=function(s,i,r){if(s<this.mid&&this.left){var e=this.left.queryInterval(s,i,r);if(e)return e}if(i>this.mid&&this.right){var e=this.right.queryInterval(s,i,r);if(e)return e}return i<this.mid?si(this.leftPoints,i,r):s>this.mid?ai(this.rightPoints,s,r):li(this.leftPoints,r)};function ta(s,i){return s-i}function Dn(s,i){var r=s[0]-i[0];return r||s[1]-i[1]}function Ln(s,i){var r=s[1]-i[1];return r||s[0]-i[0]}function Ft(s){if(s.length===0)return null;for(var i=[],r=0;r<s.length;++r)i.push(s[r][0],s[r][1]);i.sort(ta);for(var e=i[i.length>>1],a=[],c=[],u=[],r=0;r<s.length;++r){var h=s[r];h[1]<e?a.push(h):e<h[0]?c.push(h):u.push(h)}var v=u,m=u.slice();return v.sort(Dn),m.sort(Ln),new An(e,Ft(a),Ft(c),v,m)}function ci(s){this.root=s}var At=ci.prototype;At.insert=function(s){this.root?this.root.insert(s):this.root=new An(s[0],null,null,[s],[s])},At.remove=function(s){if(this.root){var i=this.root.remove(s);return i===an&&(this.root=null),i!==Mt}return!1},At.queryPoint=function(s,i){if(this.root)return this.root.queryPoint(s,i)},At.queryInterval=function(s,i,r){if(s<=i&&this.root)return this.root.queryInterval(s,i,r)},Object.defineProperty(At,"count",{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(At,"intervals",{get:function(){return this.root?this.root.intervals([]):[]}});function na(s){return new ci(null)}var Gn=(function(){function s(){Ge(this,s),O(this,"_columnSizeMap",{}),O(this,"_intervalTree",na()),O(this,"_leftMap",{})}return We(s,[{key:"estimateTotalHeight",value:function(r,e,a){var c=r-this.count;return this.tallestColumnSize+Math.ceil(c/e)*a}},{key:"range",value:function(r,e,a){var c=this;this._intervalTree.queryInterval(r,r+e,function(u){var h=js(u,3),v=h[0];h[1];var m=h[2];return a(m,c._leftMap[m],v)})}},{key:"setPosition",value:function(r,e,a,c){this._intervalTree.insert([a,a+c,r]),this._leftMap[r]=e;var u=this._columnSizeMap,h=u[e];h===void 0?u[e]=a+c:u[e]=Math.max(h,a+c)}},{key:"count",get:function(){return this._intervalTree.count}},{key:"shortestColumnSize",get:function(){var r=this._columnSizeMap,e=0;for(var a in r){var c=r[a];e=e===0?c:Math.min(e,c)}return e}},{key:"tallestColumnSize",get:function(){var r=this._columnSizeMap,e=0;for(var a in r){var c=r[a];e=Math.max(e,c)}return e}}])})();function ui(s,i){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),r.push.apply(r,e)}return r}function ra(s){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?ui(Object(r),!0).forEach(function(e){O(s,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ui(Object(r)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(r,e))})}return s}function ia(s,i,r){return i=Oe(i),Be(s,di()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function di(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(di=function(){return!!s})()}var oa={},sa=150,fi=(function(s){function i(){var r;Ge(this,i);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return r=ia(this,i,[].concat(a)),O(r,"state",{isScrolling:!1,scrollTop:0}),O(r,"_debounceResetIsScrollingId",void 0),O(r,"_invalidateOnUpdateStartIndex",null),O(r,"_invalidateOnUpdateStopIndex",null),O(r,"_positionCache",new Gn),O(r,"_startIndex",null),O(r,"_startIndexMemoized",null),O(r,"_stopIndex",null),O(r,"_stopIndexMemoized",null),O(r,"_debounceResetIsScrollingCallback",function(){r.setState({isScrolling:!1})}),O(r,"_setScrollingContainerRef",function(u){r._scrollingContainer=u}),O(r,"_onScroll",function(u){var h=r.props.height,v=u.currentTarget.scrollTop,m=Math.min(Math.max(0,r._getEstimatedTotalHeight()-h),v);v===m&&(r._debounceResetIsScrolling(),r.state.scrollTop!==m&&r.setState({isScrolling:!0,scrollTop:m}))}),r}return qe(i,s),We(i,[{key:"clearCellPositions",value:function(){this._positionCache=new Gn,this.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(e){var a=e.rowIndex;this._invalidateOnUpdateStartIndex===null?(this._invalidateOnUpdateStartIndex=a,this._invalidateOnUpdateStopIndex=a):(this._invalidateOnUpdateStartIndex=Math.min(this._invalidateOnUpdateStartIndex,a),this._invalidateOnUpdateStopIndex=Math.max(this._invalidateOnUpdateStopIndex,a))}},{key:"recomputeCellPositions",value:function(){var e=this._positionCache.count-1;this._positionCache=new Gn,this._populatePositionCache(0,e),this.forceUpdate()}},{key:"componentDidMount",value:function(){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback()}},{key:"componentDidUpdate",value:function(e,a){this._checkInvalidateOnUpdate(),this._invokeOnScrollCallback(),this._invokeOnCellsRenderedCallback(),this.props.scrollTop!==e.scrollTop&&this._debounceResetIsScrolling()}},{key:"componentWillUnmount",value:function(){this._debounceResetIsScrollingId&&Pt(this._debounceResetIsScrollingId)}},{key:"render",value:function(){var e=this,a=this.props,c=a.autoHeight,u=a.cellCount,h=a.cellMeasurerCache,v=a.cellRenderer,m=a.className,S=a.height,b=a.id,C=a.keyMapper,T=a.overscanByPixels,E=a.role,z=a.style,k=a.tabIndex,L=a.width,q=a.rowDirection,P=this.state,W=P.isScrolling,I=P.scrollTop,V=[],x=this._getEstimatedTotalHeight(),j=this._positionCache.shortestColumnSize,oe=this._positionCache.count,ne=0,J;if(this._positionCache.range(Math.max(0,I-T),S+T*2,function(pe,ve,be){typeof J>"u"?(ne=pe,J=pe):(ne=Math.min(ne,pe),J=Math.max(J,pe)),V.push(v({index:pe,isScrolling:W,key:C(pe),parent:e,style:O(O(O(O({height:h.getHeight(pe)},q==="ltr"?"left":"right",ve),"position","absolute"),"top",be),"width",h.getWidth(pe))}))}),j<I+S+T&&oe<u)for(var ue=Math.min(u-oe,Math.ceil((I+S+T-j)/h.defaultHeight*L/h.defaultWidth)),fe=oe;fe<oe+ue;fe++)J=fe,V.push(v({index:fe,isScrolling:W,key:C(fe),parent:this,style:{width:h.getWidth(fe)}}));return this._startIndex=ne,this._stopIndex=J,ce.createElement("div",{ref:this._setScrollingContainerRef,"aria-label":this.props["aria-label"],className:tt("ReactVirtualized__Masonry",m),id:b,onScroll:this._onScroll,role:E,style:ra({boxSizing:"border-box",direction:"ltr",height:c?"auto":S,overflowX:"hidden",overflowY:x<S?"hidden":"auto",position:"relative",width:L,WebkitOverflowScrolling:"touch",willChange:"transform"},z),tabIndex:k},ce.createElement("div",{className:"ReactVirtualized__Masonry__innerScrollContainer",style:{width:"100%",height:x,maxWidth:"100%",maxHeight:x,overflow:"hidden",pointerEvents:W?"none":"",position:"relative"}},V))}},{key:"_checkInvalidateOnUpdate",value:function(){if(typeof this._invalidateOnUpdateStartIndex=="number"){var e=this._invalidateOnUpdateStartIndex,a=this._invalidateOnUpdateStopIndex;this._invalidateOnUpdateStartIndex=null,this._invalidateOnUpdateStopIndex=null,this._populatePositionCache(e,a),this.forceUpdate()}}},{key:"_debounceResetIsScrolling",value:function(){var e=this.props.scrollingResetTimeInterval;this._debounceResetIsScrollingId&&Pt(this._debounceResetIsScrollingId),this._debounceResetIsScrollingId=On(this._debounceResetIsScrollingCallback,e)}},{key:"_getEstimatedTotalHeight",value:function(){var e=this.props,a=e.cellCount,c=e.cellMeasurerCache,u=e.width,h=Math.max(1,Math.floor(u/c.defaultWidth));return this._positionCache.estimateTotalHeight(a,h,c.defaultHeight)}},{key:"_invokeOnScrollCallback",value:function(){var e=this.props,a=e.height,c=e.onScroll,u=this.state.scrollTop;this._onScrollMemoized!==u&&(c({clientHeight:a,scrollHeight:this._getEstimatedTotalHeight(),scrollTop:u}),this._onScrollMemoized=u)}},{key:"_invokeOnCellsRenderedCallback",value:function(){if(this._startIndexMemoized!==this._startIndex||this._stopIndexMemoized!==this._stopIndex){var e=this.props.onCellsRendered;e({startIndex:this._startIndex,stopIndex:this._stopIndex}),this._startIndexMemoized=this._startIndex,this._stopIndexMemoized=this._stopIndex}}},{key:"_populatePositionCache",value:function(e,a){for(var c=this.props,u=c.cellMeasurerCache,h=c.cellPositioner,v=e;v<=a;v++){var m=h(v),S=m.left,b=m.top;this._positionCache.setPosition(v,S,b,u.getHeight(v))}}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.scrollTop!==void 0&&a.scrollTop!==e.scrollTop?{isScrolling:!0,scrollTop:e.scrollTop}:null}}])})(ce.PureComponent);O(fi,"defaultProps",{autoHeight:!1,keyMapper:aa,onCellsRendered:hi,onScroll:hi,overscanByPixels:20,role:"grid",scrollingResetTimeInterval:sa,style:oa,tabIndex:0,rowDirection:"ltr"});function aa(s){return s}function hi(){}Gt(fi);var Wn=(function(){function s(){var i=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ge(this,s),O(this,"_cellMeasurerCache",void 0),O(this,"_columnIndexOffset",void 0),O(this,"_rowIndexOffset",void 0),O(this,"columnWidth",function(v){var m=v.index;i._cellMeasurerCache.columnWidth({index:m+i._columnIndexOffset})}),O(this,"rowHeight",function(v){var m=v.index;i._cellMeasurerCache.rowHeight({index:m+i._rowIndexOffset})});var e=r.cellMeasurerCache,a=r.columnIndexOffset,c=a===void 0?0:a,u=r.rowIndexOffset,h=u===void 0?0:u;this._cellMeasurerCache=e,this._columnIndexOffset=c,this._rowIndexOffset=h}return We(s,[{key:"clear",value:function(r,e){this._cellMeasurerCache.clear(r+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"clearAll",value:function(){this._cellMeasurerCache.clearAll()}},{key:"defaultHeight",get:function(){return this._cellMeasurerCache.defaultHeight}},{key:"defaultWidth",get:function(){return this._cellMeasurerCache.defaultWidth}},{key:"hasFixedHeight",value:function(){return this._cellMeasurerCache.hasFixedHeight()}},{key:"hasFixedWidth",value:function(){return this._cellMeasurerCache.hasFixedWidth()}},{key:"getHeight",value:function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getHeight(r+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"getWidth",value:function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.getWidth(r+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"has",value:function(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return this._cellMeasurerCache.has(r+this._rowIndexOffset,e+this._columnIndexOffset)}},{key:"set",value:function(r,e,a,c){this._cellMeasurerCache.set(r+this._rowIndexOffset,e+this._columnIndexOffset,a,c)}}])})(),la=["rowIndex"],ca=["columnIndex","rowIndex"],ua=["columnIndex"],da=["onScroll","onSectionRendered","onScrollbarPresenceChange","scrollLeft","scrollToColumn","scrollTop","scrollToRow"];function pi(s,i){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),r.push.apply(r,e)}return r}function Ae(s){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?pi(Object(r),!0).forEach(function(e){O(s,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):pi(Object(r)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(r,e))})}return s}function fa(s,i,r){return i=Oe(i),Be(s,vi()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function vi(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vi=function(){return!!s})()}var gi=20,jn=(function(s){function i(r,e){var a;Ge(this,i),a=fa(this,i,[r,e]),O(a,"state",{scrollLeft:0,scrollTop:0,scrollbarSize:0,showHorizontalScrollbar:!1,showVerticalScrollbar:!1}),O(a,"_deferredInvalidateColumnIndex",null),O(a,"_deferredInvalidateRowIndex",null),O(a,"_bottomLeftGridRef",function(v){a._bottomLeftGrid=v}),O(a,"_bottomRightGridRef",function(v){a._bottomRightGrid=v}),O(a,"_cellRendererBottomLeftGrid",function(v){var m=v.rowIndex,S=Wt(v,la),b=a.props,C=b.cellRenderer,T=b.fixedRowCount,E=b.rowCount;return m===E-T?ce.createElement("div",{key:S.key,style:Ae(Ae({},S.style),{},{height:gi})}):C(Ae(Ae({},S),{},{parent:a,rowIndex:m+T}))}),O(a,"_cellRendererBottomRightGrid",function(v){var m=v.columnIndex,S=v.rowIndex,b=Wt(v,ca),C=a.props,T=C.cellRenderer,E=C.fixedColumnCount,z=C.fixedRowCount;return T(Ae(Ae({},b),{},{columnIndex:m+E,parent:a,rowIndex:S+z}))}),O(a,"_cellRendererTopRightGrid",function(v){var m=v.columnIndex,S=Wt(v,ua),b=a.props,C=b.cellRenderer,T=b.columnCount,E=b.fixedColumnCount;return m===T-E?ce.createElement("div",{key:S.key,style:Ae(Ae({},S.style),{},{width:gi})}):C(Ae(Ae({},S),{},{columnIndex:m+E,parent:a}))}),O(a,"_columnWidthRightGrid",function(v){var m=v.index,S=a.props,b=S.columnCount,C=S.fixedColumnCount,T=S.columnWidth,E=a.state,z=E.scrollbarSize,k=E.showHorizontalScrollbar;return k&&m===b-C?z:typeof T=="function"?T({index:m+C}):T}),O(a,"_onScroll",function(v){var m=v.scrollLeft,S=v.scrollTop;a.setState({scrollLeft:m,scrollTop:S});var b=a.props.onScroll;b&&b(v)}),O(a,"_onScrollbarPresenceChange",function(v){var m=v.horizontal,S=v.size,b=v.vertical,C=a.state,T=C.showHorizontalScrollbar,E=C.showVerticalScrollbar;if(m!==T||b!==E){a.setState({scrollbarSize:S,showHorizontalScrollbar:m,showVerticalScrollbar:b});var z=a.props.onScrollbarPresenceChange;typeof z=="function"&&z({horizontal:m,size:S,vertical:b})}}),O(a,"_onScrollLeft",function(v){var m=v.scrollLeft;a._onScroll({scrollLeft:m,scrollTop:a.state.scrollTop})}),O(a,"_onScrollTop",function(v){var m=v.scrollTop;a._onScroll({scrollTop:m,scrollLeft:a.state.scrollLeft})}),O(a,"_rowHeightBottomGrid",function(v){var m=v.index,S=a.props,b=S.fixedRowCount,C=S.rowCount,T=S.rowHeight,E=a.state,z=E.scrollbarSize,k=E.showVerticalScrollbar;return k&&m===C-b?z:typeof T=="function"?T({index:m+b}):T}),O(a,"_topLeftGridRef",function(v){a._topLeftGrid=v}),O(a,"_topRightGridRef",function(v){a._topRightGrid=v});var c=r.deferredMeasurementCache,u=r.fixedColumnCount,h=r.fixedRowCount;return a._maybeCalculateCachedStyles(!0),c&&(a._deferredMeasurementCacheBottomLeftGrid=h>0?new Wn({cellMeasurerCache:c,columnIndexOffset:0,rowIndexOffset:h}):c,a._deferredMeasurementCacheBottomRightGrid=u>0||h>0?new Wn({cellMeasurerCache:c,columnIndexOffset:u,rowIndexOffset:h}):c,a._deferredMeasurementCacheTopRightGrid=u>0?new Wn({cellMeasurerCache:c,columnIndexOffset:u,rowIndexOffset:0}):c),a}return qe(i,s),We(i,[{key:"forceUpdateGrids",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.forceUpdate(),this._bottomRightGrid&&this._bottomRightGrid.forceUpdate(),this._topLeftGrid&&this._topLeftGrid.forceUpdate(),this._topRightGrid&&this._topRightGrid.forceUpdate()}},{key:"invalidateCellSizeAfterRender",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.columnIndex,c=a===void 0?0:a,u=e.rowIndex,h=u===void 0?0:u;this._deferredInvalidateColumnIndex=typeof this._deferredInvalidateColumnIndex=="number"?Math.min(this._deferredInvalidateColumnIndex,c):c,this._deferredInvalidateRowIndex=typeof this._deferredInvalidateRowIndex=="number"?Math.min(this._deferredInvalidateRowIndex,h):h}},{key:"measureAllCells",value:function(){this._bottomLeftGrid&&this._bottomLeftGrid.measureAllCells(),this._bottomRightGrid&&this._bottomRightGrid.measureAllCells(),this._topLeftGrid&&this._topLeftGrid.measureAllCells(),this._topRightGrid&&this._topRightGrid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.columnIndex,c=a===void 0?0:a,u=e.rowIndex,h=u===void 0?0:u,v=this.props,m=v.fixedColumnCount,S=v.fixedRowCount,b=Math.max(0,c-m),C=Math.max(0,h-S);this._bottomLeftGrid&&this._bottomLeftGrid.recomputeGridSize({columnIndex:c,rowIndex:C}),this._bottomRightGrid&&this._bottomRightGrid.recomputeGridSize({columnIndex:b,rowIndex:C}),this._topLeftGrid&&this._topLeftGrid.recomputeGridSize({columnIndex:c,rowIndex:h}),this._topRightGrid&&this._topRightGrid.recomputeGridSize({columnIndex:b,rowIndex:h}),this._leftGridWidth=null,this._topGridHeight=null,this._maybeCalculateCachedStyles(!0)}},{key:"componentDidMount",value:function(){var e=this.props,a=e.scrollLeft,c=e.scrollTop;if(a>0||c>0){var u={};a>0&&(u.scrollLeft=a),c>0&&(u.scrollTop=c),this.setState(u)}this._handleInvalidatedGridSize()}},{key:"componentDidUpdate",value:function(){this._handleInvalidatedGridSize()}},{key:"render",value:function(){var e=this.props,a=e.onScroll,c=e.onSectionRendered;e.onScrollbarPresenceChange,e.scrollLeft;var u=e.scrollToColumn;e.scrollTop;var h=e.scrollToRow,v=Wt(e,da);if(this._prepareForRender(),this.props.width===0||this.props.height===0)return null;var m=this.state,S=m.scrollLeft,b=m.scrollTop;return ce.createElement("div",{style:this._containerOuterStyle},ce.createElement("div",{style:this._containerTopStyle},this._renderTopLeftGrid(v),this._renderTopRightGrid(Ae(Ae({},v),{},{onScroll:a,scrollLeft:S}))),ce.createElement("div",{style:this._containerBottomStyle},this._renderBottomLeftGrid(Ae(Ae({},v),{},{onScroll:a,scrollTop:b})),this._renderBottomRightGrid(Ae(Ae({},v),{},{onScroll:a,onSectionRendered:c,scrollLeft:S,scrollToColumn:u,scrollToRow:h,scrollTop:b}))))}},{key:"_getBottomGridHeight",value:function(e){var a=e.height,c=this._getTopGridHeight(e);return a-c}},{key:"_getLeftGridWidth",value:function(e){var a=e.fixedColumnCount,c=e.columnWidth;if(this._leftGridWidth==null)if(typeof c=="function"){for(var u=0,h=0;h<a;h++)u+=c({index:h});this._leftGridWidth=u}else this._leftGridWidth=c*a;return this._leftGridWidth}},{key:"_getRightGridWidth",value:function(e){var a=e.width,c=this._getLeftGridWidth(e);return a-c}},{key:"_getTopGridHeight",value:function(e){var a=e.fixedRowCount,c=e.rowHeight;if(this._topGridHeight==null)if(typeof c=="function"){for(var u=0,h=0;h<a;h++)u+=c({index:h});this._topGridHeight=u}else this._topGridHeight=c*a;return this._topGridHeight}},{key:"_handleInvalidatedGridSize",value:function(){if(typeof this._deferredInvalidateColumnIndex=="number"){var e=this._deferredInvalidateColumnIndex,a=this._deferredInvalidateRowIndex;this._deferredInvalidateColumnIndex=null,this._deferredInvalidateRowIndex=null,this.recomputeGridSize({columnIndex:e,rowIndex:a}),this.forceUpdate()}}},{key:"_maybeCalculateCachedStyles",value:function(e){var a=this.props,c=a.columnWidth,u=a.enableFixedColumnScroll,h=a.enableFixedRowScroll,v=a.height,m=a.fixedColumnCount,S=a.fixedRowCount,b=a.rowHeight,C=a.style,T=a.styleBottomLeftGrid,E=a.styleBottomRightGrid,z=a.styleTopLeftGrid,k=a.styleTopRightGrid,L=a.width,q=e||v!==this._lastRenderedHeight||L!==this._lastRenderedWidth,P=e||c!==this._lastRenderedColumnWidth||m!==this._lastRenderedFixedColumnCount,W=e||S!==this._lastRenderedFixedRowCount||b!==this._lastRenderedRowHeight;(e||q||C!==this._lastRenderedStyle)&&(this._containerOuterStyle=Ae({height:v,overflow:"visible",width:L},C)),(e||q||W)&&(this._containerTopStyle={height:this._getTopGridHeight(this.props),position:"relative",width:L},this._containerBottomStyle={height:v-this._getTopGridHeight(this.props),overflow:"visible",position:"relative",width:L}),(e||T!==this._lastRenderedStyleBottomLeftGrid)&&(this._bottomLeftGridStyle=Ae({left:0,overflowX:"hidden",overflowY:u?"auto":"hidden",position:"absolute"},T)),(e||P||E!==this._lastRenderedStyleBottomRightGrid)&&(this._bottomRightGridStyle=Ae({left:this._getLeftGridWidth(this.props),position:"absolute"},E)),(e||z!==this._lastRenderedStyleTopLeftGrid)&&(this._topLeftGridStyle=Ae({left:0,overflowX:"hidden",overflowY:"hidden",position:"absolute",top:0},z)),(e||P||k!==this._lastRenderedStyleTopRightGrid)&&(this._topRightGridStyle=Ae({left:this._getLeftGridWidth(this.props),overflowX:h?"auto":"hidden",overflowY:"hidden",position:"absolute",top:0},k)),this._lastRenderedColumnWidth=c,this._lastRenderedFixedColumnCount=m,this._lastRenderedFixedRowCount=S,this._lastRenderedHeight=v,this._lastRenderedRowHeight=b,this._lastRenderedStyle=C,this._lastRenderedStyleBottomLeftGrid=T,this._lastRenderedStyleBottomRightGrid=E,this._lastRenderedStyleTopLeftGrid=z,this._lastRenderedStyleTopRightGrid=k,this._lastRenderedWidth=L}},{key:"_prepareForRender",value:function(){(this._lastRenderedColumnWidth!==this.props.columnWidth||this._lastRenderedFixedColumnCount!==this.props.fixedColumnCount)&&(this._leftGridWidth=null),(this._lastRenderedFixedRowCount!==this.props.fixedRowCount||this._lastRenderedRowHeight!==this.props.rowHeight)&&(this._topGridHeight=null),this._maybeCalculateCachedStyles(),this._lastRenderedColumnWidth=this.props.columnWidth,this._lastRenderedFixedColumnCount=this.props.fixedColumnCount,this._lastRenderedFixedRowCount=this.props.fixedRowCount,this._lastRenderedRowHeight=this.props.rowHeight}},{key:"_renderBottomLeftGrid",value:function(e){var a=e.enableFixedColumnScroll,c=e.fixedColumnCount,u=e.fixedRowCount,h=e.rowCount,v=e.hideBottomLeftGridScrollbar,m=this.state.showVerticalScrollbar;if(!c)return null;var S=m?1:0,b=this._getBottomGridHeight(e),C=this._getLeftGridWidth(e),T=this.state.showVerticalScrollbar?this.state.scrollbarSize:0,E=v?C+T:C,z=ce.createElement(rt,et({},e,{cellRenderer:this._cellRendererBottomLeftGrid,className:this.props.classNameBottomLeftGrid,columnCount:c,deferredMeasurementCache:this._deferredMeasurementCacheBottomLeftGrid,height:b,onScroll:a?this._onScrollTop:void 0,ref:this._bottomLeftGridRef,rowCount:Math.max(0,h-u)+S,rowHeight:this._rowHeightBottomGrid,style:this._bottomLeftGridStyle,tabIndex:null,width:E}));return v?ce.createElement("div",{className:"BottomLeftGrid_ScrollWrapper",style:Ae(Ae({},this._bottomLeftGridStyle),{},{height:b,width:C,overflowY:"hidden"})},z):z}},{key:"_renderBottomRightGrid",value:function(e){var a=e.columnCount,c=e.fixedColumnCount,u=e.fixedRowCount,h=e.rowCount,v=e.scrollToColumn,m=e.scrollToRow;return ce.createElement(rt,et({},e,{cellRenderer:this._cellRendererBottomRightGrid,className:this.props.classNameBottomRightGrid,columnCount:Math.max(0,a-c),columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheBottomRightGrid,height:this._getBottomGridHeight(e),onScroll:this._onScroll,onScrollbarPresenceChange:this._onScrollbarPresenceChange,ref:this._bottomRightGridRef,rowCount:Math.max(0,h-u),rowHeight:this._rowHeightBottomGrid,scrollToColumn:v-c,scrollToRow:m-u,style:this._bottomRightGridStyle,width:this._getRightGridWidth(e)}))}},{key:"_renderTopLeftGrid",value:function(e){var a=e.fixedColumnCount,c=e.fixedRowCount;return!a||!c?null:ce.createElement(rt,et({},e,{className:this.props.classNameTopLeftGrid,columnCount:a,height:this._getTopGridHeight(e),ref:this._topLeftGridRef,rowCount:c,style:this._topLeftGridStyle,tabIndex:null,width:this._getLeftGridWidth(e)}))}},{key:"_renderTopRightGrid",value:function(e){var a=e.columnCount,c=e.enableFixedRowScroll,u=e.fixedColumnCount,h=e.fixedRowCount,v=e.scrollLeft,m=e.hideTopRightGridScrollbar,S=this.state,b=S.showHorizontalScrollbar,C=S.scrollbarSize;if(!h)return null;var T=b?1:0,E=this._getTopGridHeight(e),z=this._getRightGridWidth(e),k=b?C:0,L=E,q=this._topRightGridStyle;m&&(L=E+k,q=Ae(Ae({},this._topRightGridStyle),{},{left:0}));var P=ce.createElement(rt,et({},e,{cellRenderer:this._cellRendererTopRightGrid,className:this.props.classNameTopRightGrid,columnCount:Math.max(0,a-u)+T,columnWidth:this._columnWidthRightGrid,deferredMeasurementCache:this._deferredMeasurementCacheTopRightGrid,height:L,onScroll:c?this._onScrollLeft:void 0,ref:this._topRightGridRef,rowCount:h,scrollLeft:v,style:q,tabIndex:null,width:z}));return m?ce.createElement("div",{className:"TopRightGrid_ScrollWrapper",style:Ae(Ae({},this._topRightGridStyle),{},{height:E,width:z,overflowX:"hidden"})},P):P}}],[{key:"getDerivedStateFromProps",value:function(e,a){return e.scrollLeft!==a.scrollLeft||e.scrollTop!==a.scrollTop?{scrollLeft:e.scrollLeft!=null&&e.scrollLeft>=0?e.scrollLeft:a.scrollLeft,scrollTop:e.scrollTop!=null&&e.scrollTop>=0?e.scrollTop:a.scrollTop}:null}}])})(ce.PureComponent);O(jn,"defaultProps",{classNameBottomLeftGrid:"",classNameBottomRightGrid:"",classNameTopLeftGrid:"",classNameTopRightGrid:"",enableFixedColumnScroll:!1,enableFixedRowScroll:!1,fixedColumnCount:0,fixedRowCount:0,scrollToColumn:-1,scrollToRow:-1,style:{},styleBottomLeftGrid:{},styleBottomRightGrid:{},styleTopLeftGrid:{},styleTopRightGrid:{},hideTopRightGridScrollbar:!1,hideBottomLeftGridScrollbar:!1}),jn.propTypes=process.env.NODE_ENV!=="production"?{classNameBottomLeftGrid:D.string.isRequired,classNameBottomRightGrid:D.string.isRequired,classNameTopLeftGrid:D.string.isRequired,classNameTopRightGrid:D.string.isRequired,enableFixedColumnScroll:D.bool.isRequired,enableFixedRowScroll:D.bool.isRequired,fixedColumnCount:D.number.isRequired,fixedRowCount:D.number.isRequired,onScrollbarPresenceChange:D.func,style:D.object.isRequired,styleBottomLeftGrid:D.object.isRequired,styleBottomRightGrid:D.object.isRequired,styleTopLeftGrid:D.object.isRequired,styleTopRightGrid:D.object.isRequired,hideTopRightGridScrollbar:D.bool,hideBottomLeftGridScrollbar:D.bool}:{},Gt(jn);function ha(s,i,r){return i=Oe(i),Be(s,mi()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function mi(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mi=function(){return!!s})()}var yi=(function(s){function i(r,e){var a;return Ge(this,i),a=ha(this,i,[r,e]),a.state={clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0},a._onScroll=a._onScroll.bind(a),a}return qe(i,s),We(i,[{key:"render",value:function(){var e=this.props.children,a=this.state,c=a.clientHeight,u=a.clientWidth,h=a.scrollHeight,v=a.scrollLeft,m=a.scrollTop,S=a.scrollWidth;return e({clientHeight:c,clientWidth:u,onScroll:this._onScroll,scrollHeight:h,scrollLeft:v,scrollTop:m,scrollWidth:S})}},{key:"_onScroll",value:function(e){var a=e.clientHeight,c=e.clientWidth,u=e.scrollHeight,h=e.scrollLeft,v=e.scrollTop,m=e.scrollWidth;this.setState({clientHeight:a,clientWidth:c,scrollHeight:u,scrollLeft:h,scrollTop:v,scrollWidth:m})}}])})(ce.PureComponent);yi.propTypes=process.env.NODE_ENV!=="production"?{children:D.func.isRequired}:{};function pa(s){var i=s.dataKey,r=s.rowData;return typeof r.get=="function"?r.get(i):r[i]}function va(s){var i=s.cellData;return i==null?"":String(i)}function ga(s){var i=s.className,r=s.columns,e=s.style;return ce.createElement("div",{className:i,role:"row",style:e},r)}var Ze={ASC:"ASC",DESC:"DESC"};function Si(s){var i=s.sortDirection,r=tt("ReactVirtualized__Table__sortableHeaderIcon",{"ReactVirtualized__Table__sortableHeaderIcon--ASC":i===Ze.ASC,"ReactVirtualized__Table__sortableHeaderIcon--DESC":i===Ze.DESC});return ce.createElement("svg",{className:r,width:18,height:18,viewBox:"0 0 24 24"},i===Ze.ASC?ce.createElement("path",{d:"M7 14l5-5 5 5z"}):ce.createElement("path",{d:"M7 10l5 5 5-5z"}),ce.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}))}Si.propTypes=process.env.NODE_ENV!=="production"?{sortDirection:D.oneOf([Ze.ASC,Ze.DESC])}:{};function ma(s){var i=s.dataKey,r=s.label,e=s.sortBy,a=s.sortDirection,c=e===i,u=[ce.createElement("span",{className:"ReactVirtualized__Table__headerTruncatedText",key:"label",title:typeof r=="string"?r:null},r)];return c&&u.push(ce.createElement(Si,{key:"SortIndicator",sortDirection:a})),u}function ya(s){var i=s.className,r=s.columns,e=s.index,a=s.key,c=s.onRowClick,u=s.onRowDoubleClick,h=s.onRowMouseOut,v=s.onRowMouseOver,m=s.onRowRightClick,S=s.rowData,b=s.style,C={"aria-rowindex":e+1};return(c||u||h||v||m)&&(C["aria-label"]="row",C.tabIndex=0,c&&(C.onClick=function(T){return c({event:T,index:e,rowData:S})}),u&&(C.onDoubleClick=function(T){return u({event:T,index:e,rowData:S})}),h&&(C.onMouseOut=function(T){return h({event:T,index:e,rowData:S})}),v&&(C.onMouseOver=function(T){return v({event:T,index:e,rowData:S})}),m&&(C.onContextMenu=function(T){return m({event:T,index:e,rowData:S})})),ce.createElement("div",et({},C,{className:i,key:a,role:"row",style:b}),r)}function Sa(s,i,r){return i=Oe(i),Be(s,_i()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function _i(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_i=function(){return!!s})()}var Nt=(function(s){function i(){return Ge(this,i),Sa(this,i,arguments)}return qe(i,s),We(i)})(ce.Component);O(Nt,"defaultProps",{cellDataGetter:pa,cellRenderer:va,defaultSortDirection:Ze.ASC,flexGrow:0,flexShrink:1,headerRenderer:ma,style:{}}),Nt.propTypes=process.env.NODE_ENV!=="production"?{"aria-label":D.string,cellDataGetter:D.func,cellRenderer:D.func,className:D.string,columnData:D.object,dataKey:D.any.isRequired,defaultSortDirection:D.oneOf([Ze.ASC,Ze.DESC]),disableSort:D.bool,flexGrow:D.number,flexShrink:D.number,headerClassName:D.string,headerRenderer:D.func.isRequired,headerStyle:D.object,id:D.string,label:D.node,maxWidth:D.number,minWidth:D.number,style:D.object,width:D.number.isRequired}:{};function bi(s,i){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),r.push.apply(r,e)}return r}function it(s){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?bi(Object(r),!0).forEach(function(e){O(s,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):bi(Object(r)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(r,e))})}return s}function _a(s,i,r){return i=Oe(i),Be(s,wi()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function wi(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wi=function(){return!!s})()}var Ci=(function(s){function i(r){var e;return Ge(this,i),e=_a(this,i,[r]),e.state={scrollbarWidth:0},e._createColumn=e._createColumn.bind(e),e._createRow=e._createRow.bind(e),e._onScroll=e._onScroll.bind(e),e._onSectionRendered=e._onSectionRendered.bind(e),e._setRef=e._setRef.bind(e),e._setGridElementRef=e._setGridElementRef.bind(e),e}return qe(i,s),We(i,[{key:"forceUpdateGrid",value:function(){this.Grid&&this.Grid.forceUpdate()}},{key:"getOffsetForRow",value:function(e){var a=e.alignment,c=e.index;if(this.Grid){var u=this.Grid.getOffsetForCell({alignment:a,rowIndex:c}),h=u.scrollTop;return h}return 0}},{key:"invalidateCellSizeAfterRender",value:function(e){var a=e.columnIndex,c=e.rowIndex;this.Grid&&this.Grid.invalidateCellSizeAfterRender({rowIndex:c,columnIndex:a})}},{key:"measureAllRows",value:function(){this.Grid&&this.Grid.measureAllCells()}},{key:"recomputeGridSize",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.columnIndex,c=a===void 0?0:a,u=e.rowIndex,h=u===void 0?0:u;this.Grid&&this.Grid.recomputeGridSize({rowIndex:h,columnIndex:c})}},{key:"recomputeRowHeights",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.recomputeGridSize({rowIndex:e})}},{key:"scrollToPosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToPosition({scrollTop:e})}},{key:"scrollToRow",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.Grid&&this.Grid.scrollToCell({columnIndex:0,rowIndex:e})}},{key:"getScrollbarWidth",value:function(){if(this.GridElement){var e=this.GridElement,a=e.clientWidth||0,c=e.offsetWidth||0;return c-a}return 0}},{key:"componentDidMount",value:function(){this._setScrollbarWidth()}},{key:"componentDidUpdate",value:function(){this._setScrollbarWidth()}},{key:"render",value:function(){var e=this,a=this.props,c=a.children,u=a.className,h=a.disableHeader,v=a.gridClassName,m=a.gridStyle,S=a.headerHeight,b=a.headerRowRenderer,C=a.height,T=a.id,E=a.noRowsRenderer,z=a.rowClassName,k=a.rowStyle,L=a.scrollToIndex,q=a.style,P=a.width,W=this.state.scrollbarWidth,I=h?C:C-S,V=typeof z=="function"?z({index:-1}):z,x=typeof k=="function"?k({index:-1}):k;return this._cachedColumnStyles=[],ce.Children.toArray(c).forEach(function(j,oe){var ne=e._getFlexStyleForColumn(j,j.props.style||Nt.defaultProps.style);e._cachedColumnStyles[oe]=it({overflow:"hidden"},ne)}),ce.createElement("div",{"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-colcount":ce.Children.toArray(c).length,"aria-rowcount":this.props.rowCount,className:tt("ReactVirtualized__Table",u),id:T,role:"grid",style:q},!h&&b({className:tt("ReactVirtualized__Table__headerRow",V),columns:this._getHeaderColumns(),style:it({height:S,overflow:"hidden",paddingRight:W,width:P},x)}),ce.createElement(rt,et({},this.props,{elementRef:this._setGridElementRef,"aria-readonly":null,autoContainerWidth:!0,className:tt("ReactVirtualized__Table__Grid",v),cellRenderer:this._createRow,columnWidth:P,columnCount:1,height:I,id:void 0,noContentRenderer:E,onScroll:this._onScroll,onSectionRendered:this._onSectionRendered,ref:this._setRef,role:"rowgroup",scrollbarWidth:W,scrollToRow:L,style:it(it({},m),{},{overflowX:"hidden"})})))}},{key:"_createColumn",value:function(e){var a=e.column,c=e.columnIndex,u=e.isScrolling,h=e.parent,v=e.rowData,m=e.rowIndex,S=this.props.onColumnClick,b=a.props,C=b.cellDataGetter,T=b.cellRenderer,E=b.className,z=b.columnData,k=b.dataKey,L=b.id,q=C({columnData:z,dataKey:k,rowData:v}),P=T({cellData:q,columnData:z,columnIndex:c,dataKey:k,isScrolling:u,parent:h,rowData:v,rowIndex:m}),W=function(j){S&&S({columnData:z,dataKey:k,event:j})},I=this._cachedColumnStyles[c],V=typeof P=="string"?P:null;return ce.createElement("div",{"aria-colindex":c+1,"aria-describedby":L,className:tt("ReactVirtualized__Table__rowColumn",E),key:"Row"+m+"-Col"+c,onClick:W,role:"gridcell",style:I,title:V},P)}},{key:"_createHeader",value:function(e){var a=e.column,c=e.index,u=this.props,h=u.headerClassName,v=u.headerStyle,m=u.onHeaderClick,S=u.sort,b=u.sortBy,C=u.sortDirection,T=a.props,E=T.columnData,z=T.dataKey,k=T.defaultSortDirection,L=T.disableSort,q=T.headerRenderer,P=T.id,W=T.label,I=!L&&S,V=tt("ReactVirtualized__Table__headerColumn",h,a.props.headerClassName,{ReactVirtualized__Table__sortableHeaderColumn:I}),x=this._getFlexStyleForColumn(a,it(it({},v),a.props.headerStyle)),j=q({columnData:E,dataKey:z,disableSort:L,label:W,sortBy:b,sortDirection:C}),oe,ne,J,ue,fe;if(I||m){var pe=b!==z,ve=pe?k:C===Ze.DESC?Ze.ASC:Ze.DESC,be=function(Ie){I&&S({defaultSortDirection:k,event:Ie,sortBy:z,sortDirection:ve}),m&&m({columnData:E,dataKey:z,event:Ie})},Ee=function(Ie){(Ie.key==="Enter"||Ie.key===" ")&&be(Ie)};fe=a.props["aria-label"]||W||z,ue="none",J=0,oe=be,ne=Ee}return b===z&&(ue=C===Ze.ASC?"ascending":"descending"),ce.createElement("div",{"aria-label":fe,"aria-sort":ue,className:V,id:P,key:"Header-Col"+c,onClick:oe,onKeyDown:ne,role:"columnheader",style:x,tabIndex:J},j)}},{key:"_createRow",value:function(e){var a=this,c=e.rowIndex,u=e.isScrolling,h=e.key,v=e.parent,m=e.style,S=this.props,b=S.children,C=S.onRowClick,T=S.onRowDoubleClick,E=S.onRowRightClick,z=S.onRowMouseOver,k=S.onRowMouseOut,L=S.rowClassName,q=S.rowGetter,P=S.rowRenderer,W=S.rowStyle,I=this.state.scrollbarWidth,V=typeof L=="function"?L({index:c}):L,x=typeof W=="function"?W({index:c}):W,j=q({index:c}),oe=ce.Children.toArray(b).map(function(ue,fe){return a._createColumn({column:ue,columnIndex:fe,isScrolling:u,parent:v,rowData:j,rowIndex:c,scrollbarWidth:I})}),ne=tt("ReactVirtualized__Table__row",V),J=it(it({},m),{},{height:this._getRowHeight(c),overflow:"hidden",paddingRight:I},x);return P({className:ne,columns:oe,index:c,isScrolling:u,key:h,onRowClick:C,onRowDoubleClick:T,onRowRightClick:E,onRowMouseOver:z,onRowMouseOut:k,rowData:j,style:J})}},{key:"_getFlexStyleForColumn",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},c="".concat(e.props.flexGrow," ").concat(e.props.flexShrink," ").concat(e.props.width,"px"),u=it(it({},a),{},{flex:c,msFlex:c,WebkitFlex:c});return e.props.maxWidth&&(u.maxWidth=e.props.maxWidth),e.props.minWidth&&(u.minWidth=e.props.minWidth),u}},{key:"_getHeaderColumns",value:function(){var e=this,a=this.props,c=a.children,u=a.disableHeader,h=u?[]:ce.Children.toArray(c);return h.map(function(v,m){return e._createHeader({column:v,index:m})})}},{key:"_getRowHeight",value:function(e){var a=this.props.rowHeight;return typeof a=="function"?a({index:e}):a}},{key:"_onScroll",value:function(e){var a=e.clientHeight,c=e.scrollHeight,u=e.scrollTop,h=this.props.onScroll;h({clientHeight:a,scrollHeight:c,scrollTop:u})}},{key:"_onSectionRendered",value:function(e){var a=e.rowOverscanStartIndex,c=e.rowOverscanStopIndex,u=e.rowStartIndex,h=e.rowStopIndex,v=this.props.onRowsRendered;v({overscanStartIndex:a,overscanStopIndex:c,startIndex:u,stopIndex:h})}},{key:"_setRef",value:function(e){this.Grid=e}},{key:"_setGridElementRef",value:function(e){this.GridElement=e}},{key:"_setScrollbarWidth",value:function(){var e=this.getScrollbarWidth();this.setState({scrollbarWidth:e})}}])})(ce.PureComponent);O(Ci,"defaultProps",{disableHeader:!1,estimatedRowSize:30,headerHeight:0,headerStyle:{},noRowsRenderer:function(){return null},onRowsRendered:function(){return null},onScroll:function(){return null},overscanIndicesGetter:Qr,overscanRowCount:10,rowRenderer:ya,headerRowRenderer:ga,rowStyle:{},scrollToAlignment:"auto",scrollToIndex:-1,style:{}}),Ci.propTypes=process.env.NODE_ENV!=="production"?{"aria-label":D.string,"aria-labelledby":D.string,autoHeight:D.bool,children:function(i){for(var r=ce.Children.toArray(i.children),e=0;e<r.length;e++){var a=r[e].type;if(a!==Nt&&!(a.prototype instanceof Nt))return new Error("Table only accepts children of type Column")}},className:D.string,disableHeader:D.bool,estimatedRowSize:D.number.isRequired,gridClassName:D.string,gridStyle:D.object,headerClassName:D.string,headerHeight:D.number.isRequired,headerRowRenderer:D.func,headerStyle:D.object,height:D.number.isRequired,id:D.string,noRowsRenderer:D.func,onColumnClick:D.func,onHeaderClick:D.func,onRowClick:D.func,onRowDoubleClick:D.func,onRowMouseOut:D.func,onRowMouseOver:D.func,onRowRightClick:D.func,onRowsRendered:D.func,onScroll:D.func.isRequired,overscanIndicesGetter:D.func.isRequired,overscanRowCount:D.number.isRequired,rowClassName:D.oneOfType([D.string,D.func]),rowGetter:D.func.isRequired,rowHeight:D.oneOfType([D.number,D.func]).isRequired,rowCount:D.number.isRequired,rowRenderer:D.func,rowStyle:D.oneOfType([D.object,D.func]).isRequired,scrollToAlignment:D.oneOf(["auto","end","start","center"]).isRequired,scrollToIndex:D.number.isRequired,scrollTop:D.number,sort:D.func,sortBy:D.string,sortDirection:D.oneOf([Ze.ASC,Ze.DESC]),style:D.object,tabIndex:D.number,width:D.number.isRequired}:{};var vt=[],Ht=null,xt=null;function xi(){xt&&(xt=null,document.body&&Ht!=null&&(document.body.style.pointerEvents=Ht),Ht=null)}function ba(){xi(),vt.forEach(function(s){return s.__resetIsScrolling()})}function wa(){xt&&Pt(xt);var s=0;vt.forEach(function(i){s=Math.max(s,i.props.scrollingResetTimeInterval)}),xt=On(ba,s)}function Ti(s){s.currentTarget===window&&Ht==null&&document.body&&(Ht=document.body.style.pointerEvents,document.body.style.pointerEvents="none"),wa(),vt.forEach(function(i){i.props.scrollElement===s.currentTarget&&i.__handleWindowScrollEvent()})}function Ri(s,i){vt.some(function(r){return r.props.scrollElement===i})||i.addEventListener("scroll",Ti),vt.push(s)}function Ii(s,i){vt=vt.filter(function(r){return r!==s}),vt.length||(i.removeEventListener("scroll",Ti),xt&&(Pt(xt),xi()))}var Fn=function(i){return i===window},$t=function(i){return i.getBoundingClientRect()};function Ei(s,i){if(s)if(Fn(s)){var r=window,e=r.innerHeight,a=r.innerWidth;return{height:typeof e=="number"?e:0,width:typeof a=="number"?a:0}}else return $t(s);else return{height:i.serverHeight,width:i.serverWidth}}function Ca(s,i){if(Fn(i)&&document.documentElement){var r=document.documentElement,e=$t(s),a=$t(r);return{top:e.top-a.top,left:e.left-a.left}}else{var c=zi(i),u=$t(s),h=$t(i);return{top:u.top+c.top-h.top,left:u.left+c.left-h.left}}}function zi(s){return Fn(s)&&document.documentElement?{top:"scrollY"in window?window.scrollY:document.documentElement.scrollTop,left:"scrollX"in window?window.scrollX:document.documentElement.scrollLeft}:{top:s.scrollTop,left:s.scrollLeft}}function Oi(s,i){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(s);i&&(e=e.filter(function(a){return Object.getOwnPropertyDescriptor(s,a).enumerable})),r.push.apply(r,e)}return r}function Pi(s){for(var i=1;i<arguments.length;i++){var r=arguments[i]!=null?arguments[i]:{};i%2?Oi(Object(r),!0).forEach(function(e){O(s,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):Oi(Object(r)).forEach(function(e){Object.defineProperty(s,e,Object.getOwnPropertyDescriptor(r,e))})}return s}function xa(s,i,r){return i=Oe(i),Be(s,Mi()?Reflect.construct(i,r||[],Oe(s).constructor):i.apply(s,r))}function Mi(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mi=function(){return!!s})()}var Ta=150,Ai=function(){return typeof window<"u"?window:void 0},Ra=(function(s){function i(){var r;Ge(this,i);for(var e=arguments.length,a=new Array(e),c=0;c<e;c++)a[c]=arguments[c];return r=xa(this,i,[].concat(a)),O(r,"_window",Ai()),O(r,"_isMounted",!1),O(r,"_positionFromTop",0),O(r,"_positionFromLeft",0),O(r,"_detectElementResize",void 0),O(r,"_child",void 0),O(r,"_windowScrollerRef",ce.createRef()),O(r,"state",Pi(Pi({},Ei(r.props.scrollElement,r.props)),{},{isScrolling:!1,scrollLeft:0,scrollTop:0})),O(r,"_registerChild",function(u){u&&!(u instanceof Element)&&console.warn("WindowScroller registerChild expects to be passed Element or null"),r._child=u,r.updatePosition()}),O(r,"_onChildScroll",function(u){var h=u.scrollTop;if(r.state.scrollTop!==h){var v=r.props.scrollElement;v&&(typeof v.scrollTo=="function"?v.scrollTo(0,h+r._positionFromTop):v.scrollTop=h+r._positionFromTop)}}),O(r,"_registerResizeListener",function(u){u===window?window.addEventListener("resize",r._onResize,!1):r._detectElementResize.addResizeListener(u,r._onResize)}),O(r,"_unregisterResizeListener",function(u){u===window?window.removeEventListener("resize",r._onResize,!1):u&&r._detectElementResize.removeResizeListener(u,r._onResize)}),O(r,"_onResize",function(){r.updatePosition()}),O(r,"__handleWindowScrollEvent",function(){if(r._isMounted){var u=r.props.onScroll,h=r.props.scrollElement;if(h){var v=zi(h),m=Math.max(0,v.left-r._positionFromLeft),S=Math.max(0,v.top-r._positionFromTop);r.setState({isScrolling:!0,scrollLeft:m,scrollTop:S}),u({scrollLeft:m,scrollTop:S})}}}),O(r,"__resetIsScrolling",function(){r.setState({isScrolling:!1})}),r}return qe(i,s),We(i,[{key:"updatePosition",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.scrollElement,a=this.props.onResize,c=this.state,u=c.height,h=c.width,v=this._child||this._windowScrollerRef.current;if(v instanceof Element&&e){var m=Ca(v,e);this._positionFromTop=m.top,this._positionFromLeft=m.left}var S=Ei(e,this.props);(u!==S.height||h!==S.width)&&(this.setState({height:S.height,width:S.width}),a({height:S.height,width:S.width})),this.props.updateScrollTopOnUpdatePosition===!0&&(this.__handleWindowScrollEvent(),this.__resetIsScrolling())}},{key:"componentDidMount",value:function(){var e=this.props.scrollElement;this._detectElementResize=Sr(),this.updatePosition(e),e&&(Ri(this,e),this._registerResizeListener(e)),this._isMounted=!0}},{key:"componentDidUpdate",value:function(e,a){var c=this.props.scrollElement,u=e.scrollElement;u!==c&&u!=null&&c!=null&&(this.updatePosition(c),Ii(this,u),Ri(this,c),this._unregisterResizeListener(u),this._registerResizeListener(c))}},{key:"componentWillUnmount",value:function(){var e=this.props.scrollElement;e&&(Ii(this,e),this._unregisterResizeListener(e)),this._isMounted=!1}},{key:"render",value:function(){var e=this.props.children,a=this.state,c=a.isScrolling,u=a.scrollTop,h=a.scrollLeft,v=a.height,m=a.width;return ce.createElement("div",{ref:this._windowScrollerRef},e({onChildScroll:this._onChildScroll,registerChild:this._registerChild,height:v,isScrolling:c,scrollLeft:h,scrollTop:u,width:m}))}}])})(ce.PureComponent);O(Ra,"defaultProps",{onResize:function(){},onScroll:function(){},scrollingResetTimeInterval:Ta,scrollElement:Ai(),serverHeight:0,serverWidth:0});const Nn="timeline-editor",Ia=0,ki=1,Ea=10,Di=160,Li=20,Hn=1,$n=8,Gi=32,Un=20,Wi=5,ji={VERBOSE:0,LOG:1,INFO:2,WARN:3,ERROR:4,SILENT:1/0};function kt(s,i){return`color:${s};font-size:${i}px;`}class ln{static instances=[];static level=1;static Levels=ji;static noColor=!1;Levels=ji;level=1;prefix="";enabled=!0;debugColor=kt("#cccccc",12);logColor=kt("#bbbbbb",12);infoColor=kt("#2196f3",12);warnColor=kt("#ff00ff",12);errorColor=kt("#e91e63",12);fatalColor=kt("#9a0101",13);constructor(i){this.setPrefix(i),this.level=ln.level,ln.instances.push(this)}static setLevel(i){this.level=i,this.instances.forEach(r=>r.setLevel(i))}static enable(i){i&&(this.level=i),this.instances.forEach(r=>r.enable())}static disable(){this.instances.forEach(i=>i.disable())}setPrefix(i){this.prefix=i}enable(i=this.level){this.level=i,this.enabled=!0}disable(){this.enabled=!1}setLevel(i){this.level=i}trace(i,...r){!this.enabled||this.level>0||console.trace(`%c[${this.prefix}] ${i}`,this.debugColor,...r)}debug(i,...r){!this.enabled||this.level>0||console.debug(`%c[${this.prefix}] ${i}`,this.debugColor,...r)}log(i,...r){!this.enabled||this.level>1||console.log(`%c[${this.prefix}] ${i}`,this.logColor,...r)}info(i,...r){!this.enabled||this.level>2||console.info(`%c[${this.prefix}] ${i}`,this.infoColor,...r)}warn(i,...r){!this.enabled||this.level>3||console.warn(`%c[${this.prefix}] ${i}`,this.warnColor,...r)}error(i,...r){!this.enabled||this.level>4||console.error(`%c[${this.prefix}] ${i}`,this.errorColor,...r)}fatal(i,...r){!this.enabled||this.level>5||console.error(`%c[${this.prefix}] ${i}`,this.fatalColor,...r)}group(...i){console.group&&console.group(...i)}groupEnd(){console.groupEnd&&console.groupEnd()}groupCollapsed(...i){console.groupCollapsed&&console.groupCollapsed(...i)}}const gt=new ln("timeline");function za(s){let{editorData:i=[],effects:r={},scrollTop:e=0,scale:a=ki,scaleSplitCount:c=Ea,scaleWidth:u=Di,startLeft:h=Li,minScaleCount:v=Un,maxScaleCount:m=1/0,rowHeight:S=Gi}=s;a<=0&&(gt.error("Error: scale must be greater than 0!"),a=ki),e<0&&(gt.warn("Warning: scrollTop cannot be less than 0!"),e=0),c<=0&&(gt.warn("Warning: scaleSplitCount cannot be less than 1!"),c=1),u<=0&&(gt.warn("Warning: scaleWidth must be greater than 0!"),u=Di),h<0&&(gt.warn("Warning: startLeft cannot be less than 0!"),h=0),v<1&&(gt.warn("Warning: minScaleCount must be greater than 1!"),v=Un),v=parseInt(v+""),m<v&&(gt.warn("Warning: maxScaleCount cannot be less than minScaleCount!"),m=v),m=m===1/0?1/0:parseInt(m+""),S<=0&&(gt.warn("Warning: rowHeight must be greater than 0!"),S=Gi);const b={...s};return delete b.style,{...b,editorData:i,effects:r,scrollTop:e,scale:a,scaleSplitCount:c,scaleWidth:u,startLeft:h,minScaleCount:v,maxScaleCount:m,rowHeight:S}}function ot(s,i){const{startLeft:r,scale:e,scaleWidth:a}=i;return r+s/e*a}function Tt(s,i){const{startLeft:r,scale:e,scaleWidth:a}=i;return(s-r)/a*e}function Ut(s,i){const{left:r,width:e}=s,a=Tt(r,i),c=Tt(r+e,i);return{start:a,end:c}}function Bn(s,i){const{start:r,end:e}=s,a=ot(r,i),c=ot(e,i)-a;return{left:a,width:c}}function Oa(s,i){let r=0;return s.forEach(a=>{a.actions.forEach(c=>{r=Math.max(r,c.end)})}),Math.ceil(r/i.scale)+Wi}function Pa(s,i){const{startLeft:r,scaleWidth:e}=i,a=Math.ceil((s-r)/e);return Math.max(a+Wi,i.scaleCount)}function Ma(s,i){const r=[];return s.forEach(e=>{r.push(ot(e.start,i)),r.push(ot(e.end,i))}),r}function Aa(s){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];return i.map(function(e){return e.split(" ").map(function(a){return a?""+s+a:""}).join(" ")}).join(" ")}function je(...s){return Aa(`${Nn}-`,...s)}const cn=1,Fi=3,Ni=10;function ka(s){const i=K.useRef(Number.MIN_SAFE_INTEGER),r=K.useRef(Number.MAX_SAFE_INTEGER),e=K.useRef(cn),a=K.useRef();return{initAutoScroll:()=>{if(s?.current){const{left:m,width:S}=s.current.getBoundingClientRect();i.current=m,r.current=m+S}},dealDragAutoScroll:(m,S)=>{if(m.clientX>=r.current||m.clientX<=i.current){a.current&&cancelAnimationFrame(a.current);const b=Math.abs(m.clientX>=r.current?m.clientX-r.current:m.clientX-i.current);e.current=Math.min(Number((b/Ni).toFixed(0))*cn,Fi);const T=(m.clientX>=r.current?1:-1)*e.current,E=()=>{S&&S(T),a.current=requestAnimationFrame(E)};return a.current=requestAnimationFrame(E),!1}else a.current&&cancelAnimationFrame(a.current);return!0},dealResizeAutoScroll:(m,S,b)=>{if(m.clientX>=r.current||m.clientX<i.current){a.current&&cancelAnimationFrame(a.current);const C=Math.abs(m.clientX>=r.current?m.clientX-r.current:m.clientX-i.current);e.current=Math.min(Number((C/Ni).toFixed(0))*cn,Fi);const E=(m.clientX>=r.current?1:-1)*e.current,z=()=>{b&&b(E),a.current=requestAnimationFrame(z)};return a.current=requestAnimationFrame(z),!1}else a.current&&cancelAnimationFrame(a.current);return!0},stopAutoScroll:()=>{i.current=Number.MIN_SAFE_INTEGER,r.current=Number.MAX_SAFE_INTEGER,e.current=cn,a.current&&cancelAnimationFrame(a.current)}}}var Bt={exports:{}},Da=Bt.exports,Hi;function La(){return Hi||(Hi=1,(function(s,i){(function(r,e){s.exports=e()})(Da,(function(){function r(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);t&&(l=l.filter((function(d){return Object.getOwnPropertyDescriptor(n,d).enumerable}))),o.push.apply(o,l)}return o}function e(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?r(Object(o),!0).forEach((function(l){v(n,l,o[l])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(l){Object.defineProperty(n,l,Object.getOwnPropertyDescriptor(o,l))}))}return n}function a(n){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(n)}function c(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function u(n,t){for(var o=0;o<t.length;o++){var l=t[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(n,z(l.key),l)}}function h(n,t,o){return t&&u(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function v(n,t,o){return(t=z(t))in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function m(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),t&&b(n,t)}function S(n){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(n)}function b(n,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,l){return o.__proto__=l,o},b(n,t)}function C(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function T(n){var t=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}})();return function(){var o,l=S(n);if(t){var d=S(this).constructor;o=Reflect.construct(l,arguments,d)}else o=l.apply(this,arguments);return(function(f,p){if(p&&(typeof p=="object"||typeof p=="function"))return p;if(p!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C(f)})(this,o)}}function E(){return E=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,t,o){var l=(function(f,p){for(;!Object.prototype.hasOwnProperty.call(f,p)&&(f=S(f))!==null;);return f})(n,t);if(l){var d=Object.getOwnPropertyDescriptor(l,t);return d.get?d.get.call(arguments.length<3?n:o):d.value}},E.apply(this,arguments)}function z(n){var t=(function(o,l){if(typeof o!="object"||o===null)return o;var d=o[Symbol.toPrimitive];if(d!==void 0){var f=d.call(o,l);if(typeof f!="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(o)})(n,"string");return typeof t=="symbol"?t:t+""}var k=function(n){return!(!n||!n.Window)&&n instanceof n.Window},L=void 0,q=void 0;function P(n){L=n;var t=n.document.createTextNode("");t.ownerDocument!==n.document&&typeof n.wrap=="function"&&n.wrap(t)===t&&(n=n.wrap(n)),q=n}function W(n){return k(n)?n:(n.ownerDocument||n).defaultView||q.window}typeof window<"u"&&window&&P(window);var I=function(n){return!!n&&a(n)==="object"},V=function(n){return typeof n=="function"},x={window:function(n){return n===q||k(n)},docFrag:function(n){return I(n)&&n.nodeType===11},object:I,func:V,number:function(n){return typeof n=="number"},bool:function(n){return typeof n=="boolean"},string:function(n){return typeof n=="string"},element:function(n){if(!n||a(n)!=="object")return!1;var t=W(n)||q;return/object|function/.test(typeof Element>"u"?"undefined":a(Element))?n instanceof Element||n instanceof t.Element:n.nodeType===1&&typeof n.nodeName=="string"},plainObject:function(n){return I(n)&&!!n.constructor&&/function Object\b/.test(n.constructor.toString())},array:function(n){return I(n)&&n.length!==void 0&&V(n.splice)}};function j(n){var t=n.interaction;if(t.prepared.name==="drag"){var o=t.prepared.axis;o==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):o==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function oe(n){var t=n.iEvent,o=n.interaction;if(o.prepared.name==="drag"){var l=o.prepared.axis;if(l==="x"||l==="y"){var d=l==="x"?"y":"x";t.page[d]=o.coords.start.page[d],t.client[d]=o.coords.start.client[d],t.delta[d]=0}}}var ne={id:"actions/drag",install:function(n){var t=n.actions,o=n.Interactable,l=n.defaults;o.prototype.draggable=ne.draggable,t.map.drag=ne,t.methodDict.drag="draggable",l.actions.drag=ne.defaults},listeners:{"interactions:before-action-move":j,"interactions:action-resume":j,"interactions:action-move":oe,"auto-start:check":function(n){var t=n.interaction,o=n.interactable,l=n.buttons,d=o.options.drag;if(d&&d.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(l&o.options.drag.mouseButtons)!=0))return n.action={name:"drag",axis:d.lockAxis==="start"?d.startAxis:d.lockAxis},!1}},draggable:function(n){return x.object(n)?(this.options.drag.enabled=n.enabled!==!1,this.setPerAction("drag",n),this.setOnEvents("drag",n),/^(xy|x|y|start)$/.test(n.lockAxis)&&(this.options.drag.lockAxis=n.lockAxis),/^(xy|x|y)$/.test(n.startAxis)&&(this.options.drag.startAxis=n.startAxis),this):x.bool(n)?(this.options.drag.enabled=n,this):this.options.drag},beforeMove:j,move:oe,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(n){return n.search("drag")===0}},J=ne,ue={init:function(n){var t=n;ue.document=t.document,ue.DocumentFragment=t.DocumentFragment||fe,ue.SVGElement=t.SVGElement||fe,ue.SVGSVGElement=t.SVGSVGElement||fe,ue.SVGElementInstance=t.SVGElementInstance||fe,ue.Element=t.Element||fe,ue.HTMLElement=t.HTMLElement||ue.Element,ue.Event=t.Event,ue.Touch=t.Touch||fe,ue.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function fe(){}var pe=ue,ve={init:function(n){var t=pe.Element,o=n.navigator||{};ve.supportsTouch="ontouchstart"in n||x.func(n.DocumentTouch)&&pe.document instanceof n.DocumentTouch,ve.supportsPointerEvent=o.pointerEnabled!==!1&&!!pe.PointerEvent,ve.isIOS=/iP(hone|od|ad)/.test(o.platform),ve.isIOS7=/iP(hone|od|ad)/.test(o.platform)&&/OS 7[^\d]/.test(o.appVersion),ve.isIe9=/MSIE 9/.test(o.userAgent),ve.isOperaMobile=o.appName==="Opera"&&ve.supportsTouch&&/Presto/.test(o.userAgent),ve.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",ve.pEventTypes=ve.supportsPointerEvent?pe.PointerEvent===n.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ve.wheelEvent=pe.document&&"onmousewheel"in pe.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},be=ve;function Ee(n,t){if(n.contains)return n.contains(t);for(;t;){if(t===n)return!0;t=t.parentNode}return!1}function Fe(n,t){for(;x.element(n);){if(G(n,t))return n;n=Ie(n)}return null}function Ie(n){var t=n.parentNode;if(x.docFrag(t)){for(;(t=t.host)&&x.docFrag(t););return t}return t}function G(n,t){return q!==L&&(t=t.replace(/\/deep\//g," ")),n[be.prefixedMatchesSelector](t)}var F=function(n){return n.parentNode||n.host};function se(n,t){for(var o,l=[],d=n;(o=F(d))&&d!==t&&o!==d.ownerDocument;)l.unshift(d),d=o;return l}function U(n,t,o){for(;x.element(n);){if(G(n,t))return!0;if((n=Ie(n))===o)return G(n,t)}return!1}function X(n){return n.correspondingUseElement||n}function Y(n){var t=n instanceof pe.SVGElement?n.getBoundingClientRect():n.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}function Q(n){var t,o=Y(n);if(!be.isIOS7&&o){var l={x:(t=(t=W(n))||q).scrollX||t.document.documentElement.scrollLeft,y:t.scrollY||t.document.documentElement.scrollTop};o.left+=l.x,o.right+=l.x,o.top+=l.y,o.bottom+=l.y}return o}function re(n){for(var t=[];n;)t.push(n),n=Ie(n);return t}function he(n){return!!x.string(n)&&(pe.document.querySelector(n),!0)}function A(n,t){for(var o in t)n[o]=t[o];return n}function ae(n,t,o){return n==="parent"?Ie(o):n==="self"?t.getRect(o):Fe(o,n)}function Te(n,t,o,l){var d=n;return x.string(d)?d=ae(d,t,o):x.func(d)&&(d=d.apply(void 0,l)),x.element(d)&&(d=Q(d)),d}function H(n){return n&&{x:"x"in n?n.x:n.left,y:"y"in n?n.y:n.top}}function ee(n){return!n||"x"in n&&"y"in n||((n=A({},n)).x=n.left||0,n.y=n.top||0,n.width=n.width||(n.right||0)-n.x,n.height=n.height||(n.bottom||0)-n.y),n}function ie(n,t,o){n.left&&(t.left+=o.x),n.right&&(t.right+=o.x),n.top&&(t.top+=o.y),n.bottom&&(t.bottom+=o.y),t.width=t.right-t.left,t.height=t.bottom-t.top}function de(n,t,o){var l=o&&n.options[o];return H(Te(l&&l.origin||n.options.origin,n,t,[n&&t]))||{x:0,y:0}}function ye(n,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(y){return!0},l=arguments.length>3?arguments[3]:void 0;if(l=l||{},x.string(n)&&n.search(" ")!==-1&&(n=ge(n)),x.array(n))return n.forEach((function(y){return ye(y,t,o,l)})),l;if(x.object(n)&&(t=n,n=""),x.func(t)&&o(n))l[n]=l[n]||[],l[n].push(t);else if(x.array(t))for(var d=0,f=t;d<f.length;d++){var p=f[d];ye(n,p,o,l)}else if(x.object(t))for(var g in t)ye(ge(g).map((function(y){return"".concat(n).concat(y)})),t[g],o,l);return l}function ge(n){return n.trim().split(/ +/)}var Ne=function(n,t){return Math.sqrt(n*n+t*t)},mt=["webkit","moz"];function xe(n,t){n.__set||(n.__set={});var o=function(d){if(mt.some((function(f){return d.indexOf(f)===0})))return 1;typeof n[d]!="function"&&d!=="__set"&&Object.defineProperty(n,d,{get:function(){return d in n.__set?n.__set[d]:n.__set[d]=t[d]},set:function(f){n.__set[d]=f},configurable:!0})};for(var l in t)o(l);return n}function ze(n,t){n.page=n.page||{},n.page.x=t.page.x,n.page.y=t.page.y,n.client=n.client||{},n.client.x=t.client.x,n.client.y=t.client.y,n.timeStamp=t.timeStamp}function De(n){n.page.x=0,n.page.y=0,n.client.x=0,n.client.y=0}function He(n){return n instanceof pe.Event||n instanceof pe.Touch}function $e(n,t,o){return n=n||"page",(o=o||{}).x=t[n+"X"],o.y=t[n+"Y"],o}function Qe(n,t){return t=t||{x:0,y:0},be.isOperaMobile&&He(n)?($e("screen",n,t),t.x+=window.scrollX,t.y+=window.scrollY):$e("page",n,t),t}function Le(n){return x.number(n.pointerId)?n.pointerId:n.identifier}function Ue(n,t,o){var l=t.length>1?ut(t):t[0];Qe(l,n.page),(function(d,f){f=f||{},be.isOperaMobile&&He(d)?$e("screen",d,f):$e("client",d,f)})(l,n.client),n.timeStamp=o}function st(n){var t=[];return x.array(n)?(t[0]=n[0],t[1]=n[1]):n.type==="touchend"?n.touches.length===1?(t[0]=n.touches[0],t[1]=n.changedTouches[0]):n.touches.length===0&&(t[0]=n.changedTouches[0],t[1]=n.changedTouches[1]):(t[0]=n.touches[0],t[1]=n.touches[1]),t}function ut(n){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},o=0;o<n.length;o++){var l=n[o];for(var d in t)t[d]+=l[d]}for(var f in t)t[f]/=n.length;return t}function at(n){if(!n.length)return null;var t=st(n),o=Math.min(t[0].pageX,t[1].pageX),l=Math.min(t[0].pageY,t[1].pageY),d=Math.max(t[0].pageX,t[1].pageX),f=Math.max(t[0].pageY,t[1].pageY);return{x:o,y:l,left:o,top:l,right:d,bottom:f,width:d-o,height:f-l}}function lt(n,t){var o=t+"X",l=t+"Y",d=st(n),f=d[0][o]-d[1][o],p=d[0][l]-d[1][l];return Ne(f,p)}function Rt(n,t){var o=t+"X",l=t+"Y",d=st(n),f=d[1][o]-d[0][o],p=d[1][l]-d[0][l];return 180*Math.atan2(p,f)/Math.PI}function Bi(n){return x.string(n.pointerType)?n.pointerType:x.number(n.pointerType)?[void 0,void 0,"touch","pen","mouse"][n.pointerType]:/touch/.test(n.type||"")||n instanceof pe.Touch?"touch":"mouse"}function qi(n){var t=x.func(n.composedPath)?n.composedPath():n.path;return[X(t?t[0]:n.target),X(n.currentTarget)]}var un=(function(){function n(t){c(this,n),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=t}return h(n,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),n})();Object.defineProperty(un.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Vi=function(n,t){for(var o=0;o<t.length;o++){var l=t[o];n.push(l)}return n},Xi=function(n){return Vi([],n)},qt=function(n,t){for(var o=0;o<n.length;o++)if(t(n[o],o,n))return o;return-1},Vt=function(n,t){return n[qt(n,t)]},Dt=(function(n){m(o,n);var t=T(o);function o(l,d,f){var p;c(this,o),(p=t.call(this,d._interaction)).dropzone=void 0,p.dragEvent=void 0,p.relatedTarget=void 0,p.draggable=void 0,p.propagationStopped=!1,p.immediatePropagationStopped=!1;var g=f==="dragleave"?l.prev:l.cur,y=g.element,w=g.dropzone;return p.type=f,p.target=y,p.currentTarget=y,p.dropzone=w,p.dragEvent=d,p.relatedTarget=d.target,p.draggable=d.interactable,p.timeStamp=d.timeStamp,p}return h(o,[{key:"reject",value:function(){var l=this,d=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&d.cur.dropzone===this.dropzone&&d.cur.element===this.target)if(d.prev.dropzone=this.dropzone,d.prev.element=this.target,d.rejected=!0,d.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var f=d.activeDrops,p=qt(f,(function(y){var w=y.dropzone,_=y.element;return w===l.dropzone&&_===l.target}));d.activeDrops.splice(p,1);var g=new o(d,this.dragEvent,"dropdeactivate");g.dropzone=this.dropzone,g.target=this.target,this.dropzone.fire(g)}else this.dropzone.fire(new o(d,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),o})(un);function Yi(n,t){for(var o=0,l=n.slice();o<l.length;o++){var d=l[o],f=d.dropzone,p=d.element;t.dropzone=f,t.target=p,f.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function qn(n,t){for(var o=(function(f,p){for(var g=[],y=0,w=f.interactables.list;y<w.length;y++){var _=w[y];if(_.options.drop.enabled){var R=_.options.drop.accept;if(!(x.element(R)&&R!==p||x.string(R)&&!G(p,R)||x.func(R)&&!R({dropzone:_,draggableElement:p})))for(var M=0,$=_.getAllElements();M<$.length;M++){var N=$[M];N!==p&&g.push({dropzone:_,element:N,rect:_.getRect(N)})}}}return g})(n,t),l=0;l<o.length;l++){var d=o[l];d.rect=d.dropzone.getRect(d.element)}return o}function Ki(n,t,o){for(var l=n.dropState,d=n.interactable,f=n.element,p=[],g=0,y=l.activeDrops;g<y.length;g++){var w=y[g],_=w.dropzone,R=w.element,M=w.rect,$=_.dropCheck(t,o,d,f,R,M);p.push($?R:null)}var N=(function(B){for(var te,Z,le,we=[],Re=0;Re<B.length;Re++){var me=B[Re],Ce=B[te];if(me&&Re!==te)if(Ce){var Ye=F(me),ke=F(Ce);if(Ye!==me.ownerDocument)if(ke!==me.ownerDocument)if(Ye!==ke){we=we.length?we:se(Ce);var Je=void 0;if(Ce instanceof pe.HTMLElement&&me instanceof pe.SVGElement&&!(me instanceof pe.SVGSVGElement)){if(me===ke)continue;Je=me.ownerSVGElement}else Je=me;for(var nt=se(Je,Ce.ownerDocument),ht=0;nt[ht]&&nt[ht]===we[ht];)ht++;var Sn=[nt[ht-1],nt[ht],we[ht]];if(Sn[0])for(var Jt=Sn[0].lastChild;Jt;){if(Jt===Sn[1]){te=Re,we=nt;break}if(Jt===Sn[2])break;Jt=Jt.previousSibling}}else le=Ce,(parseInt(W(Z=me).getComputedStyle(Z).zIndex,10)||0)>=(parseInt(W(le).getComputedStyle(le).zIndex,10)||0)&&(te=Re);else te=Re}else te=Re}return te})(p);return l.activeDrops[N]||null}function Vn(n,t,o){var l=n.dropState,d={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return o.type==="dragstart"&&(d.activate=new Dt(l,o,"dropactivate"),d.activate.target=null,d.activate.dropzone=null),o.type==="dragend"&&(d.deactivate=new Dt(l,o,"dropdeactivate"),d.deactivate.target=null,d.deactivate.dropzone=null),l.rejected||(l.cur.element!==l.prev.element&&(l.prev.dropzone&&(d.leave=new Dt(l,o,"dragleave"),o.dragLeave=d.leave.target=l.prev.element,o.prevDropzone=d.leave.dropzone=l.prev.dropzone),l.cur.dropzone&&(d.enter=new Dt(l,o,"dragenter"),o.dragEnter=l.cur.element,o.dropzone=l.cur.dropzone)),o.type==="dragend"&&l.cur.dropzone&&(d.drop=new Dt(l,o,"drop"),o.dropzone=l.cur.dropzone,o.relatedTarget=l.cur.element),o.type==="dragmove"&&l.cur.dropzone&&(d.move=new Dt(l,o,"dropmove"),o.dropzone=l.cur.dropzone)),d}function Xn(n,t){var o=n.dropState,l=o.activeDrops,d=o.cur,f=o.prev;t.leave&&f.dropzone.fire(t.leave),t.enter&&d.dropzone.fire(t.enter),t.move&&d.dropzone.fire(t.move),t.drop&&d.dropzone.fire(t.drop),t.deactivate&&Yi(l,t.deactivate),o.prev.dropzone=d.dropzone,o.prev.element=d.element}function Zi(n,t){var o=n.interaction,l=n.iEvent,d=n.event;if(l.type==="dragmove"||l.type==="dragend"){var f=o.dropState;t.dynamicDrop&&(f.activeDrops=qn(t,o.element));var p=l,g=Ki(o,p,d);f.rejected=f.rejected&&!!g&&g.dropzone===f.cur.dropzone&&g.element===f.cur.element,f.cur.dropzone=g&&g.dropzone,f.cur.element=g&&g.element,f.events=Vn(o,0,p)}}var Qi={id:"actions/drop",install:function(n){var t=n.actions,o=n.interactStatic,l=n.Interactable,d=n.defaults;n.usePlugin(J),l.prototype.dropzone=function(f){return(function(p,g){if(x.object(g)){if(p.options.drop.enabled=g.enabled!==!1,g.listeners){var y=ye(g.listeners),w=Object.keys(y).reduce((function(R,M){return R[/^(enter|leave)/.test(M)?"drag".concat(M):/^(activate|deactivate|move)/.test(M)?"drop".concat(M):M]=y[M],R}),{}),_=p.options.drop.listeners;_&&p.off(_),p.on(w),p.options.drop.listeners=w}return x.func(g.ondrop)&&p.on("drop",g.ondrop),x.func(g.ondropactivate)&&p.on("dropactivate",g.ondropactivate),x.func(g.ondropdeactivate)&&p.on("dropdeactivate",g.ondropdeactivate),x.func(g.ondragenter)&&p.on("dragenter",g.ondragenter),x.func(g.ondragleave)&&p.on("dragleave",g.ondragleave),x.func(g.ondropmove)&&p.on("dropmove",g.ondropmove),/^(pointer|center)$/.test(g.overlap)?p.options.drop.overlap=g.overlap:x.number(g.overlap)&&(p.options.drop.overlap=Math.max(Math.min(1,g.overlap),0)),"accept"in g&&(p.options.drop.accept=g.accept),"checker"in g&&(p.options.drop.checker=g.checker),p}return x.bool(g)?(p.options.drop.enabled=g,p):p.options.drop})(this,f)},l.prototype.dropCheck=function(f,p,g,y,w,_){return(function(R,M,$,N,B,te,Z){var le=!1;if(!(Z=Z||R.getRect(te)))return!!R.options.drop.checker&&R.options.drop.checker(M,$,le,R,te,N,B);var we=R.options.drop.overlap;if(we==="pointer"){var Re=de(N,B,"drag"),me=Qe(M);me.x+=Re.x,me.y+=Re.y;var Ce=me.x>Z.left&&me.x<Z.right,Ye=me.y>Z.top&&me.y<Z.bottom;le=Ce&&Ye}var ke=N.getRect(B);if(ke&&we==="center"){var Je=ke.left+ke.width/2,nt=ke.top+ke.height/2;le=Je>=Z.left&&Je<=Z.right&&nt>=Z.top&&nt<=Z.bottom}return ke&&x.number(we)&&(le=Math.max(0,Math.min(Z.right,ke.right)-Math.max(Z.left,ke.left))*Math.max(0,Math.min(Z.bottom,ke.bottom)-Math.max(Z.top,ke.top))/(ke.width*ke.height)>=we),R.options.drop.checker&&(le=R.options.drop.checker(M,$,le,R,te,N,B)),le})(this,f,p,g,y,w,_)},o.dynamicDrop=function(f){return x.bool(f)?(n.dynamicDrop=f,o):n.dynamicDrop},A(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",n.dynamicDrop=!1,d.actions.drop=Qi.defaults},listeners:{"interactions:before-action-start":function(n){var t=n.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(n,t){var o=n.interaction,l=(n.event,n.iEvent);if(o.prepared.name==="drag"){var d=o.dropState;d.activeDrops=[],d.events={},d.activeDrops=qn(t,o.element),d.events=Vn(o,0,l),d.events.activate&&(Yi(d.activeDrops,d.events.activate),t.fire("actions/drop:start",{interaction:o,dragEvent:l}))}},"interactions:action-move":Zi,"interactions:after-action-move":function(n,t){var o=n.interaction,l=n.iEvent;if(o.prepared.name==="drag"){var d=o.dropState;Xn(o,d.events),t.fire("actions/drop:move",{interaction:o,dragEvent:l}),d.events={}}},"interactions:action-end":function(n,t){if(n.interaction.prepared.name==="drag"){var o=n.interaction,l=n.iEvent;Zi(n,t),Xn(o,o.dropState.events),t.fire("actions/drop:end",{interaction:o,dragEvent:l})}},"interactions:stop":function(n){var t=n.interaction;if(t.prepared.name==="drag"){var o=t.dropState;o&&(o.activeDrops=null,o.events=null,o.cur.dropzone=null,o.cur.element=null,o.prev.dropzone=null,o.prev.element=null,o.rejected=!1)}}},getActiveDrops:qn,getDrop:Ki,getDropEvents:Vn,fireDropEvents:Xn,filterEventType:function(n){return n.search("drag")===0||n.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Ja=Qi;function Yn(n){var t=n.interaction,o=n.iEvent,l=n.phase;if(t.prepared.name==="gesture"){var d=t.pointers.map((function(w){return w.pointer})),f=l==="start",p=l==="end",g=t.interactable.options.deltaSource;if(o.touches=[d[0],d[1]],f)o.distance=lt(d,g),o.box=at(d),o.scale=1,o.ds=0,o.angle=Rt(d,g),o.da=0,t.gesture.startDistance=o.distance,t.gesture.startAngle=o.angle;else if(p||t.pointers.length<2){var y=t.prevEvent;o.distance=y.distance,o.box=y.box,o.scale=y.scale,o.ds=0,o.angle=y.angle,o.da=0}else o.distance=lt(d,g),o.box=at(d),o.scale=o.distance/t.gesture.startDistance,o.angle=Rt(d,g),o.ds=o.scale-t.gesture.scale,o.da=o.angle-t.gesture.angle;t.gesture.distance=o.distance,t.gesture.angle=o.angle,x.number(o.scale)&&o.scale!==1/0&&!isNaN(o.scale)&&(t.gesture.scale=o.scale)}}var Kn={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(n){var t=n.actions,o=n.Interactable,l=n.defaults;o.prototype.gesturable=function(d){return x.object(d)?(this.options.gesture.enabled=d.enabled!==!1,this.setPerAction("gesture",d),this.setOnEvents("gesture",d),this):x.bool(d)?(this.options.gesture.enabled=d,this):this.options.gesture},t.map.gesture=Kn,t.methodDict.gesture="gesturable",l.actions.gesture=Kn.defaults},listeners:{"interactions:action-start":Yn,"interactions:action-move":Yn,"interactions:action-end":Yn,"interactions:new":function(n){n.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(n){if(!(n.interaction.pointers.length<2)){var t=n.interactable.options.gesture;if(t&&t.enabled)return n.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(n){return n.search("gesture")===0}},el=Kn;function tl(n,t,o,l,d,f,p){if(!t)return!1;if(t===!0){var g=x.number(f.width)?f.width:f.right-f.left,y=x.number(f.height)?f.height:f.bottom-f.top;if(p=Math.min(p,Math.abs((n==="left"||n==="right"?g:y)/2)),g<0&&(n==="left"?n="right":n==="right"&&(n="left")),y<0&&(n==="top"?n="bottom":n==="bottom"&&(n="top")),n==="left"){var w=g>=0?f.left:f.right;return o.x<w+p}if(n==="top"){var _=y>=0?f.top:f.bottom;return o.y<_+p}if(n==="right")return o.x>(g>=0?f.right:f.left)-p;if(n==="bottom")return o.y>(y>=0?f.bottom:f.top)-p}return!!x.element(l)&&(x.element(t)?t===l:U(l,t,d))}function Ji(n){var t=n.iEvent,o=n.interaction;if(o.prepared.name==="resize"&&o.resizeAxes){var l=t;o.interactable.options.resize.square?(o.resizeAxes==="y"?l.delta.x=l.delta.y:l.delta.y=l.delta.x,l.axes="xy"):(l.axes=o.resizeAxes,o.resizeAxes==="x"?l.delta.y=0:o.resizeAxes==="y"&&(l.delta.x=0))}}var dt,It,ft={id:"actions/resize",before:["actions/drag"],install:function(n){var t=n.actions,o=n.browser,l=n.Interactable,d=n.defaults;ft.cursors=(function(f){return f.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}})(o),ft.defaultMargin=o.supportsTouch||o.supportsPointerEvent?20:10,l.prototype.resizable=function(f){return(function(p,g,y){return x.object(g)?(p.options.resize.enabled=g.enabled!==!1,p.setPerAction("resize",g),p.setOnEvents("resize",g),x.string(g.axis)&&/^x$|^y$|^xy$/.test(g.axis)?p.options.resize.axis=g.axis:g.axis===null&&(p.options.resize.axis=y.defaults.actions.resize.axis),x.bool(g.preserveAspectRatio)?p.options.resize.preserveAspectRatio=g.preserveAspectRatio:x.bool(g.square)&&(p.options.resize.square=g.square),p):x.bool(g)?(p.options.resize.enabled=g,p):p.options.resize})(this,f,n)},t.map.resize=ft,t.methodDict.resize="resizable",d.actions.resize=ft.defaults},listeners:{"interactions:new":function(n){n.interaction.resizeAxes="xy"},"interactions:action-start":function(n){(function(t){var o=t.iEvent,l=t.interaction;if(l.prepared.name==="resize"&&l.prepared.edges){var d=o,f=l.rect;l._rects={start:A({},f),corrected:A({},f),previous:A({},f),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},d.edges=l.prepared.edges,d.rect=l._rects.corrected,d.deltaRect=l._rects.delta}})(n),Ji(n)},"interactions:action-move":function(n){(function(t){var o=t.iEvent,l=t.interaction;if(l.prepared.name==="resize"&&l.prepared.edges){var d=o,f=l.interactable.options.resize.invert,p=f==="reposition"||f==="negate",g=l.rect,y=l._rects,w=y.start,_=y.corrected,R=y.delta,M=y.previous;if(A(M,_),p){if(A(_,g),f==="reposition"){if(_.top>_.bottom){var $=_.top;_.top=_.bottom,_.bottom=$}if(_.left>_.right){var N=_.left;_.left=_.right,_.right=N}}}else _.top=Math.min(g.top,w.bottom),_.bottom=Math.max(g.bottom,w.top),_.left=Math.min(g.left,w.right),_.right=Math.max(g.right,w.left);for(var B in _.width=_.right-_.left,_.height=_.bottom-_.top,_)R[B]=_[B]-M[B];d.edges=l.prepared.edges,d.rect=_,d.deltaRect=R}})(n),Ji(n)},"interactions:action-end":function(n){var t=n.iEvent,o=n.interaction;if(o.prepared.name==="resize"&&o.prepared.edges){var l=t;l.edges=o.prepared.edges,l.rect=o._rects.corrected,l.deltaRect=o._rects.delta}},"auto-start:check":function(n){var t=n.interaction,o=n.interactable,l=n.element,d=n.rect,f=n.buttons;if(d){var p=A({},t.coords.cur.page),g=o.options.resize;if(g&&g.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||(f&g.mouseButtons)!=0)){if(x.object(g.edges)){var y={left:!1,right:!1,top:!1,bottom:!1};for(var w in y)y[w]=tl(w,g.edges[w],p,t._latestPointer.eventTarget,l,d,g.margin||ft.defaultMargin);y.left=y.left&&!y.right,y.top=y.top&&!y.bottom,(y.left||y.right||y.top||y.bottom)&&(n.action={name:"resize",edges:y})}else{var _=g.axis!=="y"&&p.x>d.right-ft.defaultMargin,R=g.axis!=="x"&&p.y>d.bottom-ft.defaultMargin;(_||R)&&(n.action={name:"resize",axes:(_?"x":"")+(R?"y":"")})}return!n.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(n){var t=n.edges,o=n.axis,l=n.name,d=ft.cursors,f=null;if(o)f=d[l+o];else if(t){for(var p="",g=0,y=["top","bottom","left","right"];g<y.length;g++){var w=y[g];t[w]&&(p+=w)}f=d[p]}return f},filterEventType:function(n){return n.search("resize")===0},defaultMargin:null},nl=ft,rl={id:"actions",install:function(n){n.usePlugin(el),n.usePlugin(nl),n.usePlugin(J),n.usePlugin(Ja)}},eo=0,yt={request:function(n){return dt(n)},cancel:function(n){return It(n)},init:function(n){if(dt=n.requestAnimationFrame,It=n.cancelAnimationFrame,!dt)for(var t=["ms","moz","webkit","o"],o=0;o<t.length;o++){var l=t[o];dt=n["".concat(l,"RequestAnimationFrame")],It=n["".concat(l,"CancelAnimationFrame")]||n["".concat(l,"CancelRequestAnimationFrame")]}dt=dt&&dt.bind(n),It=It&&It.bind(n),dt||(dt=function(d){var f=Date.now(),p=Math.max(0,16-(f-eo)),g=n.setTimeout((function(){d(f+p)}),p);return eo=f+p,g},It=function(d){return clearTimeout(d)})}},Se={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(n){Se.isScrolling=!0,yt.cancel(Se.i),n.autoScroll=Se,Se.interaction=n,Se.prevTime=Se.now(),Se.i=yt.request(Se.scroll)},stop:function(){Se.isScrolling=!1,Se.interaction&&(Se.interaction.autoScroll=null),yt.cancel(Se.i)},scroll:function(){var n=Se.interaction,t=n.interactable,o=n.element,l=n.prepared.name,d=t.options[l].autoScroll,f=to(d.container,t,o),p=Se.now(),g=(p-Se.prevTime)/1e3,y=d.speed*g;if(y>=1){var w={x:Se.x*y,y:Se.y*y};if(w.x||w.y){var _=no(f);x.window(f)?f.scrollBy(w.x,w.y):f&&(f.scrollLeft+=w.x,f.scrollTop+=w.y);var R=no(f),M={x:R.x-_.x,y:R.y-_.y};(M.x||M.y)&&t.fire({type:"autoscroll",target:o,interactable:t,delta:M,interaction:n,container:f})}Se.prevTime=p}Se.isScrolling&&(yt.cancel(Se.i),Se.i=yt.request(Se.scroll))},check:function(n,t){var o;return(o=n.options[t].autoScroll)==null?void 0:o.enabled},onInteractionMove:function(n){var t=n.interaction,o=n.pointer;if(t.interacting()&&Se.check(t.interactable,t.prepared.name))if(t.simulation)Se.x=Se.y=0;else{var l,d,f,p,g=t.interactable,y=t.element,w=t.prepared.name,_=g.options[w].autoScroll,R=to(_.container,g,y);if(x.window(R))p=o.clientX<Se.margin,l=o.clientY<Se.margin,d=o.clientX>R.innerWidth-Se.margin,f=o.clientY>R.innerHeight-Se.margin;else{var M=Y(R);p=o.clientX<M.left+Se.margin,l=o.clientY<M.top+Se.margin,d=o.clientX>M.right-Se.margin,f=o.clientY>M.bottom-Se.margin}Se.x=d?1:p?-1:0,Se.y=f?1:l?-1:0,Se.isScrolling||(Se.margin=_.margin,Se.speed=_.speed,Se.start(t))}}};function to(n,t,o){return(x.string(n)?ae(n,t,o):n)||W(o)}function no(n){return x.window(n)&&(n=window.document.body),{x:n.scrollLeft,y:n.scrollTop}}var il={id:"auto-scroll",install:function(n){var t=n.defaults,o=n.actions;n.autoScroll=Se,Se.now=function(){return n.now()},o.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=Se.defaults},listeners:{"interactions:new":function(n){n.interaction.autoScroll=null},"interactions:destroy":function(n){n.interaction.autoScroll=null,Se.stop(),Se.interaction&&(Se.interaction=null)},"interactions:stop":Se.stop,"interactions:action-move":function(n){return Se.onInteractionMove(n)}}},ol=il;function Xt(n,t){var o=!1;return function(){return o||(q.console.warn(t),o=!0),n.apply(this,arguments)}}function Zn(n,t){return n.name=t.name,n.axis=t.axis,n.edges=t.edges,n}function sl(n){return x.bool(n)?(this.options.styleCursor=n,this):n===null?(delete this.options.styleCursor,this):this.options.styleCursor}function al(n){return x.func(n)?(this.options.actionChecker=n,this):n===null?(delete this.options.actionChecker,this):this.options.actionChecker}var ll={id:"auto-start/interactableMethods",install:function(n){var t=n.Interactable;t.prototype.getAction=function(o,l,d,f){var p=(function(g,y,w,_,R){var M=g.getRect(_),$=y.buttons||{0:1,1:4,3:8,4:16}[y.button],N={action:null,interactable:g,interaction:w,element:_,rect:M,buttons:$};return R.fire("auto-start:check",N),N.action})(this,l,d,f,n);return this.options.actionChecker?this.options.actionChecker(o,l,p,this,f,d):p},t.prototype.ignoreFrom=Xt((function(o){return this._backCompatOption("ignoreFrom",o)}),"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=Xt((function(o){return this._backCompatOption("allowFrom",o)}),"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=al,t.prototype.styleCursor=sl}};function ro(n,t,o,l,d){return t.testIgnoreAllow(t.options[n.name],o,l)&&t.options[n.name].enabled&&dn(t,o,n,d)?n:null}function cl(n,t,o,l,d,f,p){for(var g=0,y=l.length;g<y;g++){var w=l[g],_=d[g],R=w.getAction(t,o,n,_);if(R){var M=ro(R,w,_,f,p);if(M)return{action:M,interactable:w,element:_}}}return{action:null,interactable:null,element:null}}function io(n,t,o,l,d){var f=[],p=[],g=l;function y(_){f.push(_),p.push(g)}for(;x.element(g);){f=[],p=[],d.interactables.forEachMatch(g,y);var w=cl(n,t,o,f,p,l,d);if(w.action&&!w.interactable.options[w.action.name].manualStart)return w;g=Ie(g)}return{action:null,interactable:null,element:null}}function oo(n,t,o){var l=t.action,d=t.interactable,f=t.element;l=l||{name:null},n.interactable=d,n.element=f,Zn(n.prepared,l),n.rect=d&&l.name?d.getRect(f):null,ao(n,o),o.fire("autoStart:prepared",{interaction:n})}function dn(n,t,o,l){var d=n.options,f=d[o.name].max,p=d[o.name].maxPerElement,g=l.autoStart.maxInteractions,y=0,w=0,_=0;if(!(f&&p&&g))return!1;for(var R=0,M=l.interactions.list;R<M.length;R++){var $=M[R],N=$.prepared.name;if($.interacting()&&(++y>=g||$.interactable===n&&((w+=N===o.name?1:0)>=f||$.element===t&&(_++,N===o.name&&_>=p))))return!1}return g>0}function so(n,t){return x.number(n)?(t.autoStart.maxInteractions=n,this):t.autoStart.maxInteractions}function Qn(n,t,o){var l=o.autoStart.cursorElement;l&&l!==n&&(l.style.cursor=""),n.ownerDocument.documentElement.style.cursor=t,n.style.cursor=t,o.autoStart.cursorElement=t?n:null}function ao(n,t){var o=n.interactable,l=n.element,d=n.prepared;if(n.pointerType==="mouse"&&o&&o.options.styleCursor){var f="";if(d.name){var p=o.options[d.name].cursorChecker;f=x.func(p)?p(d,o,l,n._interacting):t.actions.map[d.name].getCursor(d)}Qn(n.element,f||"",t)}else t.autoStart.cursorElement&&Qn(t.autoStart.cursorElement,"",t)}var ul={id:"auto-start/base",before:["actions"],install:function(n){var t=n.interactStatic,o=n.defaults;n.usePlugin(ll),o.base.actionChecker=null,o.base.styleCursor=!0,A(o.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(l){return so(l,n)},n.autoStart={maxInteractions:1/0,withinInteractionLimit:dn,cursorElement:null}},listeners:{"interactions:down":function(n,t){var o=n.interaction,l=n.pointer,d=n.event,f=n.eventTarget;o.interacting()||oo(o,io(o,l,d,f,t),t)},"interactions:move":function(n,t){(function(o,l){var d=o.interaction,f=o.pointer,p=o.event,g=o.eventTarget;d.pointerType!=="mouse"||d.pointerIsDown||d.interacting()||oo(d,io(d,f,p,g,l),l)})(n,t),(function(o,l){var d=o.interaction;if(d.pointerIsDown&&!d.interacting()&&d.pointerWasMoved&&d.prepared.name){l.fire("autoStart:before-start",o);var f=d.interactable,p=d.prepared.name;p&&f&&(f.options[p].manualStart||!dn(f,d.element,d.prepared,l)?d.stop():(d.start(d.prepared,f,d.element),ao(d,l)))}})(n,t)},"interactions:stop":function(n,t){var o=n.interaction,l=o.interactable;l&&l.options.styleCursor&&Qn(o.element,"",t)}},maxInteractions:so,withinInteractionLimit:dn,validateAction:ro},Jn=ul,dl={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(n,t){var o=n.interaction,l=n.eventTarget,d=n.dx,f=n.dy;if(o.prepared.name==="drag"){var p=Math.abs(d),g=Math.abs(f),y=o.interactable.options.drag,w=y.startAxis,_=p>g?"x":p<g?"y":"xy";if(o.prepared.axis=y.lockAxis==="start"?_[0]:y.lockAxis,_!=="xy"&&w!=="xy"&&w!==_){o.prepared.name=null;for(var R=l,M=function(N){if(N!==o.interactable){var B=o.interactable.options.drag;if(!B.manualStart&&N.testIgnoreAllow(B,R,l)){var te=N.getAction(o.downPointer,o.downEvent,o,R);if(te&&te.name==="drag"&&(function(Z,le){if(!le)return!1;var we=le.options.drag.startAxis;return Z==="xy"||we==="xy"||we===Z})(_,N)&&Jn.validateAction(te,N,R,l,t))return N}}};x.element(R);){var $=t.interactables.forEachMatch(R,M);if($){o.prepared.name="drag",o.interactable=$,o.element=R;break}R=Ie(R)}}}}}};function er(n){var t=n.prepared&&n.prepared.name;if(!t)return null;var o=n.interactable.options;return o[t].hold||o[t].delay}var fl={id:"auto-start/hold",install:function(n){var t=n.defaults;n.usePlugin(Jn),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(n){n.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(n){var t=n.interaction,o=er(t);o>0&&(t.autoStartHoldTimer=setTimeout((function(){t.start(t.prepared,t.interactable,t.element)}),o))},"interactions:move":function(n){var t=n.interaction,o=n.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!o&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(n){var t=n.interaction;er(t)>0&&(t.prepared.name=null)}},getHoldDuration:er},hl=fl,pl={id:"auto-start",install:function(n){n.usePlugin(Jn),n.usePlugin(hl),n.usePlugin(dl)}},vl=function(n){return/^(always|never|auto)$/.test(n)?(this.options.preventDefault=n,this):x.bool(n)?(this.options.preventDefault=n?"always":"never",this):this.options.preventDefault};function gl(n){var t=n.interaction,o=n.event;t.interactable&&t.interactable.checkAndPreventDefault(o)}var lo={id:"core/interactablePreventDefault",install:function(n){var t=n.Interactable;t.prototype.preventDefault=vl,t.prototype.checkAndPreventDefault=function(o){return(function(l,d,f){var p=l.options.preventDefault;if(p!=="never")if(p!=="always"){if(d.events.supportsPassive&&/^touch(start|move)$/.test(f.type)){var g=W(f.target).document,y=d.getDocOptions(g);if(!y||!y.events||y.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(f.type)||x.element(f.target)&&G(f.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||f.preventDefault()}else f.preventDefault()})(this,n,o)},n.interactions.docEvents.push({type:"dragstart",listener:function(o){for(var l=0,d=n.interactions.list;l<d.length;l++){var f=d[l];if(f.element&&(f.element===o.target||Ee(f.element,o.target)))return void f.interactable.checkAndPreventDefault(o)}}})},listeners:["down","move","up","cancel"].reduce((function(n,t){return n["interactions:".concat(t)]=gl,n}),{})};function fn(n,t){if(t.phaselessTypes[n])return!0;for(var o in t.map)if(n.indexOf(o)===0&&n.substr(o.length)in t.phases)return!0;return!1}function Lt(n){var t={};for(var o in n){var l=n[o];x.plainObject(l)?t[o]=Lt(l):x.array(l)?t[o]=Xi(l):t[o]=l}return t}var tr=(function(){function n(t){c(this,n),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=t,this.result=hn(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return h(n,[{key:"start",value:function(t,o){var l,d,f=t.phase,p=this.interaction,g=(function(w){var _=w.interactable.options[w.prepared.name],R=_.modifiers;return R&&R.length?R:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map((function(M){var $=_[M];return $&&$.enabled&&{options:$,methods:$._methods}})).filter((function(M){return!!M}))})(p);this.prepareStates(g),this.startEdges=A({},p.edges),this.edges=A({},this.startEdges),this.startOffset=(l=p.rect,d=o,l?{left:d.x-l.left,top:d.y-l.top,right:l.right-d.x,bottom:l.bottom-d.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var y=this.fillArg({phase:f,pageCoords:o,preEnd:!1});return this.result=hn(),this.startAll(y),this.result=this.setAll(y)}},{key:"fillArg",value:function(t){var o=this.interaction;return t.interaction=o,t.interactable=o.interactable,t.element=o.element,t.rect||(t.rect=o.rect),t.edges||(t.edges=this.startEdges),t.startOffset=this.startOffset,t}},{key:"startAll",value:function(t){for(var o=0,l=this.states;o<l.length;o++){var d=l[o];d.methods.start&&(t.state=d,d.methods.start(t))}}},{key:"setAll",value:function(t){var o=t.phase,l=t.preEnd,d=t.skipModifiers,f=t.rect,p=t.edges;t.coords=A({},t.pageCoords),t.rect=A({},f),t.edges=A({},p);for(var g=d?this.states.slice(d):this.states,y=hn(t.coords,t.rect),w=0;w<g.length;w++){var _,R=g[w],M=R.options,$=A({},t.coords),N=null;(_=R.methods)!=null&&_.set&&this.shouldDo(M,l,o)&&(t.state=R,N=R.methods.set(t),ie(t.edges,t.rect,{x:t.coords.x-$.x,y:t.coords.y-$.y})),y.eventProps.push(N)}A(this.edges,t.edges),y.delta.x=t.coords.x-t.pageCoords.x,y.delta.y=t.coords.y-t.pageCoords.y,y.rectDelta.left=t.rect.left-f.left,y.rectDelta.right=t.rect.right-f.right,y.rectDelta.top=t.rect.top-f.top,y.rectDelta.bottom=t.rect.bottom-f.bottom;var B=this.result.coords,te=this.result.rect;if(B&&te){var Z=y.rect.left!==te.left||y.rect.right!==te.right||y.rect.top!==te.top||y.rect.bottom!==te.bottom;y.changed=Z||B.x!==y.coords.x||B.y!==y.coords.y}return y}},{key:"applyToInteraction",value:function(t){var o=this.interaction,l=t.phase,d=o.coords.cur,f=o.coords.start,p=this.result,g=this.startDelta,y=p.delta;l==="start"&&A(this.startDelta,p.delta);for(var w=0,_=[[f,g],[d,y]];w<_.length;w++){var R=_[w],M=R[0],$=R[1];M.page.x+=$.x,M.page.y+=$.y,M.client.x+=$.x,M.client.y+=$.y}var N=this.result.rectDelta,B=t.rect||o.rect;B.left+=N.left,B.right+=N.right,B.top+=N.top,B.bottom+=N.bottom,B.width=B.right-B.left,B.height=B.bottom-B.top}},{key:"setAndApply",value:function(t){var o=this.interaction,l=t.phase,d=t.preEnd,f=t.skipModifiers,p=this.setAll(this.fillArg({preEnd:d,phase:l,pageCoords:t.modifiedCoords||o.coords.cur.page}));if(this.result=p,!p.changed&&(!f||f<this.states.length)&&o.interacting())return!1;if(t.modifiedCoords){var g=o.coords.cur.page,y={x:t.modifiedCoords.x-g.x,y:t.modifiedCoords.y-g.y};p.coords.x+=y.x,p.coords.y+=y.y,p.delta.x+=y.x,p.delta.y+=y.y}this.applyToInteraction(t)}},{key:"beforeEnd",value:function(t){var o=t.interaction,l=t.event,d=this.states;if(d&&d.length){for(var f=!1,p=0;p<d.length;p++){var g=d[p];t.state=g;var y=g.options,w=g.methods,_=w.beforeEnd&&w.beforeEnd(t);if(_)return this.endResult=_,!1;f=f||!f&&this.shouldDo(y,!0,t.phase,!0)}f&&o.move({event:l,preEnd:!0})}}},{key:"stop",value:function(t){var o=t.interaction;if(this.states&&this.states.length){var l=A({states:this.states,interactable:o.interactable,element:o.element,rect:null},t);this.fillArg(l);for(var d=0,f=this.states;d<f.length;d++){var p=f[d];l.state=p,p.methods.stop&&p.methods.stop(l)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(t){this.states=[];for(var o=0;o<t.length;o++){var l=t[o],d=l.options,f=l.methods,p=l.name;this.states.push({options:d,methods:f,index:o,name:p})}return this.states}},{key:"restoreInteractionCoords",value:function(t){var o=t.interaction,l=o.coords,d=o.rect,f=o.modification;if(f.result){for(var p=f.startDelta,g=f.result,y=g.delta,w=g.rectDelta,_=0,R=[[l.start,p],[l.cur,y]];_<R.length;_++){var M=R[_],$=M[0],N=M[1];$.page.x-=N.x,$.page.y-=N.y,$.client.x-=N.x,$.client.y-=N.y}d.left-=w.left,d.right-=w.right,d.top-=w.top,d.bottom-=w.bottom}}},{key:"shouldDo",value:function(t,o,l,d){return!(!t||t.enabled===!1||d&&!t.endOnly||t.endOnly&&!o||l==="start"&&!t.setStart)}},{key:"copyFrom",value:function(t){this.startOffset=t.startOffset,this.startDelta=t.startDelta,this.startEdges=t.startEdges,this.edges=t.edges,this.states=t.states.map((function(o){return Lt(o)})),this.result=hn(A({},t.result.coords),A({},t.result.rect))}},{key:"destroy",value:function(){for(var t in this)this[t]=null}}]),n})();function hn(n,t){return{rect:t,coords:n,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function St(n,t){var o=n.defaults,l={start:n.start,set:n.set,beforeEnd:n.beforeEnd,stop:n.stop},d=function(f){var p=f||{};for(var g in p.enabled=p.enabled!==!1,o)g in p||(p[g]=o[g]);var y={options:p,methods:l,name:t,enable:function(){return p.enabled=!0,y},disable:function(){return p.enabled=!1,y}};return y};return t&&typeof t=="string"&&(d._defaults=o,d._methods=l),d}function Yt(n){var t=n.iEvent,o=n.interaction.modification.result;o&&(t.modifiers=o.eventProps)}var ml={id:"modifiers/base",before:["actions"],install:function(n){n.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(n){var t=n.interaction;t.modification=new tr(t)},"interactions:before-action-start":function(n){var t=n.interaction,o=n.interaction.modification;o.start(n,t.coords.start.page),t.edges=o.edges,o.applyToInteraction(n)},"interactions:before-action-move":function(n){var t=n.interaction,o=t.modification,l=o.setAndApply(n);return t.edges=o.edges,l},"interactions:before-action-end":function(n){var t=n.interaction,o=t.modification,l=o.beforeEnd(n);return t.edges=o.startEdges,l},"interactions:action-start":Yt,"interactions:action-move":Yt,"interactions:action-end":Yt,"interactions:after-action-start":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:after-action-move":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:stop":function(n){return n.interaction.modification.stop(n)}}},co=ml,uo={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},nr=(function(n){m(o,n);var t=T(o);function o(l,d,f,p,g,y,w){var _;c(this,o),(_=t.call(this,l)).relatedTarget=null,_.screenX=void 0,_.screenY=void 0,_.button=void 0,_.buttons=void 0,_.ctrlKey=void 0,_.shiftKey=void 0,_.altKey=void 0,_.metaKey=void 0,_.page=void 0,_.client=void 0,_.delta=void 0,_.rect=void 0,_.x0=void 0,_.y0=void 0,_.t0=void 0,_.dt=void 0,_.duration=void 0,_.clientX0=void 0,_.clientY0=void 0,_.velocity=void 0,_.speed=void 0,_.swipe=void 0,_.axes=void 0,_.preEnd=void 0,g=g||l.element;var R=l.interactable,M=(R&&R.options||uo).deltaSource,$=de(R,g,f),N=p==="start",B=p==="end",te=N?C(_):l.prevEvent,Z=N?l.coords.start:B?{page:te.page,client:te.client,timeStamp:l.coords.cur.timeStamp}:l.coords.cur;return _.page=A({},Z.page),_.client=A({},Z.client),_.rect=A({},l.rect),_.timeStamp=Z.timeStamp,B||(_.page.x-=$.x,_.page.y-=$.y,_.client.x-=$.x,_.client.y-=$.y),_.ctrlKey=d.ctrlKey,_.altKey=d.altKey,_.shiftKey=d.shiftKey,_.metaKey=d.metaKey,_.button=d.button,_.buttons=d.buttons,_.target=g,_.currentTarget=g,_.preEnd=y,_.type=w||f+(p||""),_.interactable=R,_.t0=N?l.pointers[l.pointers.length-1].downTime:te.t0,_.x0=l.coords.start.page.x-$.x,_.y0=l.coords.start.page.y-$.y,_.clientX0=l.coords.start.client.x-$.x,_.clientY0=l.coords.start.client.y-$.y,_.delta=N||B?{x:0,y:0}:{x:_[M].x-te[M].x,y:_[M].y-te[M].y},_.dt=l.coords.delta.timeStamp,_.duration=_.timeStamp-_.t0,_.velocity=A({},l.coords.velocity[M]),_.speed=Ne(_.velocity.x,_.velocity.y),_.swipe=B||p==="inertiastart"?_.getSwipe():null,_}return h(o,[{key:"getSwipe",value:function(){var l=this._interaction;if(l.prevEvent.speed<600||this.timeStamp-l.prevEvent.timeStamp>150)return null;var d=180*Math.atan2(l.prevEvent.velocityY,l.prevEvent.velocityX)/Math.PI;d<0&&(d+=360);var f=112.5<=d&&d<247.5,p=202.5<=d&&d<337.5;return{up:p,down:!p&&22.5<=d&&d<157.5,left:f,right:!f&&(292.5<=d||d<67.5),angle:d,speed:l.prevEvent.speed,velocity:{x:l.prevEvent.velocityX,y:l.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),o})(un);Object.defineProperties(nr.prototype,{pageX:{get:function(){return this.page.x},set:function(n){this.page.x=n}},pageY:{get:function(){return this.page.y},set:function(n){this.page.y=n}},clientX:{get:function(){return this.client.x},set:function(n){this.client.x=n}},clientY:{get:function(){return this.client.y},set:function(n){this.client.y=n}},dx:{get:function(){return this.delta.x},set:function(n){this.delta.x=n}},dy:{get:function(){return this.delta.y},set:function(n){this.delta.y=n}},velocityX:{get:function(){return this.velocity.x},set:function(n){this.velocity.x=n}},velocityY:{get:function(){return this.velocity.y},set:function(n){this.velocity.y=n}}});var yl=h((function n(t,o,l,d,f){c(this,n),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=t,this.pointer=o,this.event=l,this.downTime=d,this.downTarget=f})),Sl=(function(n){return n.interactable="",n.element="",n.prepared="",n.pointerIsDown="",n.pointerWasMoved="",n._proxy="",n})({}),fo=(function(n){return n.start="",n.move="",n.end="",n.stop="",n.interacting="",n})({}),_l=0,bl=(function(){function n(t){var o=this,l=t.pointerType,d=t.scopeFire;c(this,n),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Xt((function(_){this.move(_)}),"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=_l++,this._scopeFire=d,this.pointerType=l;var f=this;this._proxy={};var p=function(_){Object.defineProperty(o._proxy,_,{get:function(){return f[_]}})};for(var g in Sl)p(g);var y=function(_){Object.defineProperty(o._proxy,_,{value:function(){return f[_].apply(f,arguments)}})};for(var w in fo)y(w);this._scopeFire("interactions:new",{interaction:this})}return h(n,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(t,o,l){var d=this.updatePointer(t,o,l,!0),f=this.pointers[d];this._scopeFire("interactions:down",{pointer:t,event:o,eventTarget:l,pointerIndex:d,pointerInfo:f,type:"down",interaction:this})}},{key:"start",value:function(t,o,l){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(t.name==="gesture"?2:1)||!o.options[t.name].enabled)&&(Zn(this.prepared,t),this.interactable=o,this.element=l,this.rect=o.getRect(l),this.edges=this.prepared.edges?A({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(t,o,l){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(t,o,l,!1);var d,f,p=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(d=this.coords.cur.client.x-this.coords.start.client.x,f=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=Ne(d,f)>this.pointerMoveTolerance);var g,y,w,_=this.getPointerIndex(t),R={pointer:t,pointerIndex:_,pointerInfo:this.pointers[_],event:o,type:"move",eventTarget:l,dx:d,dy:f,duplicate:p,interaction:this};p||(g=this.coords.velocity,y=this.coords.delta,w=Math.max(y.timeStamp/1e3,.001),g.page.x=y.page.x/w,g.page.y=y.page.y/w,g.client.x=y.client.x/w,g.client.y=y.client.y/w,g.timeStamp=w),this._scopeFire("interactions:move",R),p||this.simulation||(this.interacting()&&(R.type=null,this.move(R)),this.pointerWasMoved&&ze(this.coords.prev,this.coords.cur))}},{key:"move",value:function(t){t&&t.event||De(this.coords.delta),(t=A({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},t||{})).phase="move",this._doPhase(t)}},{key:"pointerUp",value:function(t,o,l,d){var f=this.getPointerIndex(t);f===-1&&(f=this.updatePointer(t,o,l,!1));var p=/cancel$/i.test(o.type)?"cancel":"up";this._scopeFire("interactions:".concat(p),{pointer:t,pointerIndex:f,pointerInfo:this.pointers[f],event:o,eventTarget:l,type:p,curEventTarget:d,interaction:this}),this.simulation||this.end(o),this.removePointer(t,o)}},{key:"documentBlur",value:function(t){this.end(t),this._scopeFire("interactions:blur",{event:t,type:"blur",interaction:this})}},{key:"end",value:function(t){var o;this._ending=!0,t=t||this._latestPointer.event,this.interacting()&&(o=this._doPhase({event:t,interaction:this,phase:"end"})),this._ending=!1,o===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(t){var o=Le(t);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:qt(this.pointers,(function(l){return l.id===o}))}},{key:"getPointerInfo",value:function(t){return this.pointers[this.getPointerIndex(t)]}},{key:"updatePointer",value:function(t,o,l,d){var f,p,g,y=Le(t),w=this.getPointerIndex(t),_=this.pointers[w];return d=d!==!1&&(d||/(down|start)$/i.test(o.type)),_?_.pointer=t:(_=new yl(y,t,o,null,null),w=this.pointers.length,this.pointers.push(_)),Ue(this.coords.cur,this.pointers.map((function(R){return R.pointer})),this._now()),f=this.coords.delta,p=this.coords.prev,g=this.coords.cur,f.page.x=g.page.x-p.page.x,f.page.y=g.page.y-p.page.y,f.client.x=g.client.x-p.client.x,f.client.y=g.client.y-p.client.y,f.timeStamp=g.timeStamp-p.timeStamp,d&&(this.pointerIsDown=!0,_.downTime=this.coords.cur.timeStamp,_.downTarget=l,xe(this.downPointer,t),this.interacting()||(ze(this.coords.start,this.coords.cur),ze(this.coords.prev,this.coords.cur),this.downEvent=o,this.pointerWasMoved=!1)),this._updateLatestPointer(t,o,l),this._scopeFire("interactions:update-pointer",{pointer:t,event:o,eventTarget:l,down:d,pointerInfo:_,pointerIndex:w,interaction:this}),w}},{key:"removePointer",value:function(t,o){var l=this.getPointerIndex(t);if(l!==-1){var d=this.pointers[l];this._scopeFire("interactions:remove-pointer",{pointer:t,event:o,eventTarget:null,pointerIndex:l,pointerInfo:d,interaction:this}),this.pointers.splice(l,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(t,o,l){this._latestPointer.pointer=t,this._latestPointer.event=o,this._latestPointer.eventTarget=l}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(t,o,l,d){return new nr(this,t,this.prepared.name,o,this.element,l,d)}},{key:"_fireEvent",value:function(t){var o;(o=this.interactable)==null||o.fire(t),(!this.prevEvent||t.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=t)}},{key:"_doPhase",value:function(t){var o=t.event,l=t.phase,d=t.preEnd,f=t.type,p=this.rect;if(p&&l==="move"&&(ie(this.edges,p,this.coords.delta[this.interactable.options.deltaSource]),p.width=p.right-p.left,p.height=p.bottom-p.top),this._scopeFire("interactions:before-action-".concat(l),t)===!1)return!1;var g=t.iEvent=this._createPreparedEvent(o,l,d,f);return this._scopeFire("interactions:action-".concat(l),t),l==="start"&&(this.prevEvent=g),this._fireEvent(g),this._scopeFire("interactions:after-action-".concat(l),t),!0}},{key:"_now",value:function(){return Date.now()}}]),n})();function ho(n){po(n.interaction)}function po(n){if(!(function(o){return!(!o.offset.pending.x&&!o.offset.pending.y)})(n))return!1;var t=n.offset.pending;return rr(n.coords.cur,t),rr(n.coords.delta,t),ie(n.edges,n.rect,t),t.x=0,t.y=0,!0}function wl(n){var t=n.x,o=n.y;this.offset.pending.x+=t,this.offset.pending.y+=o,this.offset.total.x+=t,this.offset.total.y+=o}function rr(n,t){var o=n.page,l=n.client,d=t.x,f=t.y;o.x+=d,o.y+=f,l.x+=d,l.y+=f}fo.offsetBy="";var Cl={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(n){n.Interaction.prototype.offsetBy=wl},listeners:{"interactions:new":function(n){n.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(n){return(function(t){t.pointerIsDown&&(rr(t.coords.cur,t.offset.total),t.offset.pending.x=0,t.offset.pending.y=0)})(n.interaction)},"interactions:before-action-start":ho,"interactions:before-action-move":ho,"interactions:before-action-end":function(n){var t=n.interaction;if(po(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(n){var t=n.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},vo=Cl,xl=(function(){function n(t){c(this,n),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=t}return h(n,[{key:"start",value:function(t){var o=this.interaction,l=pn(o);if(!l||!l.enabled)return!1;var d=o.coords.velocity.client,f=Ne(d.x,d.y),p=this.modification||(this.modification=new tr(o));if(p.copyFrom(o.modification),this.t0=o._now(),this.allowResume=l.allowResume,this.v0=f,this.currentOffset={x:0,y:0},this.startCoords=o.coords.cur.page,this.modifierArg=p.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-o.coords.cur.timeStamp<50&&f>l.minSpeed&&f>l.endSpeed)this.startInertia();else{if(p.result=p.setAll(this.modifierArg),!p.result.changed)return!1;this.startSmoothEnd()}return o.modification.result.rect=null,o.offsetBy(this.targetOffset),o._doPhase({interaction:o,event:t,phase:"inertiastart"}),o.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),o.modification.result.rect=null,this.active=!0,o.simulation=this,!0}},{key:"startInertia",value:function(){var t=this,o=this.interaction.coords.velocity.client,l=pn(this.interaction),d=l.resistance,f=-Math.log(l.endSpeed/this.v0)/d;this.targetOffset={x:(o.x-f)/d,y:(o.y-f)/d},this.te=f,this.lambda_v0=d/this.v0,this.one_ve_v0=1-l.endSpeed/this.v0;var p=this.modification,g=this.modifierArg;g.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},p.result=p.setAll(g),p.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+p.result.delta.x,y:this.targetOffset.y+p.result.delta.y}),this.onNextFrame((function(){return t.inertiaTick()}))}},{key:"startSmoothEnd",value:function(){var t=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame((function(){return t.smoothEndTick()}))}},{key:"onNextFrame",value:function(t){var o=this;this.timeout=yt.request((function(){o.active&&t()}))}},{key:"inertiaTick",value:function(){var t,o,l,d,f,p,g,y=this,w=this.interaction,_=pn(w).resistance,R=(w._now()-this.t0)/1e3;if(R<this.te){var M,$=1-(Math.exp(-_*R)-this.lambda_v0)/this.one_ve_v0;this.isModified?(t=0,o=0,l=this.targetOffset.x,d=this.targetOffset.y,f=this.modifiedOffset.x,p=this.modifiedOffset.y,M={x:go(g=$,t,l,f),y:go(g,o,d,p)}):M={x:this.targetOffset.x*$,y:this.targetOffset.y*$};var N={x:M.x-this.currentOffset.x,y:M.y-this.currentOffset.y};this.currentOffset.x+=N.x,this.currentOffset.y+=N.y,w.offsetBy(N),w.move(),this.onNextFrame((function(){return y.inertiaTick()}))}else w.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var t=this,o=this.interaction,l=o._now()-this.t0,d=pn(o).smoothEndDuration;if(l<d){var f={x:mo(l,0,this.targetOffset.x,d),y:mo(l,0,this.targetOffset.y,d)},p={x:f.x-this.currentOffset.x,y:f.y-this.currentOffset.y};this.currentOffset.x+=p.x,this.currentOffset.y+=p.y,o.offsetBy(p),o.move({skipModifiers:this.modifierCount}),this.onNextFrame((function(){return t.smoothEndTick()}))}else o.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(t){var o=t.pointer,l=t.event,d=t.eventTarget,f=this.interaction;f.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),f.updatePointer(o,l,d,!0),f._doPhase({interaction:f,event:l,phase:"resume"}),ze(f.coords.prev,f.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,yt.cancel(this.timeout)}}]),n})();function pn(n){var t=n.interactable,o=n.prepared;return t&&t.options&&o.name&&t.options[o.name].inertia}var Tl={id:"inertia",before:["modifiers","actions"],install:function(n){var t=n.defaults;n.usePlugin(vo),n.usePlugin(co),n.actions.phases.inertiastart=!0,n.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(n){var t=n.interaction;t.inertia=new xl(t)},"interactions:before-action-end":function(n){var t=n.interaction,o=n.event;return(!t._interacting||t.simulation||!t.inertia.start(o))&&null},"interactions:down":function(n){var t=n.interaction,o=n.eventTarget,l=t.inertia;if(l.active)for(var d=o;x.element(d);){if(d===t.element){l.resume(n);break}d=Ie(d)}},"interactions:stop":function(n){var t=n.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(n){var t=n.interaction.modification;t.stop(n),t.start(n,n.interaction.coords.cur.page),t.applyToInteraction(n)},"interactions:before-action-inertiastart":function(n){return n.interaction.modification.setAndApply(n)},"interactions:action-resume":Yt,"interactions:action-inertiastart":Yt,"interactions:after-action-inertiastart":function(n){return n.interaction.modification.restoreInteractionCoords(n)},"interactions:after-action-resume":function(n){return n.interaction.modification.restoreInteractionCoords(n)}}};function go(n,t,o,l){var d=1-n;return d*d*t+2*d*n*o+n*n*l}function mo(n,t,o,l){return-o*(n/=l)*(n-2)+t}var Rl=Tl;function yo(n,t){for(var o=0;o<t.length;o++){var l=t[o];if(n.immediatePropagationStopped)break;l(n)}}var So=(function(){function n(t){c(this,n),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=A({},t||{})}return h(n,[{key:"fire",value:function(t){var o,l=this.global;(o=this.types[t.type])&&yo(t,o),!t.propagationStopped&&l&&(o=l[t.type])&&yo(t,o)}},{key:"on",value:function(t,o){var l=ye(t,o);for(t in l)this.types[t]=Vi(this.types[t]||[],l[t])}},{key:"off",value:function(t,o){var l=ye(t,o);for(t in l){var d=this.types[t];if(d&&d.length)for(var f=0,p=l[t];f<p.length;f++){var g=p[f],y=d.indexOf(g);y!==-1&&d.splice(y,1)}}}},{key:"getRect",value:function(t){return null}}]),n})(),Il=(function(){function n(t){c(this,n),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=t,xe(this,t)}return h(n,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),n})();function Kt(n){return x.object(n)?{capture:!!n.capture,passive:!!n.passive}:{capture:!!n,passive:!1}}function vn(n,t){return n===t||(typeof n=="boolean"?!!t.capture===n&&!t.passive:!!n.capture==!!t.capture&&!!n.passive==!!t.passive)}var El={id:"events",install:function(n){var t,o=[],l={},d=[],f={add:p,remove:g,addDelegate:function(_,R,M,$,N){var B=Kt(N);if(!l[M]){l[M]=[];for(var te=0;te<d.length;te++){var Z=d[te];p(Z,M,y),p(Z,M,w,!0)}}var le=l[M],we=Vt(le,(function(Re){return Re.selector===_&&Re.context===R}));we||(we={selector:_,context:R,listeners:[]},le.push(we)),we.listeners.push({func:$,options:B})},removeDelegate:function(_,R,M,$,N){var B,te=Kt(N),Z=l[M],le=!1;if(Z)for(B=Z.length-1;B>=0;B--){var we=Z[B];if(we.selector===_&&we.context===R){for(var Re=we.listeners,me=Re.length-1;me>=0;me--){var Ce=Re[me];if(Ce.func===$&&vn(Ce.options,te)){Re.splice(me,1),Re.length||(Z.splice(B,1),g(R,M,y),g(R,M,w,!0)),le=!0;break}}if(le)break}}},delegateListener:y,delegateUseCapture:w,delegatedEvents:l,documents:d,targets:o,supportsOptions:!1,supportsPassive:!1};function p(_,R,M,$){if(_.addEventListener){var N=Kt($),B=Vt(o,(function(te){return te.eventTarget===_}));B||(B={eventTarget:_,events:{}},o.push(B)),B.events[R]||(B.events[R]=[]),Vt(B.events[R],(function(te){return te.func===M&&vn(te.options,N)}))||(_.addEventListener(R,M,f.supportsOptions?N:N.capture),B.events[R].push({func:M,options:N}))}}function g(_,R,M,$){if(_.addEventListener&&_.removeEventListener){var N=qt(o,(function(Ye){return Ye.eventTarget===_})),B=o[N];if(B&&B.events)if(R!=="all"){var te=!1,Z=B.events[R];if(Z){if(M==="all"){for(var le=Z.length-1;le>=0;le--){var we=Z[le];g(_,R,we.func,we.options)}return}for(var Re=Kt($),me=0;me<Z.length;me++){var Ce=Z[me];if(Ce.func===M&&vn(Ce.options,Re)){_.removeEventListener(R,M,f.supportsOptions?Re:Re.capture),Z.splice(me,1),Z.length===0&&(delete B.events[R],te=!0);break}}}te&&!Object.keys(B.events).length&&o.splice(N,1)}else for(R in B.events)B.events.hasOwnProperty(R)&&g(_,R,"all")}}function y(_,R){for(var M=Kt(R),$=new Il(_),N=l[_.type],B=qi(_)[0],te=B;x.element(te);){for(var Z=0;Z<N.length;Z++){var le=N[Z],we=le.selector,Re=le.context;if(G(te,we)&&Ee(Re,B)&&Ee(Re,te)){var me=le.listeners;$.currentTarget=te;for(var Ce=0;Ce<me.length;Ce++){var Ye=me[Ce];vn(Ye.options,M)&&Ye.func($)}}}te=Ie(te)}}function w(_){return y(_,!0)}return(t=n.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return f.supportsOptions=!0},get passive(){return f.supportsPassive=!0}}),n.events=f,f}},ir={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(n){for(var t=0,o=ir.methodOrder;t<o.length;t++){var l=o[t],d=ir[l](n);if(d)return d}return null},simulationResume:function(n){var t=n.pointerType,o=n.eventType,l=n.eventTarget,d=n.scope;if(!/down|start/i.test(o))return null;for(var f=0,p=d.interactions.list;f<p.length;f++){var g=p[f],y=l;if(g.simulation&&g.simulation.allowResume&&g.pointerType===t)for(;y;){if(y===g.element)return g;y=Ie(y)}}return null},mouseOrPen:function(n){var t,o=n.pointerId,l=n.pointerType,d=n.eventType,f=n.scope;if(l!=="mouse"&&l!=="pen")return null;for(var p=0,g=f.interactions.list;p<g.length;p++){var y=g[p];if(y.pointerType===l){if(y.simulation&&!_o(y,o))continue;if(y.interacting())return y;t||(t=y)}}if(t)return t;for(var w=0,_=f.interactions.list;w<_.length;w++){var R=_[w];if(!(R.pointerType!==l||/down/i.test(d)&&R.simulation))return R}return null},hasPointer:function(n){for(var t=n.pointerId,o=0,l=n.scope.interactions.list;o<l.length;o++){var d=l[o];if(_o(d,t))return d}return null},idle:function(n){for(var t=n.pointerType,o=0,l=n.scope.interactions.list;o<l.length;o++){var d=l[o];if(d.pointers.length===1){var f=d.interactable;if(f&&(!f.options.gesture||!f.options.gesture.enabled))continue}else if(d.pointers.length>=2)continue;if(!d.interacting()&&t===d.pointerType)return d}return null}};function _o(n,t){return n.pointers.some((function(o){return o.id===t}))}var zl=ir,or=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function bo(n,t){return function(o){var l=t.interactions.list,d=Bi(o),f=qi(o),p=f[0],g=f[1],y=[];if(/^touch/.test(o.type)){t.prevTouchTime=t.now();for(var w=0,_=o.changedTouches;w<_.length;w++){var R=_[w],M={pointer:R,pointerId:Le(R),pointerType:d,eventType:o.type,eventTarget:p,curEventTarget:g,scope:t},$=wo(M);y.push([M.pointer,M.eventTarget,M.curEventTarget,$])}}else{var N=!1;if(!be.supportsPointerEvent&&/mouse/.test(o.type)){for(var B=0;B<l.length&&!N;B++)N=l[B].pointerType!=="mouse"&&l[B].pointerIsDown;N=N||t.now()-t.prevTouchTime<500||o.timeStamp===0}if(!N){var te={pointer:o,pointerId:Le(o),pointerType:d,eventType:o.type,curEventTarget:g,eventTarget:p,scope:t},Z=wo(te);y.push([te.pointer,te.eventTarget,te.curEventTarget,Z])}}for(var le=0;le<y.length;le++){var we=y[le],Re=we[0],me=we[1],Ce=we[2];we[3][n](Re,o,me,Ce)}}}function wo(n){var t=n.pointerType,o=n.scope,l={interaction:zl.search(n),searchDetails:n};return o.fire("interactions:find",l),l.interaction||o.interactions.new({pointerType:t})}function sr(n,t){var o=n.doc,l=n.scope,d=n.options,f=l.interactions.docEvents,p=l.events,g=p[t];for(var y in l.browser.isIOS&&!d.events&&(d.events={passive:!1}),p.delegatedEvents)g(o,y,p.delegateListener),g(o,y,p.delegateUseCapture,!0);for(var w=d&&d.events,_=0;_<f.length;_++){var R=f[_];g(o,R.type,R.listener,w)}}var Ol={id:"core/interactions",install:function(n){for(var t={},o=0;o<or.length;o++){var l=or[o];t[l]=bo(l,n)}var d,f=be.pEventTypes;function p(){for(var g=0,y=n.interactions.list;g<y.length;g++){var w=y[g];if(w.pointerIsDown&&w.pointerType==="touch"&&!w._interacting)for(var _=function(){var $=M[R];n.documents.some((function(N){return Ee(N.doc,$.downTarget)}))||w.removePointer($.pointer,$.event)},R=0,M=w.pointers;R<M.length;R++)_()}}(d=pe.PointerEvent?[{type:f.down,listener:p},{type:f.down,listener:t.pointerDown},{type:f.move,listener:t.pointerMove},{type:f.up,listener:t.pointerUp},{type:f.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:p},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(g){for(var y=0,w=n.interactions.list;y<w.length;y++)w[y].documentBlur(g)}}),n.prevTouchTime=0,n.Interaction=(function(g){m(w,g);var y=T(w);function w(){return c(this,w),y.apply(this,arguments)}return h(w,[{key:"pointerMoveTolerance",get:function(){return n.interactions.pointerMoveTolerance},set:function(_){n.interactions.pointerMoveTolerance=_}},{key:"_now",value:function(){return n.now()}}]),w})(bl),n.interactions={list:[],new:function(g){g.scopeFire=function(w,_){return n.fire(w,_)};var y=new n.Interaction(g);return n.interactions.list.push(y),y},listeners:t,docEvents:d,pointerMoveTolerance:1},n.usePlugin(lo)},listeners:{"scope:add-document":function(n){return sr(n,"add")},"scope:remove-document":function(n){return sr(n,"remove")},"interactable:unset":function(n,t){for(var o=n.interactable,l=t.interactions.list.length-1;l>=0;l--){var d=t.interactions.list[l];d.interactable===o&&(d.stop(),t.fire("interactions:destroy",{interaction:d}),d.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(l,1))}}},onDocSignal:sr,doOnInteractions:bo,methodNames:or},Pl=Ol,_t=(function(n){return n[n.On=0]="On",n[n.Off=1]="Off",n})(_t||{}),Ml=(function(){function n(t,o,l,d){c(this,n),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new So,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=o.actions,this.target=t,this._context=o.context||l,this._win=W(he(t)?this._context:t),this._doc=this._win.document,this._scopeEvents=d,this.set(o)}return h(n,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(t,o){return x.func(o.onstart)&&this.on("".concat(t,"start"),o.onstart),x.func(o.onmove)&&this.on("".concat(t,"move"),o.onmove),x.func(o.onend)&&this.on("".concat(t,"end"),o.onend),x.func(o.oninertiastart)&&this.on("".concat(t,"inertiastart"),o.oninertiastart),this}},{key:"updatePerActionListeners",value:function(t,o,l){var d,f=this,p=(d=this._actions.map[t])==null?void 0:d.filterEventType,g=function(y){return(p==null||p(y))&&fn(y,f._actions)};(x.array(o)||x.object(o))&&this._onOff(_t.Off,t,o,void 0,g),(x.array(l)||x.object(l))&&this._onOff(_t.On,t,l,void 0,g)}},{key:"setPerAction",value:function(t,o){var l=this._defaults;for(var d in o){var f=d,p=this.options[t],g=o[f];f==="listeners"&&this.updatePerActionListeners(t,p.listeners,g),x.array(g)?p[f]=Xi(g):x.plainObject(g)?(p[f]=A(p[f]||{},Lt(g)),x.object(l.perAction[f])&&"enabled"in l.perAction[f]&&(p[f].enabled=g.enabled!==!1)):x.bool(g)&&x.object(l.perAction[f])?p[f].enabled=g:p[f]=g}}},{key:"getRect",value:function(t){return t=t||(x.element(this.target)?this.target:null),x.string(this.target)&&(t=t||this._context.querySelector(this.target)),Q(t)}},{key:"rectChecker",value:function(t){var o=this;return x.func(t)?(this.getRect=function(l){var d=A({},t.apply(o,l));return"width"in d||(d.width=d.right-d.left,d.height=d.bottom-d.top),d},this):t===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(t,o){if(he(o)||x.object(o)){for(var l in this.options[t]=o,this._actions.map)this.options[l][t]=o;return this}return this.options[t]}},{key:"origin",value:function(t){return this._backCompatOption("origin",t)}},{key:"deltaSource",value:function(t){return t==="page"||t==="client"?(this.options.deltaSource=t,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var t=this.target;return x.string(t)?Array.from(this._context.querySelectorAll(t)):x.func(t)&&t.getAllElements?t.getAllElements():x.element(t)?[t]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(t){return this._context===t.ownerDocument||Ee(this._context,t)}},{key:"testIgnoreAllow",value:function(t,o,l){return!this.testIgnore(t.ignoreFrom,o,l)&&this.testAllow(t.allowFrom,o,l)}},{key:"testAllow",value:function(t,o,l){return!t||!!x.element(l)&&(x.string(t)?U(l,t,o):!!x.element(t)&&Ee(t,l))}},{key:"testIgnore",value:function(t,o,l){return!(!t||!x.element(l))&&(x.string(t)?U(l,t,o):!!x.element(t)&&Ee(t,l))}},{key:"fire",value:function(t){return this.events.fire(t),this}},{key:"_onOff",value:function(t,o,l,d,f){x.object(o)&&!x.array(o)&&(d=l,l=null);var p=ye(o,l,f);for(var g in p){g==="wheel"&&(g=be.wheelEvent);for(var y=0,w=p[g];y<w.length;y++){var _=w[y];fn(g,this._actions)?this.events[t===_t.On?"on":"off"](g,_):x.string(this.target)?this._scopeEvents[t===_t.On?"addDelegate":"removeDelegate"](this.target,this._context,g,_,d):this._scopeEvents[t===_t.On?"add":"remove"](this.target,g,_,d)}}return this}},{key:"on",value:function(t,o,l){return this._onOff(_t.On,t,o,l)}},{key:"off",value:function(t,o,l){return this._onOff(_t.Off,t,o,l)}},{key:"set",value:function(t){var o=this._defaults;for(var l in x.object(t)||(t={}),this.options=Lt(o.base),this._actions.methodDict){var d=l,f=this._actions.methodDict[d];this.options[d]={},this.setPerAction(d,A(A({},o.perAction),o.actions[d])),this[f](t[d])}for(var p in t)p!=="getRect"?x.func(this[p])&&this[p](t[p]):this.rectChecker(t.getRect);return this}},{key:"unset",value:function(){if(x.string(this.target))for(var t in this._scopeEvents.delegatedEvents)for(var o=this._scopeEvents.delegatedEvents[t],l=o.length-1;l>=0;l--){var d=o[l],f=d.selector,p=d.context,g=d.listeners;f===this.target&&p===this._context&&o.splice(l,1);for(var y=g.length-1;y>=0;y--)this._scopeEvents.removeDelegate(this.target,this._context,t,g[y][0],g[y][1])}else this._scopeEvents.remove(this.target,"all")}}]),n})(),Al=(function(){function n(t){var o=this;c(this,n),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=t,t.addListeners({"interactable:unset":function(l){var d=l.interactable,f=d.target,p=x.string(f)?o.selectorMap[f]:f[o.scope.id],g=qt(p,(function(y){return y===d}));p.splice(g,1)}})}return h(n,[{key:"new",value:function(t,o){o=A(o||{},{actions:this.scope.actions});var l=new this.scope.Interactable(t,o,this.scope.document,this.scope.events);return this.scope.addDocument(l._doc),this.list.push(l),x.string(t)?(this.selectorMap[t]||(this.selectorMap[t]=[]),this.selectorMap[t].push(l)):(l.target[this.scope.id]||Object.defineProperty(t,this.scope.id,{value:[],configurable:!0}),t[this.scope.id].push(l)),this.scope.fire("interactable:new",{target:t,options:o,interactable:l,win:this.scope._win}),l}},{key:"getExisting",value:function(t,o){var l=o&&o.context||this.scope.document,d=x.string(t),f=d?this.selectorMap[t]:t[this.scope.id];if(f)return Vt(f,(function(p){return p._context===l&&(d||p.inContext(t))}))}},{key:"forEachMatch",value:function(t,o){for(var l=0,d=this.list;l<d.length;l++){var f=d[l],p=void 0;if((x.string(f.target)?x.element(t)&&G(t,f.target):t===f.target)&&f.inContext(t)&&(p=o(f)),p!==void 0)return p}}}]),n})(),kl=(function(){function n(){var t=this;c(this,n),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=be,this.defaults=Lt(uo),this.Eventable=So,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(function(l){var d=function f(p,g){var y=l.interactables.getExisting(p,g);return y||((y=l.interactables.new(p,g)).events.global=f.globalEvents),y};return d.getPointerAverage=ut,d.getTouchBBox=at,d.getTouchDistance=lt,d.getTouchAngle=Rt,d.getElementRect=Q,d.getElementClientRect=Y,d.matchesSelector=G,d.closest=Fe,d.globalEvents={},d.version="1.10.27",d.scope=l,d.use=function(f,p){return this.scope.usePlugin(f,p),this},d.isSet=function(f,p){return!!this.scope.interactables.get(f,p&&p.context)},d.on=Xt((function(f,p,g){if(x.string(f)&&f.search(" ")!==-1&&(f=f.trim().split(/ +/)),x.array(f)){for(var y=0,w=f;y<w.length;y++){var _=w[y];this.on(_,p,g)}return this}if(x.object(f)){for(var R in f)this.on(R,f[R],p);return this}return fn(f,this.scope.actions)?this.globalEvents[f]?this.globalEvents[f].push(p):this.globalEvents[f]=[p]:this.scope.events.add(this.scope.document,f,p,{options:g}),this}),"The interact.on() method is being deprecated"),d.off=Xt((function(f,p,g){if(x.string(f)&&f.search(" ")!==-1&&(f=f.trim().split(/ +/)),x.array(f)){for(var y=0,w=f;y<w.length;y++){var _=w[y];this.off(_,p,g)}return this}if(x.object(f)){for(var R in f)this.off(R,f[R],p);return this}var M;return fn(f,this.scope.actions)?f in this.globalEvents&&(M=this.globalEvents[f].indexOf(p))!==-1&&this.globalEvents[f].splice(M,1):this.scope.events.remove(this.scope.document,f,p,g),this}),"The interact.off() method is being deprecated"),d.debug=function(){return this.scope},d.supportsTouch=function(){return be.supportsTouch},d.supportsPointerEvent=function(){return be.supportsPointerEvent},d.stop=function(){for(var f=0,p=this.scope.interactions.list;f<p.length;f++)p[f].stop();return this},d.pointerMoveTolerance=function(f){return x.number(f)?(this.scope.interactions.pointerMoveTolerance=f,this):this.scope.interactions.pointerMoveTolerance},d.addDocument=function(f,p){this.scope.addDocument(f,p)},d.removeDocument=function(f){this.scope.removeDocument(f)},d})(this),this.InteractEvent=nr,this.Interactable=void 0,this.interactables=new Al(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(l){return t.removeDocument(l.target)};var o=this;this.Interactable=(function(l){m(f,l);var d=T(f);function f(){return c(this,f),d.apply(this,arguments)}return h(f,[{key:"_defaults",get:function(){return o.defaults}},{key:"set",value:function(p){return E(S(f.prototype),"set",this).call(this,p),o.fire("interactable:set",{options:p,interactable:this}),this}},{key:"unset",value:function(){E(S(f.prototype),"unset",this).call(this);var p=o.interactables.list.indexOf(this);p<0||(o.interactables.list.splice(p,1),o.fire("interactable:unset",{interactable:this}))}}]),f})(Ml)}return h(n,[{key:"addListeners",value:function(t,o){this.listenerMaps.push({id:o,map:t})}},{key:"fire",value:function(t,o){for(var l=0,d=this.listenerMaps;l<d.length;l++){var f=d[l].map[t];if(f&&f(o,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:(function(o,l){return o.isInitialized=!0,x.window(l)&&P(l),pe.init(l),be.init(l),yt.init(l),o.window=l,o.document=l.document,o.usePlugin(Pl),o.usePlugin(El),o})(this,t)}},{key:"pluginIsInstalled",value:function(t){var o=t.id;return o?!!this._plugins.map[o]:this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,o){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,o),t.listeners&&t.before){for(var l=0,d=this.listenerMaps.length,f=t.before.reduce((function(g,y){return g[y]=!0,g[Co(y)]=!0,g}),{});l<d;l++){var p=this.listenerMaps[l].id;if(p&&(f[p]||f[Co(p)]))break}this.listenerMaps.splice(l,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,o){if(this.getDocIndex(t)!==-1)return!1;var l=W(t);o=o?A({},o):{},this.documents.push({doc:t,options:o}),this.events.documents.push(t),t!==this.document&&this.events.add(l,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:l,scope:this,options:o})}},{key:"removeDocument",value:function(t){var o=this.getDocIndex(t),l=W(t),d=this.documents[o].options;this.events.remove(l,"unload",this.onWindowUnload),this.documents.splice(o,1),this.events.documents.splice(o,1),this.fire("scope:remove-document",{doc:t,window:l,scope:this,options:d})}},{key:"getDocIndex",value:function(t){for(var o=0;o<this.documents.length;o++)if(this.documents[o].doc===t)return o;return-1}},{key:"getDocOptions",value:function(t){var o=this.getDocIndex(t);return o===-1?null:this.documents[o].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),n})();function Co(n){return n&&n.replace(/\/.*$/,"")}var xo=new kl,Xe=xo.interactStatic,Dl=typeof globalThis<"u"?globalThis:window;xo.init(Dl);var Ll=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(n){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter((function(l){var d=l[0],f=l[1];return d in n||f in n})),o=function(l,d){for(var f=n.range,p=n.limits,g=p===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:p,y=n.offset,w=y===void 0?{x:0,y:0}:y,_={range:f,grid:n,x:null,y:null},R=0;R<t.length;R++){var M=t[R],$=M[0],N=M[1],B=Math.round((l-w.x)/n[$]),te=Math.round((d-w.y)/n[N]);_[$]=Math.max(g.left,Math.min(g.right,B*n[$]+w.x)),_[N]=Math.max(g.top,Math.min(g.bottom,te*n[N]+w.y))}return _};return o.grid=n,o.coordFields=t,o}}),Gl={id:"snappers",install:function(n){var t=n.interactStatic;t.snappers=A(t.snappers||{},Ll),t.createSnapGrid=t.snappers.grid}},Wl=Gl,jl={start:function(n){var t=n.state,o=n.rect,l=n.edges,d=n.pageCoords,f=t.options,p=f.ratio,g=f.enabled,y=t.options,w=y.equalDelta,_=y.modifiers;p==="preserve"&&(p=o.width/o.height),t.startCoords=A({},d),t.startRect=A({},o),t.ratio=p,t.equalDelta=w;var R=t.linkedEdges={top:l.top||l.left&&!l.bottom,left:l.left||l.top&&!l.right,bottom:l.bottom||l.right&&!l.top,right:l.right||l.bottom&&!l.left};if(t.xIsPrimaryAxis=!(!l.left&&!l.right),t.equalDelta){var M=(R.left?1:-1)*(R.top?1:-1);t.edgeSign={x:M,y:M}}else t.edgeSign={x:R.left?-1:1,y:R.top?-1:1};if(g!==!1&&A(l,R),_!=null&&_.length){var $=new tr(n.interaction);$.copyFrom(n.interaction.modification),$.prepareStates(_),t.subModification=$,$.startAll(e({},n))}},set:function(n){var t=n.state,o=n.rect,l=n.coords,d=t.linkedEdges,f=A({},l),p=t.equalDelta?Fl:Nl;if(A(n.edges,d),p(t,t.xIsPrimaryAxis,l,o),!t.subModification)return null;var g=A({},o);ie(d,g,{x:l.x-f.x,y:l.y-f.y});var y=t.subModification.setAll(e(e({},n),{},{rect:g,edges:d,pageCoords:l,prevCoords:l,prevRect:g})),w=y.delta;return y.changed&&(p(t,Math.abs(w.x)>Math.abs(w.y),y.coords,y.rect),A(l,y.coords)),y.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Fl(n,t,o){var l=n.startCoords,d=n.edgeSign;t?o.y=l.y+(o.x-l.x)*d.y:o.x=l.x+(o.y-l.y)*d.x}function Nl(n,t,o,l){var d=n.startRect,f=n.startCoords,p=n.ratio,g=n.edgeSign;if(t){var y=l.width/p;o.y=f.y+(y-d.height)*g.y}else{var w=l.height*p;o.x=f.x+(w-d.width)*g.x}}var Hl=St(jl,"aspectRatio"),To=function(){};To._defaults={};var gn=To;function Et(n,t,o){return x.func(n)?Te(n,t.interactable,t.element,[o.x,o.y,t]):Te(n,t.interactable,t.element)}var mn={start:function(n){var t=n.rect,o=n.startOffset,l=n.state,d=n.interaction,f=n.pageCoords,p=l.options,g=p.elementRect,y=A({left:0,top:0,right:0,bottom:0},p.offset||{});if(t&&g){var w=Et(p.restriction,d,f);if(w){var _=w.right-w.left-t.width,R=w.bottom-w.top-t.height;_<0&&(y.left+=_,y.right+=_),R<0&&(y.top+=R,y.bottom+=R)}y.left+=o.left-t.width*g.left,y.top+=o.top-t.height*g.top,y.right+=o.right-t.width*(1-g.right),y.bottom+=o.bottom-t.height*(1-g.bottom)}l.offset=y},set:function(n){var t=n.coords,o=n.interaction,l=n.state,d=l.options,f=l.offset,p=Et(d.restriction,o,t);if(p){var g=(function(y){return!y||"left"in y&&"top"in y||((y=A({},y)).left=y.x||0,y.top=y.y||0,y.right=y.right||y.left+y.width,y.bottom=y.bottom||y.top+y.height),y})(p);t.x=Math.max(Math.min(g.right-f.right,t.x),g.left+f.left),t.y=Math.max(Math.min(g.bottom-f.bottom,t.y),g.top+f.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},$l=St(mn,"restrict"),Ro={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Io={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Eo(n,t){for(var o=0,l=["top","left","bottom","right"];o<l.length;o++){var d=l[o];d in n||(n[d]=t[d])}return n}var Zt={noInner:Ro,noOuter:Io,start:function(n){var t,o=n.interaction,l=n.startOffset,d=n.state,f=d.options;f&&(t=H(Et(f.offset,o,o.coords.start.page))),t=t||{x:0,y:0},d.offset={top:t.y+l.top,left:t.x+l.left,bottom:t.y-l.bottom,right:t.x-l.right}},set:function(n){var t=n.coords,o=n.edges,l=n.interaction,d=n.state,f=d.offset,p=d.options;if(o){var g=A({},t),y=Et(p.inner,l,g)||{},w=Et(p.outer,l,g)||{};Eo(y,Ro),Eo(w,Io),o.top?t.y=Math.min(Math.max(w.top+f.top,g.y),y.top+f.top):o.bottom&&(t.y=Math.max(Math.min(w.bottom+f.bottom,g.y),y.bottom+f.bottom)),o.left?t.x=Math.min(Math.max(w.left+f.left,g.x),y.left+f.left):o.right&&(t.x=Math.max(Math.min(w.right+f.right,g.x),y.right+f.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},Ul=St(Zt,"restrictEdges"),Bl=A({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(n){}},mn.defaults),ql=St({start:mn.start,set:mn.set,defaults:Bl},"restrictRect"),Vl={width:-1/0,height:-1/0},Xl={width:1/0,height:1/0},Yl=St({start:function(n){return Zt.start(n)},set:function(n){var t=n.interaction,o=n.state,l=n.rect,d=n.edges,f=o.options;if(d){var p=ee(Et(f.min,t,n.coords))||Vl,g=ee(Et(f.max,t,n.coords))||Xl;o.options={endOnly:f.endOnly,inner:A({},Zt.noInner),outer:A({},Zt.noOuter)},d.top?(o.options.inner.top=l.bottom-p.height,o.options.outer.top=l.bottom-g.height):d.bottom&&(o.options.inner.bottom=l.top+p.height,o.options.outer.bottom=l.top+g.height),d.left?(o.options.inner.left=l.right-p.width,o.options.outer.left=l.right-g.width):d.right&&(o.options.inner.right=l.left+p.width,o.options.outer.right=l.left+g.width),Zt.set(n),o.options=f}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),ar={start:function(n){var t,o=n.interaction,l=n.interactable,d=n.element,f=n.rect,p=n.state,g=n.startOffset,y=p.options,w=y.offsetWithOrigin?(function(M){var $=M.interaction.element,N=H(Te(M.state.options.origin,null,null,[$])),B=N||de(M.interactable,$,M.interaction.prepared.name);return B})(n):{x:0,y:0};if(y.offset==="startCoords")t={x:o.coords.start.page.x,y:o.coords.start.page.y};else{var _=Te(y.offset,l,d,[o]);(t=H(_)||{x:0,y:0}).x+=w.x,t.y+=w.y}var R=y.relativePoints;p.offsets=f&&R&&R.length?R.map((function(M,$){return{index:$,relativePoint:M,x:g.left-f.width*M.x+t.x,y:g.top-f.height*M.y+t.y}})):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(n){var t=n.interaction,o=n.coords,l=n.state,d=l.options,f=l.offsets,p=de(t.interactable,t.element,t.prepared.name),g=A({},o),y=[];d.offsetWithOrigin||(g.x-=p.x,g.y-=p.y);for(var w=0,_=f;w<_.length;w++)for(var R=_[w],M=g.x-R.x,$=g.y-R.y,N=0,B=d.targets.length;N<B;N++){var te=d.targets[N],Z=void 0;(Z=x.func(te)?te(M,$,t._proxy,R,N):te)&&y.push({x:(x.number(Z.x)?Z.x:M)+R.x,y:(x.number(Z.y)?Z.y:$)+R.y,range:x.number(Z.range)?Z.range:d.range,source:te,index:N,offset:R})}for(var le={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},we=0;we<y.length;we++){var Re=y[we],me=Re.range,Ce=Re.x-g.x,Ye=Re.y-g.y,ke=Ne(Ce,Ye),Je=ke<=me;me===1/0&&le.inRange&&le.range!==1/0&&(Je=!1),le.target&&!(Je?le.inRange&&me!==1/0?ke/me<le.distance/le.range:me===1/0&&le.range!==1/0||ke<le.distance:!le.inRange&&ke<le.distance)||(le.target=Re,le.distance=ke,le.range=me,le.inRange=Je,le.delta.x=Ce,le.delta.y=Ye)}return le.inRange&&(o.x=le.target.x,o.y=le.target.y),l.closest=le,le},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},Kl=St(ar,"snap"),yn={start:function(n){var t=n.state,o=n.edges,l=t.options;if(!o)return null;n.state={options:{targets:null,relativePoints:[{x:o.left?0:1,y:o.top?0:1}],offset:l.offset||"self",origin:{x:0,y:0},range:l.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],ar.start(n),t.offsets=n.state.offsets,n.state=t},set:function(n){var t=n.interaction,o=n.state,l=n.coords,d=o.options,f=o.offsets,p={x:l.x-f[0].x,y:l.y-f[0].y};o.options=A({},d),o.options.targets=[];for(var g=0,y=d.targets||[];g<y.length;g++){var w=y[g],_=void 0;if(_=x.func(w)?w(p.x,p.y,t):w){for(var R=0,M=o.targetFields;R<M.length;R++){var $=M[R],N=$[0],B=$[1];if(N in _||B in _){_.x=_[N],_.y=_[B];break}}o.options.targets.push(_)}}var te=ar.set(n);return o.options=d,te},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},Zl=St(yn,"snapSize"),lr={aspectRatio:Hl,restrictEdges:Ul,restrict:$l,restrictRect:ql,restrictSize:Yl,snapEdges:St({start:function(n){var t=n.edges;return t?(n.state.targetFields=n.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],yn.start(n)):null},set:yn.set,defaults:A(Lt(yn.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:Kl,snapSize:Zl,spring:gn,avoid:gn,transform:gn,rubberband:gn},Ql={id:"modifiers",install:function(n){var t=n.interactStatic;for(var o in n.usePlugin(co),n.usePlugin(Wl),t.modifiers=lr,lr){var l=lr[o],d=l._defaults,f=l._methods;d._methods=f,n.defaults.perAction[o]=d}}},Jl=Ql,zo=(function(n){m(o,n);var t=T(o);function o(l,d,f,p,g,y){var w;if(c(this,o),xe(C(w=t.call(this,g)),f),f!==d&&xe(C(w),d),w.timeStamp=y,w.originalEvent=f,w.type=l,w.pointerId=Le(d),w.pointerType=Bi(d),w.target=p,w.currentTarget=null,l==="tap"){var _=g.getPointerIndex(d);w.dt=w.timeStamp-g.pointers[_].downTime;var R=w.timeStamp-g.tapTime;w.double=!!g.prevTap&&g.prevTap.type!=="doubletap"&&g.prevTap.target===w.target&&R<500}else l==="doubletap"&&(w.dt=d.timeStamp-g.tapTime,w.double=!0);return w}return h(o,[{key:"_subtractOrigin",value:function(l){var d=l.x,f=l.y;return this.pageX-=d,this.pageY-=f,this.clientX-=d,this.clientY-=f,this}},{key:"_addOrigin",value:function(l){var d=l.x,f=l.y;return this.pageX+=d,this.pageY+=f,this.clientX+=d,this.clientY+=f,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),o})(un),Qt={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(n){n.pointerEvents=Qt,n.defaults.actions.pointerEvents=Qt.defaults,A(n.actions.phaselessTypes,Qt.types)},listeners:{"interactions:new":function(n){var t=n.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(n){var t=n.down,o=n.pointerInfo;!t&&o.hold||(o.hold={duration:1/0,timeout:null})},"interactions:move":function(n,t){var o=n.interaction,l=n.pointer,d=n.event,f=n.eventTarget;n.duplicate||o.pointerIsDown&&!o.pointerWasMoved||(o.pointerIsDown&&cr(n),bt({interaction:o,pointer:l,event:d,eventTarget:f,type:"move"},t))},"interactions:down":function(n,t){(function(o,l){for(var d=o.interaction,f=o.pointer,p=o.event,g=o.eventTarget,y=o.pointerIndex,w=d.pointers[y].hold,_=re(g),R={interaction:d,pointer:f,event:p,eventTarget:g,type:"hold",targets:[],path:_,node:null},M=0;M<_.length;M++){var $=_[M];R.node=$,l.fire("pointerEvents:collect-targets",R)}if(R.targets.length){for(var N=1/0,B=0,te=R.targets;B<te.length;B++){var Z=te[B].eventable.options.holdDuration;Z<N&&(N=Z)}w.duration=N,w.timeout=setTimeout((function(){bt({interaction:d,eventTarget:g,pointer:f,event:p,type:"hold"},l)}),N)}})(n,t),bt(n,t)},"interactions:up":function(n,t){cr(n),bt(n,t),(function(o,l){var d=o.interaction,f=o.pointer,p=o.event,g=o.eventTarget;d.pointerWasMoved||bt({interaction:d,eventTarget:g,pointer:f,event:p,type:"tap"},l)})(n,t)},"interactions:cancel":function(n,t){cr(n),bt(n,t)}},PointerEvent:zo,fire:bt,collectEventTargets:Oo,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function bt(n,t){var o=n.interaction,l=n.pointer,d=n.event,f=n.eventTarget,p=n.type,g=n.targets,y=g===void 0?Oo(n,t):g,w=new zo(p,l,d,f,o,t.now());t.fire("pointerEvents:new",{pointerEvent:w});for(var _={interaction:o,pointer:l,event:d,eventTarget:f,targets:y,type:p,pointerEvent:w},R=0;R<y.length;R++){var M=y[R];for(var $ in M.props||{})w[$]=M.props[$];var N=de(M.eventable,M.node);if(w._subtractOrigin(N),w.eventable=M.eventable,w.currentTarget=M.node,M.eventable.fire(w),w._addOrigin(N),w.immediatePropagationStopped||w.propagationStopped&&R+1<y.length&&y[R+1].node!==w.currentTarget)break}if(t.fire("pointerEvents:fired",_),p==="tap"){var B=w.double?bt({interaction:o,pointer:l,event:d,eventTarget:f,type:"doubletap"},t):w;o.prevTap=B,o.tapTime=B.timeStamp}return w}function Oo(n,t){var o=n.interaction,l=n.pointer,d=n.event,f=n.eventTarget,p=n.type,g=o.getPointerIndex(l),y=o.pointers[g];if(p==="tap"&&(o.pointerWasMoved||!y||y.downTarget!==f))return[];for(var w=re(f),_={interaction:o,pointer:l,event:d,eventTarget:f,type:p,path:w,targets:[],node:null},R=0;R<w.length;R++){var M=w[R];_.node=M,t.fire("pointerEvents:collect-targets",_)}return p==="hold"&&(_.targets=_.targets.filter((function($){var N,B;return $.eventable.options.holdDuration===((N=o.pointers[g])==null||(B=N.hold)==null?void 0:B.duration)}))),_.targets}function cr(n){var t=n.interaction,o=n.pointerIndex,l=t.pointers[o].hold;l&&l.timeout&&(clearTimeout(l.timeout),l.timeout=null)}var ec=Object.freeze({__proto__:null,default:Qt});function tc(n){var t=n.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}var nc={id:"pointer-events/holdRepeat",install:function(n){n.usePlugin(Qt);var t=n.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=n.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce((function(n,t){return n["pointerEvents:".concat(t)]=tc,n}),{"pointerEvents:new":function(n){var t=n.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(n,t){var o=n.interaction,l=n.pointerEvent,d=n.eventTarget,f=n.targets;if(l.type==="hold"&&f.length){var p=f[0].eventable.options.holdRepeatInterval;p<=0||(o.holdIntervalHandle=setTimeout((function(){t.pointerEvents.fire({interaction:o,eventTarget:d,type:"hold",pointer:l,event:l},t)}),p))}}})},rc=nc,ic={id:"pointer-events/interactableTargets",install:function(n){var t=n.Interactable;t.prototype.pointerEvents=function(l){return A(this.events.options,l),this};var o=t.prototype._backCompatOption;t.prototype._backCompatOption=function(l,d){var f=o.call(this,l,d);return f===this&&(this.events.options[l]=d),f}},listeners:{"pointerEvents:collect-targets":function(n,t){var o=n.targets,l=n.node,d=n.type,f=n.eventTarget;t.interactables.forEachMatch(l,(function(p){var g=p.events,y=g.options;g.types[d]&&g.types[d].length&&p.testIgnoreAllow(y,l,f)&&o.push({node:l,eventable:g,props:{interactable:p}})}))},"interactable:new":function(n){var t=n.interactable;t.events.getRect=function(o){return t.getRect(o)}},"interactable:set":function(n,t){var o=n.interactable,l=n.options;A(o.events.options,t.pointerEvents.defaults),A(o.events.options,l.pointerEvents||{})}}},oc=ic,sc={id:"pointer-events",install:function(n){n.usePlugin(ec),n.usePlugin(rc),n.usePlugin(oc)}},ac=sc,lc={id:"reflow",install:function(n){var t=n.Interactable;n.actions.phases.reflow=!0,t.prototype.reflow=function(o){return(function(l,d,f){for(var p=l.getAllElements(),g=f.window.Promise,y=g?[]:null,w=function(){var R=p[_],M=l.getRect(R);if(!M)return 1;var $,N=Vt(f.interactions.list,(function(Z){return Z.interacting()&&Z.interactable===l&&Z.element===R&&Z.prepared.name===d.name}));if(N)N.move(),y&&($=N._reflowPromise||new g((function(Z){N._reflowResolve=Z})));else{var B=ee(M),te=(function(Z){return{coords:Z,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}})({page:{x:B.x,y:B.y},client:{x:B.x,y:B.y},timeStamp:f.now()});$=(function(Z,le,we,Re,me){var Ce=Z.interactions.new({pointerType:"reflow"}),Ye={interaction:Ce,event:me,pointer:me,eventTarget:we,phase:"reflow"};Ce.interactable=le,Ce.element=we,Ce.prevEvent=me,Ce.updatePointer(me,me,we,!0),De(Ce.coords.delta),Zn(Ce.prepared,Re),Ce._doPhase(Ye);var ke=Z.window,Je=ke.Promise,nt=Je?new Je((function(ht){Ce._reflowResolve=ht})):void 0;return Ce._reflowPromise=nt,Ce.start(Re,le,we),Ce._interacting?(Ce.move(Ye),Ce.end(me)):(Ce.stop(),Ce._reflowResolve()),Ce.removePointer(me,me),nt})(f,l,R,d,te)}y&&y.push($)},_=0;_<p.length&&!w();_++);return y&&g.all(y).then((function(){return l}))})(this,o,n)}},listeners:{"interactions:stop":function(n,t){var o=n.interaction;o.pointerType==="reflow"&&(o._reflowResolve&&o._reflowResolve(),(function(l,d){l.splice(l.indexOf(d),1)})(t.interactions.list,o))}}},cc=lc;if(Xe.use(lo),Xe.use(vo),Xe.use(ac),Xe.use(Rl),Xe.use(Jl),Xe.use(pl),Xe.use(rl),Xe.use(ol),Xe.use(cc),Xe.default=Xe,a(s)==="object"&&s)try{s.exports=Xe}catch{}return Xe.default=Xe,Xe}))})(Bt,Bt.exports)),Bt.exports}var Ga=La();const Wa=Tr(Ga),ja=({children:s,interactRef:i,draggable:r,resizable:e,draggableOptions:a,resizableOptions:c})=>{const u=K.useRef(null),h=K.useRef(),v=K.useRef(),m=K.useRef();K.useEffect(()=>{v.current={...a},m.current={...c}},[a,c]),K.useEffect(()=>{h.current&&h.current.unset(),h.current=Wa(u.current),i.current=h.current,S()},[r,e]);const S=()=>{r&&h.current?.draggable({...v.current,onstart:b=>v.current?.onstart&&v.current.onstart(b),onmove:b=>v.current?.onmove&&v.current.onmove(b),onend:b=>v.current?.onend&&v.current.onend(b)}),e&&h.current?.resizable({...m.current,onstart:b=>m.current?.onstart&&m.current.onstart(b),onmove:b=>m.current?.onmove&&m.current.onmove(b),onend:b=>m.current?.onend&&m.current.onend(b)})};return K.cloneElement(s,{ref:u,draggable:!1})},$i=K.forwardRef(({children:s,edges:i,left:r,width:e,start:a=Li,grid:c=Hn,bounds:u={left:Number.MIN_SAFE_INTEGER,right:Number.MAX_SAFE_INTEGER},enableResizing:h=!0,enableDragging:v=!0,adsorptionDistance:m=$n,adsorptionPositions:S=[],onResizeStart:b,onResize:C,onResizeEnd:T,onDragStart:E,onDragEnd:z,onDrag:k,parentRef:L,deltaScrollLeft:q},P)=>{const W=K.useRef(null),I=K.useRef(0),V=K.useRef(!1),{initAutoScroll:x,dealDragAutoScroll:j,dealResizeAutoScroll:oe,stopAutoScroll:ne}=ka(L);K.useEffect(()=>()=>{W.current&&W.current.unset()},[]),K.useImperativeHandle(P,()=>({updateLeft:U=>J(U||0,!1),updateWidth:U=>ue(U,!1),getLeft:fe,getWidth:pe})),K.useEffect(()=>{const U=W.current?.target;ue(typeof e>"u"?U.offsetWidth:e,!1)},[e]),K.useEffect(()=>{J(r||0,!1)},[r]);const J=(U,X=!0)=>{if(!W.current||!W.current.target)return;X&&(I.current=0);const Y=W.current.target;Y.style.left=`${U}px`,Object.assign(Y.dataset,{left:U})},ue=(U,X=!0)=>{if(!W.current||!W.current.target)return;X&&(I.current=0);const Y=W.current.target;Y.style.width=`${U}px`,Object.assign(Y.dataset,{width:U})},fe=()=>{const U=W.current?.target;return parseFloat(U?.dataset?.left||"0")},pe=()=>{const U=W.current?.target;return parseFloat(U?.dataset?.width||"0")},ve=U=>{I.current=0,V.current=!1,x(),E&&E()},be=U=>{const{preLeft:X,preWidth:Y,scrollDelta:Q}=U,re=V.current?m:c;if(Math.abs(I.current)>=re){const he=parseInt(I.current/re+"");let A=X+he*re,ae=A,Te=Number.MAX_SAFE_INTEGER;if(S.forEach(H=>{const ee=Math.abs(H-A);ee<m&&ee<Te&&(ae=H);const ie=Math.abs(H-(A+Y));ie<m&&ie<Te&&(ae=H-Y)}),ae!==A?(V.current=!0,A=ae):((A-a)%c!==0&&(A=a+c*Math.round((A-a)/c)),V.current=!1),I.current=I.current%re,A<u.left?A=u.left:A+Y>u.right&&(A=u.right-Y),k&&k({lastLeft:X,left:A,lastWidth:Y,width:Y},Q)===!1)return;J(A,!1)}},Ee=U=>{const X=U.target;if(q&&L?.current&&!j(U,ae=>{q(ae);let{left:Te,width:H}=X.dataset;const ee=parseFloat(Te||"0"),ie=parseFloat(H||"0");I.current+=ae,be({preLeft:ee,preWidth:ie,scrollDelta:ae})}))return;let{left:Y,width:Q}=X.dataset;const re=parseFloat(Y||"0"),he=parseFloat(Q||"0");I.current+=U.dx,be({preLeft:re,preWidth:he})},Fe=U=>{I.current=0,V.current=!1,ne();const X=U.target;let{left:Y,width:Q}=X.dataset;z&&z({left:parseFloat(Y||"0"),width:parseFloat(Q||"0")})},Ie=U=>{I.current=0,V.current=!1,x();let X=U.edges?.right?"right":"left";b&&b(X)},G=U=>{const{dir:X,preWidth:Y,preLeft:Q}=U,re=V.current?m:c;if(X==="left"){if(Math.abs(I.current)>=re){const he=parseInt(I.current/re+"");let A=Q+he*re,ae=A,Te=Number.MAX_SAFE_INTEGER;S.forEach(ie=>{const de=Math.abs(ie-A);de<m&&de<Te&&(ae=ie)}),ae!==A?(V.current=!0,A=ae):((A-a)%c!==0&&(A=a+c*Math.round((A-a)/c)),V.current=!1),I.current=I.current%re;const H=Q+Y;A<u.left&&(A=u.left);const ee=H-A;if(C&&C("left",{lastLeft:Q,lastWidth:Y,left:A,width:ee})===!1)return;J(A,!1),ue(ee,!1)}}else if(X==="right"&&Math.abs(I.current)>=re){const he=parseInt(I.current/c+"");let A=Y+he*c,ae=Q+A,Te=Number.MAX_SAFE_INTEGER;if(S.forEach(H=>{const ee=Math.abs(H-(Q+A));ee<m&&ee<Te&&(ae=H)}),ae!==Q+A)V.current=!0,A=ae-Q;else{let H=Q+A;(H-a)%c!==0&&(H=a+c*Math.round((H-a)/c),A=H-Q),V.current=!1}if(I.current=I.current%re,Q+A>u.right&&(A=u.right-Q),C&&C("right",{lastLeft:Q,lastWidth:Y,left:Q,width:A})===!1)return;ue(A,!1)}},F=U=>{const X=U.target,Y=U.edges?.left?"left":"right";if(q&&L?.current&&!oe(U,Y,Te=>{q(Te);let{left:H,width:ee}=X.dataset;const ie=parseFloat(H||"0"),de=parseFloat(ee||"0");I.current+=Te,G({preLeft:ie,preWidth:de,dir:Y})}))return;let{left:Q,width:re}=X.dataset;const he=parseFloat(Q||"0"),A=parseFloat(re||"0");I.current+=Y==="left"?U.deltaRect?.left||0:U.deltaRect?.right||0,G({preLeft:he,preWidth:A,dir:Y})},se=U=>{I.current=0,V.current=!1,ne();const X=U.target;let{left:Y,width:Q}=X.dataset,re=U.edges?.right?"right":"left";T&&T(re,{left:parseFloat(Y||"0"),width:parseFloat(Q||"0")})};return _e.jsx(ja,{interactRef:W,draggable:v,resizable:h,draggableOptions:{lockAxis:"x",onmove:Ee,onstart:ve,onend:Fe,cursorChecker:()=>""},resizableOptions:{axis:"x",invert:"none",edges:{left:!0,right:!0,top:!1,bottom:!1,...i||{}},onmove:F,onstart:Ie,onend:se},children:K.cloneElement(s,{style:{...s.props.style||{},left:r,width:e}})})}),Fa=({disableDrag:s,cursorTime:i,setCursor:r,startLeft:e,timelineWidth:a,scaleWidth:c,scale:u,scrollLeft:h,scrollSync:v,areaRef:m,maxScaleCount:S,deltaScrollLeft:b,onCursorDragStart:C,onCursorDrag:T,onCursorDragEnd:E})=>{const z=K.useRef(null),k=K.useRef();return K.useEffect(()=>{typeof k.current>"u"&&z.current?.updateLeft(ot(i,{startLeft:e,scaleWidth:c,scale:u})-h)},[i,e,c,u,h]),_e.jsx($i,{start:e,ref:z,parentRef:m,bounds:{left:0,right:Math.min(a,S*c+e-h)},deltaScrollLeft:b,enableDragging:!s,enableResizing:!1,onDragStart:()=>{C&&C(i),k.current=ot(i,{startLeft:e,scaleWidth:c,scale:u})-h,z.current?.updateLeft(k.current)},onDragEnd:()=>{const L=Tt((k.current||0)+h,{startLeft:e,scale:u,scaleWidth:c});r({time:L}),E&&E(L),k.current=void 0},onDrag:({left:L},q=0)=>{const P=v.current?.state.scrollLeft||0;!q||P===0?L<e-P?k.current=e-P:k.current=L:(k.current||0)<e-P-q&&(k.current=e-P-q),z.current?.updateLeft(k.current||0);const W=Tt((k.current||0)+P,{startLeft:e,scale:u,scaleWidth:c});return r({time:W}),T&&T(W),!1},children:_e.jsxs("div",{className:je("cursor"),children:[_e.jsx("svg",{className:je("cursor-top"),width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",children:_e.jsx("path",{d:"M0 1C0 0.447715 0.447715 0 1 0H7C7.55228 0 8 0.447715 8 1V9.38197C8 9.76074 7.786 10.107 7.44721 10.2764L4.44721 11.7764C4.16569 11.9172 3.83431 11.9172 3.55279 11.7764L0.552786 10.2764C0.214002 10.107 0 9.76074 0 9.38197V1Z",fill:"#5297FF"})}),_e.jsx("div",{className:je("cursor-area")})]})})},Na=({isMoving:s,movePositions:i=[],assistPositions:r=[],scrollLeft:e})=>_e.jsx("div",{className:je("drag-line-container"),children:s&&i.filter(a=>r.includes(a)).map(((a,c)=>_e.jsx("div",{className:je("drag-line"),style:{left:a-e}},c)))}),Ha=({editorData:s,row:i,action:r,effects:e,rowHeight:a,scale:c,scaleWidth:u,scaleSplitCount:h,startLeft:v,gridSnap:m,disableDrag:S,scaleCount:b,maxScaleCount:C,setScaleCount:T,onActionMoveStart:E,onActionMoving:z,onActionMoveEnd:k,onActionResizeStart:L,onActionResizeEnd:q,onActionResizing:P,dragLineData:W,setEditorData:I,onClickAction:V,onClickActionOnly:x,onDoubleClickAction:j,onContextMenuAction:oe,getActionRender:ne,handleTime:J,areaRef:ue,deltaScrollLeft:fe})=>{const pe=K.useRef(null),ve=K.useRef(!1),{id:be,maxEnd:Ee,minStart:Fe,end:Ie,start:G,selected:F,flexible:se=!0,movable:U=!0,effectId:X}=r,Y=ot(Fe||0,{startLeft:v,scale:c,scaleWidth:u}),Q=Math.min(C*u+v,ot(Ee||Number.MAX_VALUE,{startLeft:v,scale:c,scaleWidth:u})),[re,he]=K.useState(()=>Bn({start:G,end:Ie},{startLeft:v,scale:c,scaleWidth:u}));K.useLayoutEffect(()=>{he(Bn({start:G,end:Ie},{startLeft:v,scale:c,scaleWidth:u}))},[Ie,G,v,u,c]);const A=u/h,ae=["action"];U&&ae.push("action-movable"),F&&ae.push("action-selected"),se&&ae.push("action-flexible"),e[X]&&ae.push(`action-effect-${X}`);const Te=(xe,ze)=>{const De=Pa(xe+ze,{startLeft:v,scaleCount:b,scaleWidth:u});De!==b&&T(De)},H=()=>{E&&E({action:r,row:i})},ee=({left:xe,width:ze})=>{if(ve.current=!0,z){const{start:De,end:He}=Ut({left:xe,width:ze},{scaleWidth:u,scale:c,startLeft:v});if(z({action:r,row:i,start:De,end:He})===!1)return!1}he({left:xe,width:ze}),Te(xe,ze)},ie=({left:xe,width:ze})=>{const{start:De,end:He}=Ut({left:xe,width:ze},{scaleWidth:u,scale:c,startLeft:v}),$e=s.find(Le=>Le.id===i.id);if(!$e)return;const Qe=$e.actions.find(Le=>Le.id===be);Qe&&(Qe.start=De,Qe.end=He,I(s),k&&k({action:Qe,row:i,start:De,end:He}))},de=xe=>{L&&L({action:r,row:i,dir:xe})},ye=(xe,{left:ze,width:De})=>{if(ve.current=!0,P){const{start:He,end:$e}=Ut({left:ze,width:De},{scaleWidth:u,scale:c,startLeft:v});if(P({action:r,row:i,start:He,end:$e,dir:xe})===!1)return!1}he({left:ze,width:De}),Te(ze,De)},ge=(xe,{left:ze,width:De})=>{const{start:He,end:$e}=Ut({left:ze,width:De},{scaleWidth:u,scale:c,startLeft:v}),Qe=s.find(Ue=>Ue.id===i.id);if(!Qe)return;const Le=Qe.actions.find(Ue=>Ue.id===be);Le&&(Le.start=He,Le.end=$e,I(s),q&&q({action:Le,row:i,start:He,end:$e,dir:xe}))},Ne={...r,...Ut({left:re.left,width:re.width},{startLeft:v,scaleWidth:u,scale:c})},mt={...i,actions:[...i.actions]};return i.actions.includes(r)&&(mt.actions[i.actions.indexOf(r)]=Ne),_e.jsx($i,{ref:pe,parentRef:ue,start:v,left:re.left,width:re.width,grid:m&&A||Hn,adsorptionDistance:m?Math.max((A||Hn)/2,$n):$n,adsorptionPositions:W.assistPositions,bounds:{left:Y,right:Q},edges:{left:!S&&se&&`.${je("action-left-stretch")}`,right:!S&&se&&`.${je("action-right-stretch")}`},enableDragging:!S&&U,enableResizing:!S&&se,onDragStart:H,onDrag:ee,onDragEnd:ie,onResizeStart:de,onResize:ye,onResizeEnd:ge,deltaScrollLeft:fe,children:_e.jsxs("div",{onMouseDown:()=>{ve.current=!1},onClick:xe=>{let ze;V&&(ze=J(xe),V(xe,{row:i,action:r,time:ze})),!ve.current&&x&&(ze||(ze=J(xe)),x(xe,{row:i,action:r,time:ze}))},onDoubleClick:xe=>{if(j){const ze=J(xe);j(xe,{row:i,action:r,time:ze})}},onContextMenu:xe=>{if(oe){const ze=J(xe);oe(xe,{row:i,action:r,time:ze})}},className:je((ae||[]).join(" ")),style:{height:a},children:[ne&&ne(Ne,mt),se&&_e.jsx("div",{className:je("action-left-stretch")}),se&&_e.jsx("div",{className:je("action-right-stretch")})]})})},$a=s=>{const{rowData:i,style:r={},onClickRow:e,onDoubleClickRow:a,onContextMenuRow:c,areaRef:u,scrollLeft:h,startLeft:v,scale:m,scaleWidth:S,enableRowDrag:b,onRowDragStart:C,rowIndex:T=-1,dragState:E}=s,z=["edit-row"];i?.selected&&z.push("edit-row-selected"),E?.isDragging&&E.draggedIndex===T&&z.push("edit-row-dragging");const k=K.useRef(null),L=P=>{if(!u.current)return 0;const W=u.current.getBoundingClientRect(),V=P.clientX-W.x+h;return Tt(V,{startLeft:v,scale:m,scaleWidth:S})},q=K.useCallback(P=>{!b||!i||T===-1||(P.preventDefault(),P.stopPropagation(),C?.({row:i}))},[b,i,T,C]);return _e.jsxs("div",{className:`${je(...z)} ${(i?.classNames||[]).join(" ")}`,style:r,onClick:P=>{if(i&&e){const W=L(P);e(P,{row:i,time:W})}},onDoubleClick:P=>{if(i&&a){const W=L(P);a(P,{row:i,time:W})}},onContextMenu:P=>{if(i&&c){const W=L(P);c(P,{row:i,time:W})}},children:[b&&i&&_e.jsx("div",{ref:k,className:je("edit-row-drag-handle"),onMouseDown:q,title:"",children:""}),(i?.actions||[]).map(P=>_e.jsx(Ha,{...s,handleTime:L,row:i,action:P},P.id))]})};function Ua(){const[s,i]=K.useState({isMoving:!1,movePositions:[],assistPositions:[]});return{initDragLine:h=>{const{movePositions:v,assistPositions:m}=h;i({isMoving:!0,movePositions:v||[],assistPositions:m||[]})},updateDragLine:h=>{const{movePositions:v,assistPositions:m}=h;i(S=>({...S,movePositions:v||S.movePositions,assistPositions:m||S.assistPositions}))},disposeDragLine:()=>{i({isMoving:!1,movePositions:[],assistPositions:[]})},dragLineData:s,defaultGetAssistPosition:h=>{const{editorData:v,assistActionIds:m,action:S,row:b,scale:C,scaleWidth:T,startLeft:E,cursorLeft:z,hideCursor:k}=h,L=[];m?v.forEach(P=>{P.actions.forEach(W=>{m.includes(W.id)&&L.push(W)})}):v.forEach(P=>{P.id!==b.id?L.push(...P.actions):P.actions.forEach(W=>{W.id!==S.id&&L.push(W)})});const q=Ma(L,{startLeft:E,scale:C,scaleWidth:T});return k||q.push(z),q},defaultGetMovePosition:h=>{const{start:v,end:m,dir:S,scale:b,scaleWidth:C,startLeft:T}=h,{left:E,width:z}=Bn({start:v,end:m},{startLeft:T,scaleWidth:C,scale:b});return S?S==="right"?[E+z]:[E]:[E,E+z]}}}const Ba=(s,i)=>s.reduce((r,e)=>r+(e?.rowHeight||i),0),qa=(s,i)=>s.map(r=>r?.rowHeight||i),Ui=(s,i,r)=>s>=0&&s<=r&&s!==i,Va=({top:s,visible:i})=>!i||s<0?null:_e.jsx("div",{className:je("edit-area-insertion-line"),style:{position:"absolute",left:0,right:0,height:"2px",background:"#4a90e2",zIndex:1e3,pointerEvents:"none",top:s}}),Xa=({top:s,height:i,visible:r})=>r?_e.jsx("div",{className:je("edit-area-drag-preview"),style:{position:"absolute",left:0,right:0,top:s,height:i,background:"rgba(74, 144, 226, 0.3)",border:"2px dashed #4a90e2",borderRadius:"4px",zIndex:1001,pointerEvents:"none",opacity:.8},children:_e.jsx("div",{style:{padding:"8px 16px",color:"#4a90e2",fontSize:"12px",fontWeight:"bold"},children:"..."})}):null,Ya={isDragging:!1,draggedRow:null,draggedIndex:-1,targetIndex:-1,placeholderIndex:-1,originalData:[],insertionLine:{visible:!1,position:"top",index:-1},dragPreview:{visible:!1,top:0,left:0,width:0,height:0}},Ka=K.forwardRef((s,i)=>{const{editorData:r,rowHeight:e,scaleWidth:a,scaleCount:c,startLeft:u,scrollLeft:h,scrollTop:v,scale:m,hideCursor:S=!1,cursorTime:b,onScroll:C,dragLine:T,getAssistDragLineActionIds:E,onActionMoveEnd:z,onActionMoveStart:k,onActionMoving:L,onActionResizeEnd:q,onActionResizeStart:P,onActionResizing:W,enableRowDrag:I=!1,onRowDragStart:V,onRowDragEnd:x,setEditorData:j}=s,{dragLineData:oe,initDragLine:ne,updateDragLine:J,disposeDragLine:ue,defaultGetAssistPosition:fe,defaultGetMovePosition:pe}=Ua(),ve=K.useRef(null),be=K.useRef(null),Ee=K.useRef(-1),Fe=K.useRef({scrollLeft:h,scrollTop:v}),Ie=K.useRef({clientHeight:0,clientWidth:0,scrollHeight:0,scrollLeft:0,scrollTop:0,scrollWidth:0}),[G,F]=K.useState(Ya);K.useImperativeHandle(i,()=>({get domRef(){return ve}}));const se=K.useCallback((ee,ie,de)=>{const ye=[...ee];de>ie&&de<ee.length&&(de=de-1);const[ge]=ye.splice(ie,1);return ye.splice(de,0,ge),ye},[]),U=K.useCallback(ee=>{if(!ve.current)return{index:-1,position:"top"};const ie=ve.current.getBoundingClientRect(),de=ee-ie.top+Fe.current.scrollTop,ye=r.length;let ge=0;if(ye>0&&de<0)return{index:0,position:"top"};for(let Ne=0;Ne<ye;Ne++){const mt=r[Ne]?.rowHeight||e,xe=ge+mt;if(de>=ge&&de<=xe){const ze=Math.abs(de-ge),De=Math.abs(de-xe);return ze<De?{index:Ne,position:"top"}:{index:Ne+1,position:"top"}}ge=xe}return{index:ye,position:"top"}},[r,e]),X=K.useCallback((ee,ie)=>{if(!ve.current)return 0;const de=ve.current.getBoundingClientRect();let ye=ee-de.top;ye-=ie/2;const ge=de.height;return ye=Math.max(0,Math.min(ye,ge-ie)),ye},[v]),Y=K.useCallback(ee=>{let ie=0;for(let de=0;de<ee;de++)ie+=r[de]?.rowHeight||e;return Math.max(0,ie-v)},[r,v,e]),Q=K.useCallback((ee,ie)=>{const de=[...r],ye=ee.rowHeight||e,ge=Y(ie);return{isDragging:!0,draggedRow:ee,draggedIndex:ie,targetIndex:-1,placeholderIndex:ie,originalData:de,insertionLine:{visible:!1,position:"top",index:-1},dragPreview:{visible:!0,top:ge,left:0,width:0,height:ye}}},[r,e,Y]),re=K.useCallback((ee,ie,de,ye)=>ee.targetIndex===ie&&ee.dragPreview.top===de?ee:{...ee,targetIndex:ie,placeholderIndex:ie>ye?ie-1:ie,insertionLine:{visible:ie!==-1&&ie!==ye,position:"top",index:ie},dragPreview:{...ee.dragPreview,top:de}},[]),he=K.useCallback((ee,ie,de,ye)=>{if(Ui(ie,ee,r.length)){const ge=se(r,ee,ie);j(ge),x?.({row:de,editorData:ge})}else j(ye)},[r,se,j,x,Ui]),A=K.useCallback((ee,ie)=>{if(!I)return;const de=Q(ee,ie);F(de),V?.({row:ee});let ye=null,ge=null,Ne=0;const mt=16;let xe=0,ze=!1;const De=Le=>{const Ue=Date.now();if(Ue-Ne>=mt){const ut=U(Le).index,at=X(Le,de.dragPreview.height);F(lt=>re(lt,ut,at,ie)),Ne=Ue}},He=()=>{if(!ze)return ge=requestAnimationFrame(He);if(ve.current&&be.current){const Ue=ve.current.querySelector(".ReactVirtualized__Grid");if(Ue){const st=Ue.getBoundingClientRect(),ut=50,at=10,lt=xe-st.top;if(lt<ut){const Rt=Ue.scrollTop-at;C({...Ie.current,scrollTop:Math.max(0,Rt)}),De(xe)}else if(lt>st.height-ut){const Rt=Ue.scrollTop+at;C({...Ie.current,scrollTop:Math.min(Rt,Ue.scrollHeight-st.height)}),De(xe)}}}ge=requestAnimationFrame(He)};ge=requestAnimationFrame(He);const $e=Le=>{ze=!0,xe=Le.clientY,ye&&cancelAnimationFrame(ye),ye=requestAnimationFrame(()=>{De(xe),ye=null})},Qe=()=>{ze=!1,ye&&(cancelAnimationFrame(ye),ye=null),ge&&(cancelAnimationFrame(ge),ge=null),F(Le=>{const{draggedIndex:Ue,targetIndex:st,originalData:ut,draggedRow:at}=Le,lt={...de,isDragging:!1,draggedIndex:-1,dragPreview:{...de.dragPreview,visible:!1},insertionLine:{...de.insertionLine,visible:!1}};return setTimeout(()=>{he(Ue,st,at,ut)},0),lt}),document.removeEventListener("mousemove",$e),document.removeEventListener("mouseup",Qe)};document.addEventListener("mousemove",$e),document.addEventListener("mouseup",Qe)},[I,V,Q,U,X,re,he,v]),ae=ee=>{if(T){const ie=E&&E({action:ee.action,row:ee.row,editorData:r}),de=ot(b,{scaleWidth:a,scale:m,startLeft:u}),ye=fe({editorData:r,assistActionIds:ie,action:ee.action,row:ee.row,scale:m,scaleWidth:a,startLeft:u,hideCursor:S,cursorLeft:de});ne({assistPositions:ye})}},Te=ee=>{if(T){const ie=pe({...ee,startLeft:u,scaleWidth:a,scale:m});J({movePositions:ie})}},H=({rowIndex:ee,key:ie,style:de})=>{const ye=r[ee];return K.createElement($a,{...s,style:{...de,backgroundPositionX:`0, ${u}px`,backgroundSize:`${u}px, ${a}px`},areaRef:ve,key:ie,rowHeight:ye?.rowHeight||e,rowData:ye,dragLineData:oe,rowIndex:ee,dragState:{isDragging:G.draggedIndex!==-1,draggedIndex:G.draggedIndex},onRowDragStart:ge=>{A(ge.row,ee)},onActionMoveStart:ge=>(ae(ge),k&&k(ge)),onActionResizeStart:ge=>(ae(ge),P&&P(ge)),onActionMoving:ge=>(Te(ge),L&&L(ge)),onActionResizing:ge=>(Te(ge),W&&W(ge)),onActionResizeEnd:ge=>(ue(),q&&q(ge)),onActionMoveEnd:ge=>(ue(),z&&z(ge))})};return K.useLayoutEffect(()=>{be.current?.scrollToPosition({scrollTop:v,scrollLeft:h}),Fe.current={scrollTop:v,scrollLeft:h}},[v,h]),K.useEffect(()=>{be.current?.recomputeGridSize()},[r]),_e.jsxs("div",{ref:ve,className:je("edit-area"),children:[_e.jsx(bn,{children:({width:ee,height:ie})=>{const de=Ba(r,e),ye=qa(r,e);return de<ie&&(ye.push(ie-de),Ee.current!==ie&&Ee.current>=0&&setTimeout(()=>be.current?.recomputeGridSize({rowIndex:ye.length-1}))),Ee.current=ie,_e.jsxs(_e.Fragment,{children:[_e.jsx(rt,{columnCount:1,rowCount:ye.length,ref:be,cellRenderer:H,columnWidth:Math.max(c*a+u,ee),width:ee,height:ie,rowHeight:({index:ge})=>ye[ge]||e,overscanRowCount:10,overscanColumnCount:0,onScroll:ge=>{Ie.current=ge,C(ge)}}),_e.jsx(Va,{top:Y(G.insertionLine.index),visible:G.insertionLine.visible}),_e.jsx(Xa,{top:G.dragPreview.top,height:G.dragPreview.height,visible:G.dragPreview.visible})]})}}),T&&_e.jsx(Na,{scrollLeft:h,...oe})]})}),Za=({setCursor:s,maxScaleCount:i,hideCursor:r,scale:e,scaleWidth:a,scaleCount:c,scaleSplitCount:u,startLeft:h,scrollLeft:v,onClickTimeArea:m,getScaleRender:S})=>{const b=K.useRef(null),C=u>0,T=({columnIndex:k,key:L,style:q})=>{const P=C?k%u===0:!0,W=["time-unit"];P&&W.push("time-unit-big");const I=(C?k/u:k)*e;return _e.jsx("div",{style:q,className:je(...W),children:P&&_e.jsx("div",{className:je("time-unit-scale"),children:S?S(I):I})},L)};K.useEffect(()=>{b.current?.recomputeGridSize()},[a,h]);const E=k=>{switch(k.index){case 0:return h;default:return C?a/u:a}},z=E({index:1});return _e.jsx("div",{className:je("time-area"),children:_e.jsx(bn,{children:({width:k,height:L})=>_e.jsxs(_e.Fragment,{children:[_e.jsx(rt,{ref:b,columnCount:C?c*u+1:c,columnWidth:E,estimatedColumnSize:z,rowCount:1,rowHeight:L,width:k,height:L,overscanRowCount:0,overscanColumnCount:10,cellRenderer:T,scrollLeft:v}),_e.jsx("div",{style:{width:k,height:L},onClick:q=>{if(r)return;const P=q.currentTarget.getBoundingClientRect(),W=q.clientX-P.x,I=Math.max(W+v,h);if(I>i*a+h-v)return;const V=Tt(I,{startLeft:h,scale:e,scaleWidth:a});(m&&m(V,q))!==!1&&s({time:V})},className:je("time-area-interact")})]})})})},Qa=K.forwardRef((s,i)=>{const r=za(s),{style:e}=s;let{effects:a,editorData:c,scrollTop:u,autoScroll:h,hideCursor:v,disableDrag:m,scale:S,scaleWidth:b,startLeft:C,minScaleCount:T,maxScaleCount:E,onChange:z,engine:k,autoReRender:L=!0,onScroll:q}=r;const P=K.useRef(k||new Lo),W=K.useRef(null),I=K.useRef(null),V=K.useRef(null),[x,j]=K.useState(c),[oe,ne]=K.useState(Un),[J,ue]=K.useState(Ia),[fe,pe]=K.useState(!1),[ve,be]=K.useState(Number.MAX_SAFE_INTEGER);K.useLayoutEffect(()=>{Ee(Oa(c,{scale:S})),j(c)},[c,T,E,S]),K.useEffect(()=>{P.current.effects=a},[a]),K.useEffect(()=>{P.current.data=x},[x]),K.useEffect(()=>{L&&P.current.reRender()},[x]),K.useEffect(()=>{V.current&&V.current.setState({scrollTop:u})},[u]);const Ee=F=>{const se=Math.min(E,Math.max(T,F));ne(se)},Fe=F=>{z?.(F)!==!1&&(P.current.data=F,L&&P.current.reRender())},Ie=F=>{let{left:se,time:U=0,updateTime:X=!0}=F;if(typeof se>"u"&&typeof U>"u")return!1;typeof U>"u"&&(typeof se>"u"&&(se=ot(U,{startLeft:C,scale:S,scaleWidth:b})),U=Tt(se,{startLeft:C,scale:S,scaleWidth:b}));let Y=!0;return X&&(Y=P.current.setTime(U),L&&P.current.reRender()),Y&&ue(U),Y},G=F=>{(V.current?.state?.scrollLeft??0)+F>oe*(b-1)+C-ve||V.current&&V.current.setState({scrollLeft:Math.max(V.current.state.scrollLeft+F,0)})};return K.useEffect(()=>{const F=({time:X})=>{Ie({time:X,updateTime:!1})},se=()=>pe(!0),U=()=>pe(!1);P.current.on("setTimeByTick",F),P.current.on("play",se),P.current.on("paused",U)},[]),K.useImperativeHandle(i,()=>({get target(){return W.current},get listener(){return P.current},get isPlaying(){return P.current.isPlaying},get isPaused(){return P.current.isPaused},setPlayRate:P.current.setPlayRate.bind(P.current),getPlayRate:P.current.getPlayRate.bind(P.current),setTime:F=>Ie({time:F}),getTime:P.current.getTime.bind(P.current),reRender:P.current.reRender.bind(P.current),play:F=>P.current.play({...F}),pause:P.current.pause.bind(P.current),setScrollLeft:F=>{V.current&&V.current.setState({scrollLeft:Math.max(F,0)})},setScrollTop:F=>{V.current&&V.current.setState({scrollTop:Math.max(F,0)})}})),K.useEffect(()=>{if(I.current){const F=new ResizeObserver(()=>{I.current&&be(I.current.getBoundingClientRect().width)});return F.observe(I.current),()=>{F&&F.disconnect()}}},[]),_e.jsx("div",{ref:W,style:e,className:`${Nn} ${m?Nn+"-disable":""}`,children:_e.jsx(yi,{ref:V,children:({scrollLeft:F,scrollTop:se,onScroll:U})=>_e.jsxs(_e.Fragment,{children:[_e.jsx(Za,{...r,timelineWidth:ve,disableDrag:m||fe,setCursor:Ie,cursorTime:J,editorData:x,scaleCount:oe,setScaleCount:Ee,onScroll:U,scrollLeft:F}),_e.jsx(Ka,{...r,timelineWidth:ve,ref:X=>I.current=X?.domRef.current,disableDrag:m||fe,editorData:x,cursorTime:J,scaleCount:oe,setScaleCount:Ee,scrollTop:se,scrollLeft:F,setEditorData:Fe,deltaScrollLeft:h?G:()=>{},onScroll:X=>{U(X),q&&q(X)}}),!v&&_e.jsx(Fa,{...r,timelineWidth:ve,disableDrag:fe,scrollLeft:F,scaleCount:oe,setScaleCount:Ee,setCursor:Ie,cursorTime:J,editorData:x,areaRef:I,scrollSync:V,deltaScrollLeft:h?G:void 0})]})})})});pt.Timeline=Qa,Object.defineProperty(pt,Symbol.toStringTag,{value:"Module"})}));
